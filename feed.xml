<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.1.1">Jekyll</generator><link href="https://andelf.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://andelf.github.io/" rel="alternate" type="text/html" /><updated>2021-01-17T00:00:24+08:00</updated><id>https://andelf.github.io/feed.xml</id><title type="html">çŒ«Â·ä»æ³¢åˆ‡</title><subtitle>ä¼šç ”å‘çš„PMæ‰æ˜¯å¥½OP.</subtitle><entry><title type="html">Play with 2.13 inch E-Ink display</title><link href="https://andelf.github.io/blog/2021/01/15/play-with-2-13-inch-e-ink-display/" rel="alternate" type="text/html" title="Play with 2.13 inch E-Ink display" /><published>2021-01-15T01:24:00+08:00</published><updated>2021-01-15T01:24:00+08:00</updated><id>https://andelf.github.io/blog/2021/01/15/play-with-2-13-inch-e-ink-display</id><content type="html" xml:base="https://andelf.github.io/blog/2021/01/15/play-with-2-13-inch-e-ink-display/">&lt;p&gt;æ•…äº‹ä»ä¹°å±å¹•è¯´èµ·ã€‚&lt;/p&gt;

&lt;p&gt;æ— èŠé€›å’¸é±¼ï¼Œå‘ç°æœ‰ä¾¿å®œçš„ç”µå­å¢¨æ°´å±ï¼Œè¿™ç©æ„æ­£å¸¸ä»·æ ¼å¤§å‡ åï¼Œè€Œå’¸é±¼ä¸€ç‰‡ 2.13 å¯¸æ¨¡å—åªéœ€è¦ 15 å—é’±äººæ°‘å¸ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œè¿˜ç­‰å•¥ï¼Œå…ˆæ¥å‡ ç‰‡å‡‘ä¸ªåŒ…é‚®ã€‚&lt;/p&gt;

&lt;p&gt;äº†è§£åˆ°ä¹‹æ‰€ä»¥è¿™ä¹ˆä¾¿å®œï¼Œæ˜¯å› ä¸ºå®é™…ä¸Šæ˜¯æ‹†æœºå±ï¼Œæ‹†çš„æ˜¯ç”µå­ä»·ç­¾ã€‚æ¥è‡ªä¸€èŒ¬åˆä¸€èŒ¬å€’é—­çš„è¶…å¸‚å’Œä¾¿åˆ©åº—ã€‚&lt;/p&gt;

&lt;h2 id=&quot;èƒŒæ™¯&quot;&gt;èƒŒæ™¯&lt;/h2&gt;

&lt;p&gt;ç”µå­å¢¨æ°´å±ï¼Œä¹Ÿå« E-ink, å¢¨æ°´å±ï¼ˆç“¶ï¼‰ï¼Œç”µå­çº¸ï¼Œä¹Ÿç®€å†™ä¸º EPD(Electronic Paper Display)ã€‚&lt;/p&gt;

&lt;p&gt;å’Œä½ ç”¨æ¥å‹æ³¡é¢çš„ Kindle çš„å±å¹•æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚åªä¸è¿‡ä½ çš„ Kindle å±å¹•æ›´å¤§ç´ è´¨æ›´é«˜ï¼Œè€Œè¶…å¸‚ä»·ç­¾è¦å°å¾ˆå¤šï¼Œç›¸å¯¹ä½æˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/Electronic_paper_%28Side_view_of_Electrophoretic_display%29_in_svg.svg/2560px-Electronic_paper_%28Side_view_of_Electrophoretic_display%29_in_svg.svg.png&quot; alt=&quot;E-Ink technology&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¦‚ä¸Šæ¥è‡ªç»´åŸºï¼ŒåŸç†ä¸€ç›®äº†ç„¶ã€‚&lt;/p&gt;

&lt;p&gt;ä¸éœ€è¦æ‰¯ä»€ä¹ˆ gate ä»€ä¹ˆçš„ï¼Œæ¯ä¸ªåƒç´ æ˜¯ä¸€ä¸ªå°èƒ¶å›Šï¼Œé¡¶éƒ¨æ˜¯å…¬å…± \(V_{com}\) ç”µå‹ï¼Œé€æ˜ã€‚
åº•é¢æ˜¯é©±åŠ¨èŠ¯ç‰‡åœ¨å±å¹•æ¯ä¸€è¡Œæ¯ä¸€åˆ—åƒç´ çš„è¾“å‡ºç”µå‹ï¼Œå¯æ­£å¯è´Ÿï¼ˆç›¸å¯¹äº \(V_{com}\)ï¼‰ï¼Œèƒ¶å›Šå†…éƒ¨æ˜¯å¯¹ç”µåœºæ–¹å‘æœ‰ååº”çš„å¸¦ç”µé¢œè‰²å¾®ç²’ã€‚
ä¸åŒç”µå‹ä¸åŒæ—¶é•¿ä½œç”¨ä¸‹ï¼Œèƒ¶å›Šé¡¶éƒ¨ä¸Šçš„å¾®ç²’åˆ†å¸ƒæƒ…å†µä¸åŒï¼Œè‚‰çœ¼çœ‹åˆ°çš„åƒç´ æ·±æµ…å°±ä¸åŒã€‚&lt;/p&gt;

&lt;p&gt;å±å¹•çš„é©±åŠ¨èŠ¯ç‰‡ï¼Œå’Œæˆ‘ä»¬å¸¸è§çš„ IC èŠ¯ç‰‡é‚£ç§é»‘è‰²å—å¸¦å¼•è„šæ˜¯ä¸åŒçš„ï¼Œå±å¹•é©±åŠ¨èŠ¯ç‰‡ä¸€èˆ¬å’Œå±å¹•ä¸€èµ·å°è£…ï¼Œ
å¯¹åº”å±å¹•çš„è¡Œåˆ—æœ‰è¾“å‡ºã€‚å¯¹å¤–æš´éœ²æ¥å£ï¼Œç‰©ç†ä¸Šä¸€èˆ¬æ˜¯æ’çº¿ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‡†å¤‡å¼€æ&quot;&gt;å‡†å¤‡å¼€æ&lt;/h2&gt;

&lt;p&gt;å±å¹•æ¨¡å—åˆ°æ‰‹ã€‚æ˜¾ç¤ºâ€œå¾®é›ªç”µå­â€ï¼Œé‚£å½“ç„¶æ˜¯ä¸å¯èƒ½çš„ï¼Œè¿™åªæ˜¯å› ä¸ºé»˜è®¤ç”¨äº†å¾®é›ªçš„ç¤ºä¾‹ä»£ç å‡ºå‚æµ‹è¯•ã€‚
å¢¨æ°´å±çš„ç‰¹ç‚¹å°±æ˜¯æ–­ç”µç”»é¢é©»ç•™ï¼Œä¹Ÿå¯ä»¥è¯´ä¿æŒæ˜¾ç¤ºçŠ¶æ€ä¸éœ€è¦ä¾›ç”µã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104638297-f5b6e800-56e0-11eb-93d6-0bc0fde0d475.jpg&quot; alt=&quot;Boards&quot; /&gt;&lt;/p&gt;

&lt;p&gt;åˆå½±æ˜¯ä¸€åªå‡‘å•çš„ STM32F4 æ¿å­ï¼ˆæœ¬ä¾‹æœªç”¨åˆ°ï¼‰ï¼Œä¸€åª ESP8266ï¼ˆå°±å‡†å¤‡ç”¨å®ƒæ¥é©±åŠ¨å±å¹•äº†ï¼‰ï¼Œå’Œå±å¹•æ¨¡å—ï¼ˆä¸»è§’ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€å…±éœ€è¦å…«æ ¹çº¿é©±åŠ¨ã€‚ç†Ÿæ‚‰çš„ SPI + CS + DC å¼ï¼Œå’Œå¤šæ•° SPI æ¥å£çš„ LCD / TFT-LCD å±å¹•æ¥å£ç±»ä¼¼ã€‚&lt;/p&gt;

&lt;p&gt;ä¸åŒçš„æ˜¯å¤šäº†ä¸€ä¸ª BUSY pinï¼Œè¿™æ˜¯å¢¨æ°´å±ç‰¹æœ‰çš„è¾“å‡ºä¿¡å·ï¼Œè¡¨ç¤ºå±å¹•æ­£åœ¨åˆ·æ–°ï¼Œå…¶ä»–æ“ä½œéœ€è¦ MCU å»¶åã€‚&lt;/p&gt;

&lt;p&gt;å‘ŠçŸ¥è¯¥æ¨¡å—å…¼å®¹å¾®é›ª 2.13 å¯¸é»‘ç™½å±å¹• v1 ç‰ˆã€‚å‚æ•°å¦‚ä¸‹:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å°ºå¯¸ï¼š 2.13 inch&lt;/li&gt;
  &lt;li&gt;å¤–å½¢å°ºå¯¸ï¼ˆè£¸å±ï¼‰ï¼š59.2mm Ã— 29.2mm Ã— 1.05mm&lt;/li&gt;
  &lt;li&gt;æ˜¾ç¤ºå°ºå¯¸ï¼š48.55mm Ã— 23.71mm&lt;/li&gt;
  &lt;li&gt;å·¥ä½œç”µå‹ï¼š3.3V/5V&lt;/li&gt;
  &lt;li&gt;é€šä¿¡æ¥å£ï¼šSPI&lt;/li&gt;
  &lt;li&gt;ç‚¹è·ï¼š0.194*0.194&lt;/li&gt;
  &lt;li&gt;åˆ†è¾¨ç‡ï¼š250*122&lt;/li&gt;
  &lt;li&gt;æ˜¾ç¤ºé¢œè‰²ï¼šé»‘ã€ç™½&lt;/li&gt;
  &lt;li&gt;ç°åº¦ç­‰çº§ï¼š2&lt;/li&gt;
  &lt;li&gt;å±€éƒ¨åˆ·æ–° ï¼š0.3s&lt;/li&gt;
  &lt;li&gt;å…¨å±€åˆ·æ–° ï¼š2s&lt;/li&gt;
  &lt;li&gt;åˆ·æ–°åŠŸè€— ï¼š 26.4mW(typ.)&lt;/li&gt;
  &lt;li&gt;å¾…æœºåŠŸè€— ï¼š&amp;lt;=0.017mW&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æŸ¥è¯¢æ¨¡å—æ‰‹å†Œï¼Œå¾—çŸ¥è¯¥æ˜¾ç¤ºå±é©±åŠ¨èŠ¯ç‰‡æ˜¯ IL3895, æ¥è‡ª Good Display(å¤§è¿ä½³æ˜¾)ã€‚
å±å¹•æ’çº¿ä¸Šæœ‰å‹å· HINK-E0213A04-G01(HINK-E0213-G01).&lt;/p&gt;

&lt;h3 id=&quot;esp8266&quot;&gt;ESP8266&lt;/h3&gt;

&lt;p&gt;ESP8266 ç®—æ˜¯è¾ƒæ¨èçš„å¢¨æ°´å±ä¹‹å‹ï¼ŒIO æ¥å£ä¸å¤šä½†å¤Ÿç”¨ï¼Œå¸¦ WiFi åŠŸèƒ½, é€‚åˆåšè¿™ç±»æ˜¾ç¤ºå±å°åˆ¶ä½œã€‚
å¯ä»¥è½»æ˜“æ‰¾åˆ°å„ç±»å¤©æ°”æ—¶é’Ÿç­‰ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;æ¨èç¼–ç¨‹ç¯å¢ƒ Arduino. çœäº‹ã€‚éœ€è¦å®‰è£… &lt;a href=&quot;https://github.com/esp8266/Arduino&quot;&gt;ESP8266 Board Support åº“&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;æˆ‘è¿™é‡Œçš„ ESP8266 æ¿å­æ˜¯ä¸€åª NodeMCU DevKit å…¼å®¹æ¿ã€‚æœ€æ™®é€šä¸è¿‡ï¼Œä½†æ¯”è¾ƒéº»çƒ¦çš„æ˜¯å®ƒçš„ç®¡è„šæ ‡ç­¾å’Œæ ‡å‡†çš„ ESP8266 GPIO
ä¹‹é—´æœ‰ä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104639665-a2de3000-56e2-11eb-9396-04cf946880bd.png&quot; alt=&quot;NodeMCU GPIOs&quot; /&gt;
(ref: &lt;a href=&quot;https://www.electronicwings.com/nodemcu/nodemcu-gpio-with-arduino-ide&quot;&gt;https://www.electronicwings.com/nodemcu/nodemcu-gpio-with-arduino-ide&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;ææ¸…æ¥šæ˜ å°„å…³ç³»ï¼Œå†™ä»£ç å°±ä¸ä¼šé”™äº†ã€‚&lt;/p&gt;

&lt;p&gt;å®˜æ–¹æœ‰å‡ºå”®ä¸“é—¨çš„ ESP8266 é©±åŠ¨æ¿ï¼Œé›†æˆäº† ESP8266, åªéœ€è¦æŒ‰ç…§ç›¸åŒçš„æ¥çº¿ï¼Œå³å¯ä½¿ç”¨å®˜æ–¹ä¾‹ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;æ¥çº¿æ–¹å¼:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;EPD board&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;NodeMCU pin&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;ESP8266 pin&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;description&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;BUSY&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;GPIO5&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;å±å¹•åˆ·æ–°å¿™&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;RES/RST&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D4&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;å¤ä½&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DC&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;Data/Command ä¿¡å·&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CS&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;15&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;ç‰‡é€‰&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CLK/SCK&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D5&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;14&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;SPI æ—¶é’Ÿ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;DIN/SDA&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;D7&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;SPI MOSI&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¸¸è¯† VCC = 3.3V, GND æ¥åœ°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å±å¹•å®˜æ–¹ä¾‹ç¨‹&quot;&gt;å±å¹•å®˜æ–¹ä¾‹ç¨‹&lt;/h3&gt;

&lt;p&gt;è™½ç„¶ä¸æ˜¯å®˜æ–¹æ­£ç‰ˆï¼Œåªæ˜¯ä¸ªæ‹†æœºå±æ¨¡å—ï¼Œä½†å¥½åœ¨å±å¹•å‹å·ä¸€è‡´ï¼Œå…¨å…¼å®¹å¾®é›ªå®˜æ–¹ä¾‹ç¨‹ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.waveshare.net/wiki/E-Paper_ESP8266_Driver_Board&quot;&gt;å®˜æ–¹ ESP8266 é©±åŠ¨æ¿åŠä¾‹ç¨‹&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®˜æ–¹ä¾‹ç¨‹è§£å‹åå­ç›®å½•å¤åˆ¶åˆ° Arduino libraries ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åå°±å¯ä»¥ç›´æ¥ä» Arduino çš„ File-&amp;gt;Examples èœå•æ‰“å¼€ä¾‹ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ç¨‹å‹ç¼©åŒ…ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extras/&lt;/code&gt; ç›®å½•ï¼Œå…¶å®å°±æ˜¯å®˜æ–¹é©±åŠ¨ï¼Œæ‰€æœ‰çš„ä¸åŒå‹å·å±å¹•çš„ä¾‹ç¨‹ï¼Œéƒ½ä¾èµ–é©±åŠ¨åº“ã€‚&lt;/p&gt;

&lt;p&gt;è¯¥æ¬¾å±å¹•çš„ä¾‹ç¨‹æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;waveshare-e-Paper/epd2in13-demo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;è®¾å¤‡é€‰æ‹© NodeMCU æˆ– Generic EPS8266, ç¼–è¯‘ä¸Šä¼ ä¾‹ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;å±å¹•å™Œå™Œé—ªåŠ¨å‡ ä¸‹ï¼Œæ¸…å±åï¼Œå¼€å§‹æ‰§è¡Œä¾‹ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104642461-e4bca580-56e5-11eb-9a8f-ea2c7a38da22.jpg&quot; alt=&quot;Official Demo&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å±å¹•å³ä¸‹è§’çš„æ—¶é—´æ˜¾ç¤ºï¼Œç§’ä½åœ¨ä¸åœå˜åŠ¨ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ç¨‹ä¸­å¯ä»¥çœ‹åˆ°åŸºç¡€ç»˜å›¾ï¼Œä¸­è‹±æ–‡æ•°å­—æ˜¾ç¤ºï¼Œæ—¶é—´æ˜¾ç¤ºï¼ˆå±€éƒ¨åˆ·æ–°åŠŸèƒ½ï¼‰ã€‚ç…§ç€æ”¹æ”¹å¯ä»¥æ•´å‡ºä¸å°‘å¥½ç©çš„ã€‚
å†åŠ ä¸Š ESP8266 çš„ WiFi åŠŸèƒ½ï¼Œæƒ³è±¡åŠ›è¶³å¤Ÿã€‚&lt;/p&gt;

&lt;h3 id=&quot;end-of-get-start&quot;&gt;End of get start&lt;/h3&gt;

&lt;p&gt;è‡³æ­¤ï¼Œå±å¹•è·‘é€šã€‚ç”»ç”»å›¾ï¼Œæ”¹æ”¹æ–‡å­—ï¼Œçš†å¤§æ¬¢å–œã€‚ğŸ¤ª&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ä»¥ä¸‹æ˜¯å¹²è´§éƒ¨åˆ†ã€‚éœ€è¦çŸ¥è¯†é¢„å¤‡:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;äºŒè¿›åˆ¶ä½è¿ç®—çŸ¥è¯†&lt;/li&gt;
  &lt;li&gt;æ•°å­—ç”µå­åŸºç¡€&lt;/li&gt;
  &lt;li&gt;ç”µè·¯åŸºç¡€&lt;/li&gt;
  &lt;li&gt;è®¡ç®—æœºå›¾å½¢å­¦åŸºç¡€æ¦‚å¿µ&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ä¸­æ–‡æ˜¾ç¤º&quot;&gt;ä¸­æ–‡æ˜¾ç¤º&lt;/h2&gt;

&lt;p&gt;çœ‹åˆ°ä¾‹ç¨‹ä¸­ç›´æ¥æœ‰ä¸­æ–‡æ˜¾ç¤ºè¯­å¥ï¼Œæš—çˆ½ä¸æ˜¯ï¼Ÿ&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Paint_DrawString_CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ä½ å¥½abc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font12CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BLACK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_DrawString_CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;65&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;**ç”µå­&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font24CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BLACK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;äºæ˜¯æ”¹æˆâ€œä½ å¥½ä¸–ç•Œâ€ï¼Œç„¶è€Œåªè§â€œä½ å¥½â€ä¸è§â€œä¸–ç•Œâ€ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œå®˜æ–¹ä¾‹ç¨‹ï¼ˆé©±åŠ¨ï¼‰é‡Œæ²¡æœ‰å®Œæ•´å­—åº“ï¼Œåªæœ‰æµ‹è¯•æ—¶å€™å±å¹•ä¸Šå‡ºç°çš„é‚£å‡ ä¸ªæ±‰å­—ã€‚æ‰€ä»¥éœ€è¦åŠ å­—åº“ï¼&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬èƒ½æ¥è§¦åˆ°çš„ç»å¤§å¤šæ•°å±å¹•ï¼Œéƒ½æ˜¯ç‚¹é˜µå±ã€‚
æ‰€è°“å­—åº“ï¼Œå°±æ˜¯å­—ç¬¦ç¼–ç åˆ°å›¾å½¢è±¡ç´ ç‚¹çš„æ˜ å°„ã€‚æ‰€ä»¥è¿™é‡Œè¦å¢åŠ ç¼ºå¤±çš„å­—å‹ï¼Œæ€ä¹ˆæ•´ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å…ˆçœ‹çœ‹å®˜æ–¹æ€ä¹ˆå®ç°çš„ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œå­—åº“è¿˜æœ‰å…¶ä»–æ„æ€ï¼Œåœ¨æ‰‹æœºç»´ä¿®ç•Œï¼Œå­—åº“ä¹ŸæŒ‡ ROM èŠ¯ç‰‡ã€‚
è¿™æ˜¯å†å²é—ç•™é—®é¢˜äº†ï¼Œå½“å¹´å­—åº“éƒ½å­˜åœ¨ä¸“é—¨çš„èŠ¯ç‰‡é‡Œã€‚
å­—åº“å’Œå­—åº“èŠ¯ç‰‡åœ¨å¾ˆå¤šåœºåˆä¸åŒºåˆ†ã€‚è¿™é‡Œå«å­—åº“ï¼Œå…¶å®æ˜¯å­—æ¨¡ï¼Œå³æ±‰å­—çš„æ¨¡å‹ï¼Œå¯¹åº”çš„äºŒè¿›åˆ¶æ•°æ®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®˜æ–¹é©±åŠ¨å­—åº“æ ¼å¼&quot;&gt;å®˜æ–¹é©±åŠ¨å­—åº“æ ¼å¼&lt;/h3&gt;

&lt;p&gt;æ‰¾åˆ°é©±åŠ¨ç›®å½• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/Documents/Arduino/libraries/esp8266-waveshare-epd&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/&lt;/code&gt; ç›®å½•ä¸‹ï¼Œæ‰¾åˆ°è‹¥å¹² &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font*.cpp&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font*.h&lt;/code&gt; æ–‡ä»¶å°±æ˜¯å­—åº“äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font12CN&lt;/code&gt; å­—ä½“ï¼Œå¾®è½¯é›…é»‘ 12:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CH_CN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font12CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/*--  æ–‡å­—:  ä½   --*/&lt;/span&gt;
    &lt;span class=&quot;cm&quot;&gt;/*--  å¾®è½¯é›…é»‘12;  æ­¤å­—ä½“ä¸‹å¯¹åº”çš„ç‚¹é˜µä¸ºï¼šå®½xé«˜=16x21   --*/&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ä½ &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x7E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x76&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xF8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x73&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;A&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x0E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x71&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x71&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;cFONT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font12CN&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Font12CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font12CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CH_CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/*size of table*/&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ASCII Width */&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* Width */&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* Height */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜æ˜¾çœ‹åˆ°ä¸­æ–‡å­—åº“åˆ†ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯å­—å‹è¡¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Font12CN_Table&lt;/code&gt;, ä¸€éƒ¨åˆ†æ˜¯é…ç½®ç»“æ„ä½“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Font12CN&lt;/code&gt;.
å­—å‹è¡¨å³å­—çš„è±¡ç´ ç‚¹äºŒè¿›åˆ¶è¡¨ç¤ºã€‚å› ä¸ºä¸­æ–‡å­—ç¬¦è¾ƒå¤šï¼Œä¸ºèŠ‚çœç©ºé—´å­—åº“åªæœ‰ä¾‹ç¨‹æ‰€éœ€æ±‰å­—ï¼Œ
æ‰€ä»¥æ¯æ¡è®°å½•ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯ä¸­æ–‡æ±‰å­—ï¼Œç”¨äºç´¢å¼•ã€‚
è€Œå¯¹äºè‹±æ–‡å­—åº“æ¥è¯´ï¼Œå­—ç¬¦æ˜¯è¿ç»­çš„ï¼Œä¸”æ€»ä½“å ç”¨ç©ºé—´è¾ƒå°ï¼Œä¸€èˆ¬ä½¿ç”¨è¿ç»­å­—èŠ‚å—è¡¨ç¤ºã€‚&lt;/p&gt;

&lt;p&gt;ä»é…ç½®ç»“æ„æˆ‘ä»¬å¯ä»¥å¾—çŸ¥ï¼Œè¯¥å­—å‹å®½ 16 ä½ï¼Œé«˜ 21 ä½ï¼Œå³ä¸¤ä¸ªå­—èŠ‚è¡¨ç¤ºä¸€è¡Œè±¡ç´ ï¼Œä¸€å…± 21 è¡Œã€‚
æˆ‘ä»¬å¯ä»¥å†™ä¸ªè„šæœ¬å±•ç¤ºä¸‹:&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1D&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x07&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x7E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x76&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xF8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFB&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xFE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x77&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x73&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# group by 2 -&amp;gt; to 0-1 -&amp;gt; padding with 0
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%08d%08d&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;.&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;1&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¾—åˆ°å‘½ä»¤è¡Œä¸‹è¾“å‡º:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;................
................
................
................
...***.***......
...***.**.......
..***.**********
..***.**.....***
..******.***.***
.******..***.**.
*****....***....
*****.*********.
*****.*********.
..******.***.***
..******.***.***
..*****..***..**
..***....***....
..***....***....
..***.*****.....
................
................
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸€ä¸ªæ±‰å­—è¢«è§£æäº†å‡ºæ¥ï¼Œä»¥ç‚¹é˜µçš„æ–¹å¼å±•ç¤ºã€‚ä¸Šæ–¹å’Œä¸‹æ–¹çš„ 0, ç”¨äºè¡Œé—´è·ã€‚
åœ¨å®é™…åº”ç”¨ä¸­å¯ä»¥çœå»ï¼ŒèŠ‚çº¦ç©ºé—´ã€‚&lt;/p&gt;

&lt;p&gt;è€Œé…ç½®ä¸­çš„ ASCII Width 11 è¡¨ç¤ºè¯¥ä¸­æ–‡å­—ä½“ä¸­çš„ ASCII å­—ç¬¦å®½åº¦ã€‚å› ä¸ºåŠè§’å…¨è§’çš„å…³ç³»ï¼Œ
ä¸­æ–‡å­—ä½“ä¸­çš„åŠè§’è‹±æ–‡å­—ç¬¦(ASCII)ç›¸å¯¹æ¥è¯´å®½åº¦éƒ½ä¸è¶³ä¸€å­—ï¼Œä¸ºäº†æ˜¾ç¤ºæ•ˆæœï¼Œä¸ç•™è¿‡å¤šå­—é—´è·ï¼Œ
ä¸¢å¼ƒå¤šä½™ä½ä¸ç”¨ï¼Œæ‰€ä»¥è¿™é‡Œå•ç‹¬æœ‰ä¸€ä¸ªé…ç½®é¡¹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x0E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;...:&lt;/span&gt;     &lt;span class=&quot;mh&quot;&gt;0x1F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x3B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x71&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x7F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x71&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xC0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
     &lt;span class=&quot;p&quot;&gt;...:&lt;/span&gt;     &lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0xE0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;%08d%08d&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]),&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;char&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;0&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;.&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;1&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;*&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# outputs:
&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&quot;
................
................
................
................
................
....***.........
...*****........
...*****........
...*****........
..***.***.......
..***.***.......
.***...**.......
.*********......
.***...***......
***.....***.....
***.....***.....
***.....***.....
................
................
................
................
&quot;&quot;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ç”Ÿæˆå­—åº“&quot;&gt;ç”Ÿæˆå­—åº“&lt;/h3&gt;

&lt;p&gt;ææ˜ç™½äº†åŸç†å’Œæ ¼å¼ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç”Ÿæˆæ‰€éœ€çš„å­—åº“äº†ã€‚ç½‘ä¸Šæœ‰éå¸¸å¤šçš„ Windows ä¸‹å°å·¥å…·å¯ä»¥åšã€‚
ä½†æˆ‘è¿™ä¹ˆè‚ï¼Œå°±è‡ªå·±å†™äº†ã€‚ä»£ç æ¥è‡ªä¹‹å‰ç»™ TFT-LCD å†™çš„æŠ å­—æ¨¡å°è„šæœ¬å„¿ã€‚&lt;/p&gt;

&lt;p&gt;åŸç†å¾ˆç®€å•ï¼Œç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Pillow/PIL&lt;/code&gt; å³å¯ã€‚å…ˆæŠŠéœ€è¦çš„å­—ç”»åœ¨å›¾ç‰‡ä¸Šï¼Œç„¶åè¯»å–è±¡ç´ ç‚¹ï¼Œç§»ä½ç”Ÿæˆå¯¹äºå­—èŠ‚è¡¨ç¤ºã€‚
æœ€åæœ€å¥½ç›´æ¥ç”Ÿæˆ C ä»£ç ï¼Œå°±ä¸‡äº‹å¤§å‰ã€‚&lt;/p&gt;

&lt;p&gt;è€Œå­—ä½“é€‰æ‹©ï¼Œä¸€èˆ¬ä½¿ç”¨ç‚¹é˜µå­—ä½“è€ŒéçŸ¢é‡å­—ä½“ï¼ŒçŸ¢é‡å­—ä½“åœ¨æ¸²æŸ“çš„æ—¶å€™è¾¹ç¼˜éƒ½æ˜¯å¸¦ç°é˜¶çš„ï¼Œ
å¦‚æœå¿½ç•¥ç°é˜¶ç›´æ¥äºŒå€¼åŒ–ï¼Œä¼šå¯¼è‡´æœ€ç»ˆå­—å‹é”¯é½¿ä¸¥é‡ï¼Œä¸‘ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æ–¹ä¾¿å¤„ç†ï¼Œè¿™é‡Œé€‰ç”¨å¼€æºçš„ç­‰å®½å­—ä½“&lt;a href=&quot;http://wenq.org/wqy2/index.cgi?Unibit&quot;&gt;æ–‡æ³‰é©¿ç‚¹é˜µå­—ä½“ Unibit&lt;/a&gt;.
ä»¥ä¸­æ–‡ç‚¹é˜µæœ€å¸¸è§çš„ 16x16 è¾“å‡ºã€‚æ­£å¥½ä¸¤ä¸ªå­—èŠ‚å®½ï¼Œ16 è¡Œé«˜ï¼Œä¸€ä¸ªæ±‰å­— 32 å­—èŠ‚ã€‚
è‹±æ–‡å­—ç¬¦ä¹Ÿæ­£å¥½æ˜¯ä¸­æ–‡å­—ç¬¦å®½åº¦çš„ä¸€åŠã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä½ å¯ä»¥éšä¾¿ä»ç³»ç»Ÿæ‰¾ä¸ªä¸­æ–‡å­—ä½“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†åœ¨é»‘ç™½ï¼ˆæ— ç°åº¦ï¼‰å±å¹•ä¸Šè¾¾åˆ°æœ€å¥½æ•ˆæœï¼Œéœ€è¦ä½å›¾å­—ä½“(bitmap font, raster font, pixel font),
å¦åˆ™çŸ¢é‡å­—ä½“åœ¨æ¸²æŸ“çš„è¿‡ç¨‹ä¸­ä¼šæœ‰ç°é˜¶è¾¹ç¼˜ï¼Œæœ€ç»ˆå±å¹•æ•ˆæœé”¯é½¿æ˜æ˜¾ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# å®‰è£…ä¾èµ–&lt;/span&gt;

pip3 &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;Pillow

&lt;span class=&quot;c&quot;&gt;# ç”¨äºå­—ä½“ç¼©æ”¾çš„ä¾èµ–åº“&lt;/span&gt;
brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;libraqm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;PIL&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ImageDraw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ImageFont&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;PIL.features&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# brew install libraqm
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PIL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;raqm&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;libraqm required&quot;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ç”»å¸ƒå¤§å°
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;320&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# é»‘ç™½æ ¼å¼
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FORMAT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;1&apos;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;FG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Y offset, å¤šæ•°å­—ä½“æœ‰è‡ªå¸¦è¡Œé—´è·ï¼Œå¯ä»¥ç”¨æ­¤å‚æ•°æ¶ˆé™¤è¡Œé—´è·
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;YOFF&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# or -1
&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;CHARS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;æ™´å¤©å§æ§½å¯ä»¥äº†ï¼ä½ å¥½ä¸–ç•Œæœ€æ€•ä½ ä¸€ç”Ÿç¢Œç¢Œæ— ä¸ºï¼Œè¿˜å®‰æ…°è‡ªå·±å¹³å‡¡å¯è´µã€‚é›¾éœ¾&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;CHARS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CHARS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FORMAT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;font&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ImageFont&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;truetype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Unibit.ttf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ImageDraw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ä»£ç æ®µç”¨äºæ£€æŸ¥å­—ä½“æ¸²æŸ“
# draw.text((0, YOFF), CHARS, font=font, fill=FG, language=&apos;zh-CN&apos;)
# im.save(&apos;font.png&apos;)
# im.show()
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rectangle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CHARS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;charmap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;YOFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;font&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;charmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;charmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xFF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rectangle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;&quot;{}&quot;, {}&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&apos;, &apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0x%02x&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;charmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;},&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç›´æ¥è¾“å‡º C ä»£ç ç‰‡æ®µ:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ä¸€&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ç”Ÿ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ç¢Œ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xc8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ç¢Œ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x78&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xc8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x79&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x4a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xa0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;æ— &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x7f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x84&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x84&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x7c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ä¸º&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x7f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x88&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x04&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x08&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ä½¿ç”¨å­—åº“&quot;&gt;ä½¿ç”¨å­—åº“&lt;/h3&gt;

&lt;p&gt;è¦æƒ³ä½¿ç”¨å­—ä½“ï¼Œæˆ‘ä»¬éœ€è¦æ–°å»ºä¸€ä¸ªå­—ä½“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.h&lt;/code&gt; æ–‡ä»¶ï¼Œå°±å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ch_font.h&lt;/code&gt;ï¼Œåœ¨é¡¹ç›®ç›®å½•å³å¯ï¼Œä¸éœ€è¦ä¿®æ”¹é©±åŠ¨åº“:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
&lt;span class=&quot;cp&quot;&gt;#include &quot;fonts.h&quot;
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CH_CN&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font16CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ä¸€&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;ç”Ÿ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x81&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xf8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xff&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xfe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ... è¿™é‡Œå†™å…¥å‰©ä½™å­—å‹&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;cFONT&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font16CN&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Font16CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font16CN_Table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CH_CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;  &lt;span class=&quot;cm&quot;&gt;/*size of table*/&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ASCII Width */&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* Width */&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* Height */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½¿ç”¨:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#include &quot;cn_font.h&quot;
&lt;/span&gt;

&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Paint_DrawString_CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;å§æ§½å¯ä»¥äº†ï¼&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font16CN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BLACK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;EPD_2IN13_Display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ•ˆæœå¤§æ¦‚æ˜¯(å¿˜è®°æ‹ç…§äº†ï¼Œè¿™é‡Œæ˜¯å¦å¤–ä¸€ä¸ªå¼€æºå­—ä½“ Sarasa):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104683643-4a368380-5732-11eb-9711-39846547dee2.jpg&quot; alt=&quot;1203877657&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œæ¯’é¸¡æ±¤ã€‚è‡³æ­¤ä¸­æ–‡å­—ä½“æå®šï¼Œå…¶ä»– CJK å­—ä½“åŒç†ã€‚&lt;/p&gt;

&lt;p&gt;è€Œè‹±æ–‡å­—ä½“å°±æ›´ç®€å•äº†ï¼Œå‚è€ƒå…¶ä»–é©±åŠ¨ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;font*&lt;/code&gt; æ–‡ä»¶å³å¯ã€‚å­—å‹ç”Ÿæˆä»£ç ç•¥æ”¹å³å¯ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“åˆ¶ä½œä¸­å¯ä»¥æ··åˆä¸­è‹±æ–‡å¤§å°å­—ä½“ï¼Œè¿˜å¯ä»¥é€‰æ‹©ä¾‹å¦‚æ•°ç ç®¡å­—ä½“ç­‰æ–¹æ¡ˆï¼Œå®Œæˆå¸ƒå±€ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104816434-21a7aa00-5856-11eb-9dd3-dc05255c8cdb.jpg&quot; alt=&quot;Mixed Font&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;å…¶ä»–æ˜¾ç¤ºéœ€æ±‚&quot;&gt;å…¶ä»–æ˜¾ç¤ºéœ€æ±‚&lt;/h2&gt;

&lt;h3 id=&quot;å›¾ç‰‡æ˜¾ç¤º&quot;&gt;å›¾ç‰‡æ˜¾ç¤º&lt;/h3&gt;

&lt;p&gt;å¢¨æ°´å±æœ€çƒ‚å¤§è¡—çš„åº”ç”¨ï¼Œå¤§æ¦‚å°±æ˜¯å¤©æ°”æ—¶é’Ÿäº†ï¼Œå„å¼å„æ ·ï¼Œå„ç§å°ºå¯¸ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¾ç¤ºæ–‡å­—ä¿¡æ¯çš„äº‹æƒ…ï¼Œä¸Šé¢æˆ‘ä»¬å·²ç»é€šè¿‡è‡ªå®šä¹‰å­—åº“æå®šäº†ï¼Œ
å‘æŒ¥æƒ³è±¡åŠ›å¯ä»¥æå‡ºè¯¸å¦‚æ•°ç ç®¡å­—ä½“ï¼Œæ‰‹å†™å­—ä½“ï¼Œç­‰å„ç§é€‚åˆåœ¨å¢¨æ°´å±ä¸Šå®ç°çš„æ˜¾ç¤ºæ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;ä½†é—®é¢˜æ¥äº†ï¼Œæˆ‘æƒ³æä¸ªå¤©æ°”å›¾æ ‡ç¬¦å·æ˜¾ç¤ºï¼Œæ¯”å¦‚ï¼Œ&lt;a href=&quot;http://www.weather.com.cn/&quot;&gt;ä¸­å›½å¤©æ°”ç½‘&lt;/a&gt; é‚£æ ·çš„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104684474-165c5d80-5734-11eb-8850-9216e07a9dca.png&quot; alt=&quot;weather&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å®˜æ–¹ä¾‹ç¨‹é‡Œå…¶å®æœ‰å…¨å±å›¾ç‰‡æ˜¾ç¤ºä¾‹å­ï¼Œå¯ä»¥çœ‹åˆ°ç›¸å…³çš„è°ƒç”¨å‡½æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Paint_DrawBitMap&lt;/code&gt;ã€‚
åŒæ—¶é©±åŠ¨åº“é‡Œä¹Ÿæä¾›äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Paint_DrawImage(buf, x_start, y_start, img_width, img_height)&lt;/code&gt;
å‡½æ•°ç”¨äºåœ¨ä»»æ„ä½ç½®æ˜¾ç¤ºä»»æ„å¤§å°å›¾ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹ä¸€çœ¼é©±åŠ¨åº“é‡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Paint_DrawImage&lt;/code&gt; ä»£ç ï¼Œå¥½åƒå“ªé‡Œä¸å¯¹ï¼Œåªæ”¯æŒå®½åº¦è±¡ç´ æ˜¯ 8 å€æ•°çš„å›¾ç‰‡ã€‚
æ”¹ä¹Ÿç®€å•ï¼Œç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Paint_SetPixel&lt;/code&gt; å‡½æ•°æ›¿æ¢å³å¯ï¼Œç®€å•çš„ä½è¿ç®—ã€‚&lt;/p&gt;

&lt;p&gt;ç°åœ¨é—®é¢˜æ˜¯æ€ä¹ˆç”Ÿæˆä¸€å¼ ç”¨äºæ˜¾ç¤ºçš„å›¾ç‰‡ã€‚å…¶å®å’Œä¸Šé¢çš„å­—åº“éå¸¸ç±»ä¼¼ï¼Œå°±æ˜¯ç”¨äºŒè¿›åˆ¶ä½å»æ˜ å°„è±¡ç´ ç‚¹ã€‚
ç„¶åç”Ÿæˆ C æ•°ç»„ã€‚ç”šè‡³æ ¸å¿ƒä»£ç é€»è¾‘ä¹Ÿå·®ä¸å¤šã€‚&lt;/p&gt;

&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯å›¾ç‰‡åªèƒ½æ˜¯é»‘ç™½äºŒå€¼å›¾ã€‚ä¸ºæ–¹ä¾¿åº“å‡½æ•°è¯†åˆ«ï¼Œä¹Ÿæå‰å°†å›¾ç‰‡å®½åº¦å¤„ç†æˆ 8 çš„æ•´æ•°å€ã€‚&lt;/p&gt;

&lt;p&gt;å›¾æºï¼Œå°±å–å¤©æ°”ç½‘é‚£å †å›¾æ ‡ï¼ŒåŸå›¾æ˜¯ç”¨ CSS offset æ–¹å¼æ˜¾ç¤ºçš„ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰å›¾æ ‡åœ¨ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œéœ€è¦åˆ‡ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;å®Œæ•´ä»£ç è§ &lt;a href=&quot;https://gist.github.com/andelf/acb0d317eef5d0cc8b7d53d4133c09c2&quot;&gt;gist: crop-blue30.py&lt;/a&gt;.
è¿™é‡Œè´´è¦ç‚¹&lt;/p&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# RGBA åˆ° RGB çš„è½¬æ¢
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# èƒŒæ™¯æ˜¯ç™½è‰²
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BG&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;255&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# alpha é€šé“ç½®ç©ºï¼Œä¸é€æ˜åº¦
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;putpixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-py highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# å›¾åƒäºŒå€¼åŒ–,
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LANCZOS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ImageFilter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SHARPEN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;im1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;convert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&apos;1&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dither&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NONE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å½“ç„¶ï¼Œä½ è¦æ˜¯ç”¨ ImageMagick æˆ–è€… Photoshop ä¹Ÿä¸€æ ·å¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åæŠŠç”Ÿæˆçš„äºŒè¿›åˆ¶è£…å…¥ C &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;uint8_t[]&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¾ç¤ºä¸€ä¸ªå¤ªé˜³:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104686101-84565400-5737-11eb-9bf5-4e0347e1eb28.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å› ä¸ºäºŒå€¼åŒ–å’Œç¼©æ”¾çš„å…³ç³»ï¼Œè±¡ç´ å‘¨å›´ç•¥æœ‰ç‚¹è…èš€çš„æ„Ÿè§‰ã€‚
æ•ˆæœè¿˜è¡Œï¼Œè€ƒè™‘è€ƒè™‘ç•Œé¢å…ƒç´ å¸ƒå±€ï¼Œåšä¸ªå¤©æ°”æ—¶é’Ÿè¶³å¤Ÿäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å±€éƒ¨åˆ·æ–°&quot;&gt;å±€éƒ¨åˆ·æ–°&lt;/h3&gt;

&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹åœ¨æ˜¾ç¤ºæ–‡å­—å’Œå›¾æ¡ˆçš„æ—¶å€™å±å¹•ä¼šè¿ç»­ä»æœ€é»‘åˆ°æœ€ç™½æ¥å›é—ªåŠ¨å‡ ä¸‹ï¼Œå‚è€ƒæ˜¾ç¤ºåŸç†ï¼Œ
è¿™é‡Œæ˜¯ä¸ºäº†é¿å…æ®‹ç•™å¢¨æ°´ç²’å­å½±å“æ˜¾ç¤ºæ•ˆæœï¼Œå³æ¶ˆé™¤æ®‹å½±çš„å½±å“ã€‚
æœ‰ä½¿ç”¨è¿‡ Kindle çš„åŒå­¦å¯¹è¿™ç‚¹ä¼šæ¯”è¾ƒæ¸…æ¥šï¼Œä¸€èˆ¬æ˜¯ç¿»é¡µè‹¥å¹²æ¬¡å…¨éƒ¨åˆ·æ–°ä¸€æ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;å®˜æ–¹ä¾‹ç¨‹ä¸­å³ä¸‹è§’æœ‰ä¸ªæ—¶é—´æ˜¾ç¤ºï¼Œç”¨åˆ°äº†å±€éƒ¨åˆ·æ–°æŠ€æœ¯:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;EPD_2IN13_Init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EPD_2IN13_PART&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_SelectImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_ClearWindows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Font20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Height&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_DrawTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sPaint_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Font20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BLACK&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;EPD_2IN13_Display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é¦–å…ˆä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPD_2IN13_PART&lt;/code&gt; æ–¹å¼é‡æ–°åˆå§‹åŒ–å±å¹•ï¼ˆä¸ç”¨æ¸…å±ï¼‰ï¼Œç„¶åå°±é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Paint_ClearWindows&lt;/code&gt; æ¸…é™¤éœ€è¦å±€éƒ¨æ›´æ–°çš„çŸ©å½¢åŒºåŸŸï¼Œ
ä¹‹åå°±å¯ä»¥ä½¿ç”¨å„ç§ç»˜å›¾ç»˜å­—ç¬¦å‡½æ•°å¡«å†™å±å¹•çš„è¿™éƒ¨åˆ†ã€‚æœ€åè°ƒç”¨ Display ä¸Šå±ã€‚&lt;/p&gt;

&lt;p&gt;å±€éƒ¨åˆ·æ–°çš„æ•ˆæœå› å±å¹•ä½“è´¨ä¸åŒå„å¼‚ï¼Œç»å¸¸ä¼šé‡åˆ°æ®‹å½±ç‰¹åˆ«ä¸¥é‡çš„æ—¶å€™ã€‚åšå°åˆ¶ä½œçš„æ—¶å€™ä¹Ÿå¯ä»¥å­¦ä¹ ç”µçº¸ä¹¦ï¼Œå±€éƒ¨åˆ·æ–°å¤šæ¬¡åå…¨å±€åˆ·æ–°ä¸€æ¬¡ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å†çœ‹æ˜¾ç¤ºåŸç†&quot;&gt;å†çœ‹æ˜¾ç¤ºåŸç†&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸Šï¼ŒåŸºæœ¬ä»‹ç»å®Œäº†å¢¨æ°´å±çš„å¸¸è§åŠŸèƒ½ã€‚å·²æ»¡è¶³ç»å¤§éƒ¨åˆ†éœ€æ±‚ã€‚&lt;/p&gt;

&lt;p&gt;å›å¤´å†çœ‹æ˜¾ç¤ºåŸç†ï¼Œæœ‰äº†ä¸€å¼€å§‹ä»‹ç»çš„å°èƒ¶å›Šé˜µåˆ—ç»“æ„ï¼Œé©±åŠ¨æ€ä¹ˆé€šè¿‡æå®šæ˜¾ç¤ºçš„å‘¢ï¼Ÿè¿™é‡Œä»¥ 2.13 å¯¸æ˜¾ç¤ºå±çš„é©±åŠ¨ IC IL3895 ä¸ºä¾‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;lut&quot;&gt;LUT&lt;/h3&gt;

&lt;p&gt;LUT, å³ Waveform Look Up Table(LUT), æ˜¯å¾ˆå¤šä»‹ç»ç”µå­å¢¨æ°´é©±åŠ¨æ–‡ç« çš„ç¦»ä¸å¼€çš„è¯é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€è°“çš„ LUT åŠŸèƒ½ï¼Œå…¶å®æ˜¯é©±åŠ¨èŠ¯ç‰‡çš„â€œå¯ç¼–ç¨‹é©±åŠ¨ç”µå‹æ³¢å½¢â€åŠŸèƒ½ã€‚å³é€šè¿‡è‹¥å¹²å¯„å­˜å™¨å­—èŠ‚ï¼Œ
è®¾ç½®åƒç´ åœ¨ä¸åŒçŠ¶æ€è½¬æ¢æƒ…å†µä¸‹ä½¿ç”¨çš„åº•æ¿ç”µå‹é«˜ä½çš„æ—¶åºã€‚è¯¥è®¾ç½®å…¨å±€æœ‰æ•ˆï¼Œé’ˆå¯¹å…¨å±å¹•çš„ä»»ä½•ä¸€ä¸ªåƒç´ çš„å˜åŠ¨ã€‚
æ•´ä¸ªæ³¢å½¢é€šè¿‡æ›´æ–°å±å¹•æŒ‡ä»¤(MasterActivation = 0x20, Activate Display Update Sequence)è§¦å‘ï¼Œ
æ­¤è¿‡ç¨‹ä¸­ BUSY ä¿¡å·æœ‰æ•ˆï¼Œæ›´æ–°é€»è¾‘å®Œæˆå, BUSY ä¿¡å·ç»“æŸã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚æ•°æ®æ‰‹å†Œä¸­:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104814031-a63efc00-5847-11eb-8fd4-8595a69ad1eb.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;IL3895 èŠ¯ç‰‡æ”¯æŒ 10 ä¸ª phase çš„æ³¢å½¢ï¼Œåˆ†åˆ«æ˜¯ phase0A phase0B phase1A phase1B phase2A phase2B phase3A phase3B phase4A phase4B,
å…¶ä¸­æ¯ä¸ª phase å¯ä»¥æŒ‡å®šç»´æŒçŠ¶æ€çš„æ—¶é—´å‘¨æœŸæ•° TP.
æ¯ä¸¤ä¸ªæ³¢å½¢å¯ä»¥è®¾ç½®ä¸€ä¸ªé‡å¤æ¬¡æ•° RP.
åœ¨æ¯ä¸ª phase, éƒ½å¯ä»¥æŒ‡å®šåƒç´ åº•æ¿ç”µå‹ VS é«˜ä½ã€‚ä¸åŒç”µå‹çº§åˆ«é©±åŠ¨é¢œè‰²å¾®ç²’å‘ä¸åŒæ–¹å‘è¿åŠ¨ï¼Œç»´æŒä¸åŒçš„æ—¶é—´ï¼Œæœ€ç»ˆå®ç°åƒç´ çš„é»‘ç™½å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;å›¾è¡¨å³ä¾§çš„ XY=LL, XY=LH, â€¦ è¡¨ç¤ºä¸åŒçš„åƒç´ å€¼å˜åŠ¨æƒ…å½¢ã€‚ä¾‹å¦‚ HL è¡¨ç¤ºåƒç´ ä»ç™½è‰²å˜åŠ¨åˆ°é»‘è‰², LL è¡¨ç¤ºåƒç´ åœ¨æ­¤æ¬¡åˆ·æ–°ä¸­å€¼æ²¡æœ‰å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šçš„æ‰€æœ‰é…ç½®é¡¹æŒ‰ç…§å›ºå®šæ ¼å¼ï¼Œæœ€ç»ˆå½¢æˆäº† LUT è¡¨ï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤è®¾ç½®:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/72891/104814577-b1475b80-584a-11eb-9cf5-3dcc9b559bf5.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è€Œä¾‹ç¨‹ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPD_2IN13_Init(EPD_2IN13_FULL/PART)&lt;/code&gt;, å…¶ä¸­æœ€é‡è¦ä¹Ÿæ˜¯å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ FULL å’Œ PART åˆå§‹åŒ–æ—¶ä½¿ç”¨çš„ LUT è¡¨ä¸åŒã€‚&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EPD_2IN13_lut_full_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xAA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xAA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0xAA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1E&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;unsigned&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;char&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EPD_2IN13_lut_partial_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x00&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆå§‹åŒ–åï¼Œæ¯æ¬¡æ˜¾ç¤ºæ›´æ–°ï¼Œéƒ½ä¼šæ‰§è¡Œå¯¹åº”çš„ LUT è¡¨æ—¶åºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå…¨å±€åˆ·æ–°æƒ…å†µä¸‹çš„å±å¹•ä»å…¨é»‘åˆ°å…¨ç™½å¥½å‡ æ¬¡æ¸…ç©ºå±å¹•çš„åŠ¨ä½œï¼Œ
å°±å®šä¹‰åœ¨è¿™ä¸ª FULL å¯¹åº”çš„ LUT ä¸­ã€‚æœ‰å…´è¶£çš„å°ä¼™ä¼´å¯ä»¥è§£æä¸‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPD_2IN13_lut_full_update&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;æ­£å› ä¸ºæœ‰äº† LUT å®šä¹‰ï¼Œå±å¹•ä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPD_2IN13_PART&lt;/code&gt; æ–¹å¼åˆå§‹åŒ–æ—¶ï¼Œæ–°æ˜¾ç¤ºå†…å®¹ä¸å†éœ€è¦å…¨å±åˆ·æ–°åå†æ˜¾ç¤ºï¼Œç›´æ¥åœ¨åŸå§‹çŠ¶æ€è¿›è¡Œç»˜åˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;EPD_2IN13_lut_partial_update&lt;/code&gt; ä¸ºä¾‹ä»‹ç»ä¸‹å®é™… LUT æ‰§è¡Œæ—¶å€™å‘ç”Ÿçš„åŠ¨ä½œã€‚ç®€å•å¾—å¤šï¼Œä»¥è‡³äºæ•´ä¸ªè¡¨åªæœ‰ 3 ä¸ªéç©ºå­—èŠ‚ï¼Œ
å¯¹åº” phase0A, phase0B, å…¶ä½™ phase è®¾ç½®å› å¯¹åº”çš„ TP(period) ä¸º 0, ä¸ç”Ÿæ•ˆã€‚æ‰€ä»¥åªæœ‰ä¸¤ä¸ª phase çš„æ³¢å½¢ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;/// LUT for partial update.&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;#[rustfmt::skip]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LUT_PARTIAL_UPDATE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// VS, voltage in phase n&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// &amp;lt;&amp;lt;VS[0A-HH]:2/binary, VS[0A-HL]:2/binary, VS[0A-LH]:2/binary, VS[0A-LL]:2/binary&amp;gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// &amp;lt;&amp;lt;VS[0B-HH]:2/binary, VS[0B-HL]:2/binary, VS[0B-LH]:2/binary, VS[0B-LL]:2/binary&amp;gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// HL: white to black&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// LH: black to white&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// e.g. 0x18 = 0b00_01_10_00&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// phase 0&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// phase 1&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// phase 4&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// padding&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// RP, repeat counter, 0 to 63, 0 means run time = 1&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// TP, phase period, 0 to 31&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// &amp;lt;&amp;lt;RP[0]_L:3/binary, TP[0A]:5/binary&amp;gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// &amp;lt;&amp;lt;RP[0]_H:3/binary, TP[0B]:5/binary&amp;gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x0F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// phase 0&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// phase 4&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// padding&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0x00&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šï¼Œæ”¹å†™ä¸º Rust ä»£ç ï¼ŒåŠ å…¥è¯¦ç»†æ³¨é‡Šï¼Œæ³¨é‡Šæ··æ­å‡ Erlang è¯­æ³•ã€‚&lt;/p&gt;

&lt;p&gt;å…ˆçœ‹ VS éƒ¨åˆ†ï¼Œå³é©±åŠ¨ç”µå‹éƒ¨åˆ†ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x18 = 0b00_01_10_00&lt;/code&gt;, æŒ‰ç…§æ ¼å¼æ‹†å‡º:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;VS[0A-HL] = 01
VS[0A-LH] = 10

# å…¶ä»–ä¸º 00
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰‹å†Œä¸­æœ‰ä»‹ç» VS æ ¼å¼:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;00â€“VSS
01â€“VSH
10â€“VSL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰€ä»¥è§£è¯» phase0A çš„é…ç½®å³:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å½“åƒç´ ç‚¹ä»ç™½è½¬é»‘æ—¶(HL), \(V_{pixel}\) ç”µå‹ä¸º VSH&lt;/li&gt;
  &lt;li&gt;å½“è±¡ç´ ç‚¹ä»é»‘è½¬ç™½æ—¶(LH), \(V_{pixel}\) ç”µå‹ä¸º VSL&lt;/li&gt;
  &lt;li&gt;å…¶ä»–æƒ…å†µä¸‹ï¼Œ\(V_{pixel}\) ç”µå‹ä¸º VSS, ç”±èŠ¯ç‰‡æ‰‹å†Œå¯çŸ¥, VSS = VCOM, ç›¸å½“äºæ— å˜åŒ–&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å†æ¥çœ‹ RP, TP éƒ¨åˆ†ã€‚éœ€è¦å°†å­—èŠ‚çš„é«˜åœ°ä½ç»„åˆ:&lt;/p&gt;

&lt;div class=&quot;language-text highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;0x0F = 0b000_01111
0x01 = 0b000_00001

æ‰€ä»¥å¾—åˆ°
RP[0] = 0b000_000 = 0
TP[0A] = 0b01111 = 15
TP[0B] = 0b00001 = 1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šæåˆ°, TP ä¸º 0 æ—¶è¡¨ç¤ºè¯¥ phrase æ— æ•ˆï¼Œæ‰€ä»¥ä¸Šé¢è¯´åªæœ‰ phase0A, phase0B ä¸¤ä¸ª phase æœ‰æ•ˆã€‚
RP = 0 æ˜¯è¡¨ç¤ºé‡å¤ 1 æ¬¡ã€‚&lt;/p&gt;

&lt;p&gt;æ€»ç»“ä»¥ä¸Šé‚£ä¹ˆè¯¥ LUT çš„é€»è¾‘æ˜¯:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å½“åƒç´ ç‚¹ä»ç™½è½¬é»‘æ—¶(HL), \(V_{pixel}\) ç”µå‹ä¸º VSH, æŒç»­ 15 ä¸ªå‘¨æœŸï¼Œéšåè½¬ VSS, æŒç»­ä¸€ä¸ªå‘¨æœŸ&lt;/li&gt;
  &lt;li&gt;å½“è±¡ç´ ç‚¹ä»é»‘è½¬ç™½æ—¶(LH), \(V_{pixel}\) ç”µå‹ä¸º VSL, æŒç»­ 15 ä¸ªå‘¨æœŸï¼Œéšåè½¬ VSS, æŒç»­ä¸€ä¸ªå‘¨æœŸ&lt;/li&gt;
  &lt;li&gt;å…¶ä»–æƒ…å†µä¸‹ï¼Œæ’ä¸º VSS&lt;/li&gt;
  &lt;li&gt;ä»¥ä¸Šé€»è¾‘æ‰§è¡Œ 1 æ¬¡&lt;/li&gt;
  &lt;li&gt;å•ä¸ªå‘¨æœŸæ–‡æ¡£ä¸­ä»‹ç»æ—¶é•¿ä¸º \(T_{FRAME}\)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥ä¼¼ä¹æ˜äº†ï¼Œæ‰€è°“å±€éƒ¨åˆ·æ–°ï¼Œå°±æ˜¯åœ¨åƒç´ ç‚¹ä¸å˜çš„æ—¶å€™ï¼Œä¸åšä»»ä½•æ“ä½œã€‚
åœ¨åƒç´ ç¿»è½¬çš„æƒ…å†µä¸‹ï¼Œæ‰§è¡Œä¸€æ¬¡ç»™ç”µå‹æ“ä½œï¼Œéšåé™ç½®å°‘é‡æ—¶é—´ã€‚&lt;/p&gt;

&lt;p&gt;è€Œå…¨åˆ·æ–°ï¼Œå¯ä»¥å¾ˆæ˜æ˜¾çœ‹åˆ°ï¼Œå‰å‡ ä¸ªå‘¨æœŸéƒ½æ˜¯å…¨ç½®é»‘å…¨ç½®ç™½çš„ç»Ÿä¸€æ“ä½œï¼Œä¸ºçš„æ˜¯æ¸…å±ã€‚
ä¹‹åæ‰æ˜¯å¤„ç†ä¸åŒåƒç´ çŠ¶æ€å˜æ›´çš„æ³¢å½¢ã€‚&lt;/p&gt;

&lt;h4 id=&quot;idea&quot;&gt;Idea&lt;/h4&gt;

&lt;p&gt;æŒç»­ç”µå‹ 15 ä¸ªå‘¨æœŸï¼Œé‚£ä¹ˆå°‘ä¸€ç‚¹ä¼šæ€ä¹ˆæ ·ï¼Ÿ&lt;/p&gt;

&lt;p&gt;æµ‹è¯•å‘ç°è¿™æ ·å‡ºå›¾æ•ˆæœæ²¡é‚£ä¹ˆé»‘ï¼Œç”šè‡³æ˜¯ç°è‰²ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ä¼¼ä¹å°±æœ‰äº†åœ¨é»‘ç™½å¢¨æ°´å±ä¸Šå®ç°ç°åº¦æ˜¾ç¤ºçš„æ–¹æ¡ˆã€‚è¿™é‡Œçš„é»‘ç™½å¢¨æ°´å±ï¼Œç‰¹æŒ‡é©±åŠ¨æ‰‹å†Œä¸­å•ä¸ªåƒç´ ä¸º 1 ä½çš„å±å¹•ã€‚å³ 1bpp(bit per pixel).&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡é¢˜å¤´å›¾ï¼Œå³ä¸ºæµ‹è¯•æ•ˆæœã€‚&lt;/p&gt;

&lt;p&gt;ç°åº¦æ˜¾ç¤ºçš„å†…å®¹ï¼Œå¦å¼€å‘è®²ã€‚&lt;/p&gt;

&lt;h3 id=&quot;framebuffer&quot;&gt;framebuffer&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;A framebuffer (frame buffer, or sometimes framestore) is a portion of random-access memory (RAM) containing a bitmap that drives a video display.
It is a memory buffer containing data representing all the pixels in a complete video frame. â€“ Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å›åˆ°ä¾‹ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°å±å¹•åˆå§‹åŒ–è°ƒç”¨å¤§æ¦‚æ˜¯:&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;EPD_2IN13_Init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;EPD_2IN13_FULL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PART&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;EPD_2IN13_Clear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;UBYTE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_NewImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EPD_2IN13_WIDTH&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EPD_2IN13_HEIGHT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WHITE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Paint_SelectImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;EPD_2IN13_Display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BlackImage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é˜…è¯»å¯¹åº”å‡½æ•°å¾—çŸ¥ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BlackImage&lt;/code&gt; å­—èŠ‚æ•°ç»„åšå¢¨æ°´å±çš„ framebuffer. æ‰€æœ‰çš„ç»˜å›¾æ“ä½œéƒ½åªå¯¹è¿™ä¸ª framebuffer è¿›è¡Œï¼Œ
ä¸å’Œè®¾å¤‡è¿›è¡Œäº¤äº’ï¼Œç›´åˆ°è°ƒç”¨ Display æ‰ä¼šè¿›è¡Œå®é™…çš„è®¾å¤‡äº¤äº’ã€‚&lt;/p&gt;

&lt;h3 id=&quot;next&quot;&gt;Next&lt;/h3&gt;

&lt;p&gt;ä¹‹åæŠ½æ—¶é—´å†™å†™ç°åº¦æ˜¾ç¤ºç›¸å…³çš„æŠ˜è…¾è¿‡ç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;å’Œ Rust embedded-grahics é©±åŠ¨çš„æƒ…å†µã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Waveshare å®˜æ–¹ store, &lt;a href=&quot;https://www.waveshare.com/wiki/2.13inch_e-Paper_HAT&quot;&gt;wiki&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.e-paper-display.com/download_detail/downloadsId=538.html&quot;&gt;IL3895 æ•°æ®æ‰‹å†Œ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/E_Ink&quot;&gt;Wikipedia: E-Ink&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>andelf</name></author><category term="blog" /><category term="embedded" /><category term="epd" /><summary type="html">æ•…äº‹ä»ä¹°å±å¹•è¯´èµ·ã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://user-images.githubusercontent.com/72891/104635824-6825c900-56dd-11eb-8caa-d5eb00d11f70.jpg" /><media:content medium="image" url="https://user-images.githubusercontent.com/72891/104635824-6825c900-56dd-11eb-8caa-d5eb00d11f70.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Story of Year 2003</title><link href="https://andelf.github.io/blog/2021/01/02/story-of-year-2003/" rel="alternate" type="text/html" title="Story of Year 2003" /><published>2021-01-02T02:08:00+08:00</published><updated>2021-01-02T02:08:00+08:00</updated><id>https://andelf.github.io/blog/2021/01/02/story-of-year-2003</id><content type="html" xml:base="https://andelf.github.io/blog/2021/01/02/story-of-year-2003/">&lt;p&gt;2003 ç«Ÿç„¶æ²¡æ‰¾åˆ°å¼ åƒæ ·çš„ç…§ç‰‡ã€‚é‚£æ—¶å€™ç”Ÿæ´»æ²¡é‚£ä¹ˆæ•°ç ã€‚è¿˜åœ¨ç”¨èƒ¶ç‰‡ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®æ›´ä¸»è¦çš„åŸå› æ˜¯ï¼Œæ•´ä¸ªä¸–çºªåˆçš„å‰å‡ å¹´ï¼Œä¸æ›¾æ‹è¿‡å‡ å¼ ç…§ç‰‡ã€‚æˆ–è€…å‡ºæ¸¸ï¼Œä¹Ÿæ˜¯æ‹åˆ«äººã€‚&lt;/p&gt;

&lt;p&gt;æƒ³è®²è®² 2003 çš„æ•…äº‹ã€‚å…¶å®è¿™ä¹ˆä¹…ï¼Œèƒ½è®°å¾—çš„ï¼Œä¹Ÿéƒ½æ¨¡ç³Šåˆ°å¤±çœŸäº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åˆä¸‰&quot;&gt;åˆä¸‰&lt;/h2&gt;

&lt;p&gt;é‚£å¹´åˆä¸‰ã€‚æ•´ä¸ªå¯’å‡åœ¨ Uncle Wang å®¶è¡¥è¯¾ï¼Œè¯´æ˜¯è¡¥è¯¾ï¼Œå…¶å®æ›´åƒæ˜¯æ‰˜ç®¡ã€‚æœ‰è‹±è¯­å’Œæ•°å­¦è¯¾ã€‚å°é—­ç®¡ç†ã€‚
ä»–å®¶ç”¨æ°´ä¸ä¾¿ï¼Œå°±è®°å¾—é‚£ä¸ªå¯’å‡å¥½åƒåªæ´—äº†ä¸€ä¸¤æ¬¡å¤´ï¼Ÿ
æ´—å¤´è¿™äº‹ï¼Œå¥½è¯´ï¼Œå½“ä¸æ´—çš„å¤©æ•°åˆ°è¾¾ä¸€å®šå¢ƒç•Œåï¼Œå°±å·²ç»æ„Ÿè§‰ä¸åˆ°å¤´å‘çš„å­˜åœ¨äº†ã€‚&lt;/p&gt;

&lt;p&gt;è¯´èµ·æ¥ä¸‡å¹¸ï¼Œè¿˜å¥½æœ‰è¿™ä¸€å¯’å‡çš„è¡¥è¯¾ï¼Œä¸ç„¶ä¸­è€ƒå¤§æ¦‚ç‡ä¼šè€ƒæ‰¯ã€‚&lt;/p&gt;

&lt;p&gt;å¼€å­¦åå°±æ˜¯ç´§å¼ çš„ä¸­è€ƒå‰å¤ä¹ ã€‚ä¾æ—§ç©å¾—æ˜å¤©é»‘åœ°ã€‚å­¦æ ¡ä¸ºäº†æé«˜ä¸Šçº¿ç‡ï¼Œé‡æ–°ç»™ä¸¤ä¸ªå®éªŒç­åˆ†äº†ç­ï¼Œ
äºŒç­ä¸€éƒ¨åˆ†åˆ°æˆ‘ä»¬ä¸€ç­ï¼Œæˆ‘ç­æˆç»©é åçš„å»äºŒç­ä¸Šè¯¾ï¼Œä¸¤ä¸ªç­æ•™å­¦ä¸åŒæ­¥ï¼Œè¿›åº¦å’Œæ•™å­¦å†…å®¹éƒ½ä¸å¤ªä¸€æ ·ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åä½ç½®è‡ªå·±é€‰ï¼Œè¿™å¯æç¬‘äº†ï¼Œå’Œä¸€æœ‹å‹è‡ªé€‰æ­äº†åŒæ¡Œï¼Œä¸€èµ·åç¬¬ä¸€æ’ã€‚é™•åŒ—æ–¹è¨€æŠŠé—²èŠå«â€œè°â€ï¼Œ
äºæ˜¯çˆ±è‡ªä¹ è¯¾è¯´è¯çš„åŒå­¦ä»¬å„è‡ªå°ä»€ä¹ˆâ€œè°ç‹â€ï¼Œâ€œè°åœ£â€ä¸€ç±»ã€‚å½¢å®¹çš„åŸè¯å¾€å¾€æ˜¯ï¼Œâ€œé‚£(ne)xxxå¤ªèƒ½è°äº†(liao4)ï¼Œçº¯ç²¹ä¸€è°xâ€ã€‚&lt;/p&gt;

&lt;p&gt;é‚£æ—¶å€™å…¼ä»»ç‰©ç†è¯¾ä»£è¡¨ã€‚æ•´ä¸ªåˆä¸‰ä¸‹è¿‘ä¹æ‰€æœ‰çš„è¯¾éƒ½æ˜¯åšå·å­åŠ è®²å·å­çš„æ— èŠç»„åˆï¼Œå·å­å¤§æ¦‚æ˜¯ç§‘ä»»è€å¸ˆè‡ªå·±æ‰¾çš„ï¼Œ
æ¯”å¦‚ç‰©ç†ï¼Œæˆ‘ä»¬äºæ˜¯æ¯ä¸ªäººè¦äº¤å‡ å—é’±çš„è¯•å·è´¹ã€‚æ”¶è¯•å·è´¹çš„ä»»åŠ¡å°±è½åˆ°æˆ‘å¤´ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯ä¸€ä¸ªç™¾æ— èŠèµ–çš„æ™šè‡ªä¹ ï¼Œæ‹‰ç€åå‡ å·äººï¼Œå»å¿ƒçµåœ¨çº¿ï¼ˆç¦»å­¦æ ¡æœ€è¿‘çš„ç½‘å§ï¼‰ï¼Œç”¨è¯•å·è´¹è¯·å¤§å®¶ä¸Šç½‘ã€‚
è¿‘ä¹åŒ…äº†ç½‘å§äºŒæ¥¼ã€‚é‚£æ—¶å€™ç©å•¥çš„éƒ½æœ‰ï¼Œä¸å‡ ä¸ªå¥½å‹é‚£æ®µæ—¶é—´ç©çš„æœ€å¤šæ˜¯æš—é»‘ç ´åç¥ï¼Œæˆ‘ç©åˆºå®¢ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥è¯•å·è´¹å°±è¿™ä¹ˆè¢«æˆ‘æ•£æ‰äº†ã€‚åæ¥ç‰©ç†è€å¸ˆæ€»ç¢ç¢å¿µè¿™å¤§å‡ åå—é’±ï¼Œè¿˜äº†ä»–ã€‚&lt;/p&gt;

&lt;p&gt;åˆä¸‰ï¼Œæ•´ä¸ªåˆä¸­æ²¡æœ‰æ¯”æˆ‘ä»¬æ›´èµ„å†è€çš„å­¦ç”Ÿäº†ï¼Œæ‰€ä»¥ä½ çœ‹å‘¨å›´äººæ€»å¤šå°‘å¸¦ç‚¹ç—æ°”ï¼Œæ”¾å­¦å›å®¶è·¯ä¸Šé€—é€—å­¦å¦¹ä¸€ç±»çš„ã€‚
é‚£æ—¶å€™åˆä¸­ç”Ÿç”·å¥³ä¹‹é—´çš„æ„Ÿæƒ…ï¼Œå¤§æ¦‚åŸºæœ¬ä¸Šå°±æ˜¯å†™çº¸æ¡ï¼Œé€xxå›å®¶ä¹‹ç±»ã€‚
â€œé€xxå›å®¶â€è¿™å¯èƒ½è¦ä»¥åç»†äº†è¯´ã€‚&lt;/p&gt;

&lt;h2 id=&quot;éå…¸&quot;&gt;éå…¸&lt;/h2&gt;

&lt;p&gt;çªç„¶æœ‰å¤©ï¼Œç”µè§†è¯´ä»€ä¹ˆ SARS, ä»€ä¹ˆéå…¸ï¼Œé‚£æ—¶å€™å£å·æœ€å¤šçš„æ˜¯å«â€œä¼—å¿—æˆåŸï¼ŒæŠ—å‡»éå…¸â€ã€‚
å€’æ˜¯å°è±¡ä¸­æ²¡è¦æ±‚å•¥å£ç½©ï¼Œè®°å¾—æœ€æ·±çš„æ˜¯æ¯å¤©åˆ°æ•™å®¤é‚£æµ“é‡çš„æ¶ˆæ¯’æ°´å‘³ã€‚&lt;/p&gt;

&lt;p&gt;äºæ˜¯ä¹ç½‘å§æ¸¸æˆå…å°çƒå®¤éƒ½å…³æ‰äº†ï¼Œä½†æœ‹å‹ä»¬é—´çš„å°é“æ¶ˆæ¯è¯´çš„æ˜¯ï¼Œå› ä¸ºä¸­è€ƒå‰å®¶é•¿æŠ•è¯‰å…³çš„ã€‚
ç„¶åé»‘ç½‘å§é»‘æ¸¸æˆå…æˆäº†åŒå­¦ä»¬å£å£ä¼ çš„ç§˜å¯†ï¼Œæ›¾è·ŸåŒå­¦ä¸€èµ·ç¿˜ä¸‹åˆè‡ªä¹ ç¿»å¢™å»ä¸€å®¶é»‘æ¸¸æˆå…æ‰“ PS(å°±å«æ‰“ç´¢å°¼), ç©çš„æ˜¯ FIFA,
ä½†å…¶å®æˆ‘ä¸å¤ªä¼šç©è¿™ç±»ï¼Œè¢«è™å°±æ˜¯äº†ã€‚åªæ˜¯çƒ­é—¹ã€‚&lt;/p&gt;

&lt;p&gt;éå…¸å¯¹äºå°å¿åŸæ¥è¯´ï¼Œä¹Ÿå°±èŒ¶ä½™é¥­åçš„å°è¯é¢˜ï¼Œå‘¨å›´æ²¡æœ‰äººçœŸå¾—äº†éå…¸ï¼Œé‚£å…¶å®å¤§å®¶çš„æ¶ˆæ¯æºè¿˜æ˜¯æ–°é—»è”æ’­ã€‚
ä¾ç¨€è®°å¾—é‚£å¹´æ¿è“æ ¹çš„ç–¯ç‹‚ã€‚ä½†å°å¿åŸï¼Œæ¯”æ¿è“æ ¹ç‰›é€¼çš„è®©äººå•¼ç¬‘çš†éã€‚æ¯”å¦‚ï¼Œé‚£æ—¶å€™å¿é‡Œæ—¶å…´é€é¢†å¯¼æ±‚åŠäº‹é€å…ç–«çƒè›‹ç™½ï¼Œ
æˆ–è€…å¹²æ‰°ç´ ã€‚å—¯ï¼Œè¿™ä¸ªå¸¦åŠ²å„¿ã€‚&lt;/p&gt;

&lt;p&gt;å› ä¸ºéå…¸çš„å…³ç³»ï¼Œæˆ‘ä»¬é‚£å±Šæ¯•ä¸šç”Ÿæ²¡æœ‰æ¯•ä¸šè”æ¬¢æ™šä¼šã€‚å¾ˆé—æ†¾ã€‚ä¹‹å‰ä¸€å¹´çš„æ¯•ä¸šè”æ¬¢ä¼šä¸Šï¼Œè¿˜å‡ºäº†ä¸ªå°å“ï¼Œ
è‡ªæ¯å½¢è±¡é‚£ç§ã€‚&lt;/p&gt;

&lt;p&gt;ä½†çªç„¶éå…¸å°±æ²¡äº†ã€‚å¤§æ¦‚ä¹Ÿå°±æ˜¯6æœˆä¸­è€ƒåï¼Œå°±å†æ²¡æœ‰è¿™ä¸ªè¯é¢˜äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;éš”å£ç­&quot;&gt;éš”å£ç­&lt;/h2&gt;

&lt;p&gt;é‚£æ—¶å€™å…¨æ ¡è¿‘ä¹æ¯ä¸ªç­éƒ½æœ‰è®¤è¯†çš„äººã€‚æ›¾è‡ªå¤§åœ°ç¬‘ç§°ï¼Œæ²¡æœ‰å€Ÿä¸æ¥çš„ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å¾ˆå¤šæ•…äº‹ï¼Œä¹Ÿå°±ä»å€Ÿä¸œè¥¿å¼€å§‹å‘ç”Ÿã€‚ä¸€å€Ÿä¸€è¿˜ï¼Œçœ‹èµ·æ¥ç®€å•çš„äº‹æƒ…ï¼Œå´ä¸çŸ¥ï¼Œå€Ÿçš„äººæˆ–è¢«å€Ÿçš„äººé‚£ä¸€èŠ‚è¯¾æœ‰æ²¡æœ‰å„ç§èƒ¡æ€ä¹±æƒ³ã€‚
ä¸€èƒ¡æ€ä¹±æƒ³ï¼Œè¯¶ï¼Œå¾ˆå¤šäº‹å°±ä¸ä¸€æ ·äº†ã€‚&lt;/p&gt;

&lt;p&gt;å„ç§æœºç¼˜å·§åˆåˆé”™è¿‡ï¼Œå›å¤´å†çœ‹ï¼ŒçœŸæ˜¯æ‰å¼„äººã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸­è€ƒ&quot;&gt;ä¸­è€ƒ&lt;/h2&gt;

&lt;p&gt;ä¸­è€ƒæ¯”æƒ³åƒä¸­æ¥å¾—å¿«å¾ˆå¤šã€‚æ‰€æœ‰äººéƒ½æ˜¯çªç„¶é—´å‘ç°å°±è¦ä¸­è€ƒäº†ã€‚ä¹Ÿä¸çŸ¥å¤ä¹ æ²¡å¤ä¹ å®Œäº‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¸æ›¾æƒ³åˆ°ï¼Œé‚£æ—¶å€™é‡åˆ°çš„äººå„¿ï¼Œæˆäº†åæ¥å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œçš„é‡è¦çš„äººï¼Œä¹Ÿæœ€ç»ˆæˆäº†ä¸€ä¸å¯è¯´çš„å¤§é—æ†¾ã€‚&lt;/p&gt;

&lt;p&gt;å—¨ï¼Œè‹¦å°±è‹¦åœ¨ï¼Œç­‰ä½ æƒ³æ˜ç™½è¿™ä¸€åˆ‡ï¼Œè¿™ä¸€åˆ‡å´å·²ç»è¿‡å»äº†ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥è‡³äºæˆäº†å¾ˆé•¿æ—¶é—´éƒ½è§£ä¸å¼€çš„ç»“ï¼Œä¹Ÿæ— ä»å†å»å›å¤´è§£é‡Šè‡ªå·±çš„è¡Œä¸ºé€»è¾‘ã€‚ç©ºç•™ä¸‹é‚£ä¹ˆå¤šå¹´å’Œ SA çš„æ¥å›é‚®ä»¶ï¼Œ
æ€»å›çœ‹ï¼Œæ€»å†…ç‰›æ»¡é¢ã€‚&lt;/p&gt;

&lt;p&gt;ä¸­è€ƒå°±æ˜¯è¿™æ ·ä¸€ä»¶äº‹ã€‚æœ‰æ—¶å€™ä¼šæ¢¦åˆ°åœ¨è¿™æ•…äº‹çš„æŸä¸€åˆ»ï¼Œå´é—®çš„æ˜¯ä½ è¿™å‡ å¹´è¿˜å¥½å—ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é«˜ä¸€&quot;&gt;é«˜ä¸€&lt;/h2&gt;

&lt;p&gt;é™Œç”Ÿçš„å­¦æ ¡ï¼Œé™Œç”Ÿçš„ç¯å¢ƒï¼Œä¸å¤šçš„å‡ ä¸ªè€åŒå­¦ã€‚&lt;/p&gt;

&lt;p&gt;æ—¥å¸¸äº¤é™…å‡ºé—®é¢˜ï¼Œæ‰€ä»¥æ¯å‘¨æœ«å°±æ˜¯å•è°ƒå’Œæ— èŠã€‚&lt;/p&gt;

&lt;p&gt;å°±äº¤é™…æ¥è¯´ï¼Œç°åœ¨çœ‹ï¼Œå¯èƒ½è‡ªå·±æ˜¯æè¢«åŠ¨çš„é‚£ç§ã€‚æ€»åœ¨ç­‰ã€‚ä½†å®é™…ä¸Šåˆè¾ƒä¾èµ–äº²å¯†å…³ç³»çš„å­˜åœ¨ã€‚&lt;/p&gt;

&lt;p&gt;æƒ³èµ·é‚£æ—¶å€™çš„ IC å¡ç”µè¯å’Œæ ¡é—¨å¤–çš„è¯å§ã€‚æŸæ®µæ—¶é—´é‡Œï¼Œä¹Ÿæ›¾æ˜¯å¸¸å®¢ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ®µé«˜ä¸€ï¼Œæ¯å¹´éƒ½ä¼šå‡ºç°åœ¨æ¢¦é‡Œï¼Œé‚£æ˜¯ç§å®¹æ˜“è®©äººåˆ†ä¸æ¸…ç°å®çš„æ¢¦ï¼Œæ€»æ„¿æ„åœ¨æ¢¦é‡Œæ°¸è¿œå‘†ä¸‹å»ä¸é†’æ¥ã€‚&lt;/p&gt;</content><author><name>andelf</name></author><category term="blog" /><category term="diary" /><summary type="html">2003 ç«Ÿç„¶æ²¡æ‰¾åˆ°å¼ åƒæ ·çš„ç…§ç‰‡ã€‚é‚£æ—¶å€™ç”Ÿæ´»æ²¡é‚£ä¹ˆæ•°ç ã€‚è¿˜åœ¨ç”¨èƒ¶ç‰‡ã€‚</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://user-images.githubusercontent.com/72891/103444082-373aa280-4ca0-11eb-9e68-6410f2f6817c.png" /><media:content medium="image" url="https://user-images.githubusercontent.com/72891/103444082-373aa280-4ca0-11eb-9e68-6410f2f6817c.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Why?!</title><link href="https://andelf.github.io/blog/2020/11/27/why-and-why/" rel="alternate" type="text/html" title="Why?!" /><published>2020-11-27T12:00:00+08:00</published><updated>2020-11-27T12:00:00+08:00</updated><id>https://andelf.github.io/blog/2020/11/27/why-and-why</id><content type="html" xml:base="https://andelf.github.io/blog/2020/11/27/why-and-why/">&lt;p&gt;â€œä¸ºä»€ä¹ˆå‘¢ï¼Œè¿™æ¬¡ä½ è¿™ä¹ˆåï¼Œæˆ‘å´è¿˜æ˜¯ä¼šæƒ³ä½ ã€‚â€&lt;/p&gt;

&lt;p&gt;â€œæ€»æ˜¯è¿™æ ·ï¼Œæ¥ä¸åŠç›¸è®¤å°±å¤±æ•£ã€‚â€&lt;/p&gt;</content><author><name>andelf</name></author><category term="blog" /><category term="diary" /><summary type="html">â€œä¸ºä»€ä¹ˆå‘¢ï¼Œè¿™æ¬¡ä½ è¿™ä¹ˆåï¼Œæˆ‘å´è¿˜æ˜¯ä¼šæƒ³ä½ ã€‚â€</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://user-images.githubusercontent.com/72891/100425593-7cc8e600-30ca-11eb-873c-1f9878911c20.jpg" /><media:content medium="image" url="https://user-images.githubusercontent.com/72891/100425593-7cc8e600-30ca-11eb-873c-1f9878911c20.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Welcome to Jekyll!</title><link href="https://andelf.github.io/blog/2020/11/16/welcome-to-jekyll/" rel="alternate" type="text/html" title="Welcome to Jekyll!" /><published>2020-11-16T14:54:24+08:00</published><updated>2020-11-16T14:54:24+08:00</updated><id>https://andelf.github.io/blog/2020/11/16/welcome-to-jekyll</id><content type="html" xml:base="https://andelf.github.io/blog/2020/11/16/welcome-to-jekyll/">&lt;p&gt;æ˜¯çš„æˆ‘å‡çº§äº†.&lt;/p&gt;

&lt;p&gt;æ˜¯çš„æˆ‘åˆå›æ¥äº†.&lt;/p&gt;</content><author><name></name></author><category term="blog" /><summary type="html">æ˜¯çš„æˆ‘å‡çº§äº†.</summary></entry><entry><title type="html">è¿·ä¹‹ä¸€é”®éƒ¨ç½²</title><link href="https://andelf.github.io/blog/2020/02/27/one-click/" rel="alternate" type="text/html" title="è¿·ä¹‹ä¸€é”®éƒ¨ç½²" /><published>2020-02-27T14:00:00+08:00</published><updated>2020-02-27T14:00:00+08:00</updated><id>https://andelf.github.io/blog/2020/02/27/one-click</id><content type="html" xml:base="https://andelf.github.io/blog/2020/02/27/one-click/">&lt;p&gt;æ IT æŠ€æœ¯ç›¸å…³çš„ï¼Œå°¤å…¶æ˜¯åç«¯æŠ€æœ¯å’Œåˆ†å¸ƒå¼ç›¸å…³çš„åŒå­¦ï¼Œæ€•æ˜¯ä¸åªä¸€æ¬¡å¬è¿‡æ‰€è°“çš„ä¸€é”®éƒ¨ç½²çš„ææ³•ï¼Œä¸æ­¤ç›¸ä¼¼æˆ–è€…ç›¸å…³çš„ï¼Œå¯èƒ½è¿˜åŒ…æ‹¬è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸€é”®ä¸Šçº¿/å›æ»šï¼Œä»¥åŠ CI/CD ç›¸å…³çš„æŒç»­éƒ¨ç½²ï¼ŒæŒç»­é›†æˆï¼ŒæŒç»­äº¤ä»˜ç­‰ç­‰æ¦‚å¿µã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œï¼Œä¸è°ˆ CI/CDï¼Œåªè°ˆä½œä¸ºå¯¹ç”¨æˆ·äº§å“çš„ä¸€é”®éƒ¨ç½²ï¼Œæ— è®ºæ˜¯å« one-click, single-click, one-key, one-press, one-button, one-command, single-commandâ€¦ è¿˜æ˜¯åªæ˜¯å¯¹å¤–å‘å¸ƒçš„æŸç§å¿«é€Ÿéƒ¨ç½²å·¥å…·(é›†)ã€‚éƒ¨ç½²ï¼Œä¿—ç§°ä¸Šçº¿ï¼Œä¸è¿‡ç»†ç©¶æ¦‚å¿µï¼Œä¸Šçº¿ä¼¼ä¹æ›´ä¾§é‡æ—¥å¸¸åŠŸèƒ½æ›´æ–°ï¼Œè€Œéƒ¨ç½²çš„æ¦‚å¿µï¼Œæ›´ä¾§é‡é¦–æ¬¡çš„åˆå§‹ç¯å¢ƒæ­å»ºã€‚æ— è®ºä½•ï¼Œä¼ ç»Ÿä¸Šï¼Œéƒ¨ç½²éƒ½æ˜¯è¿ç»´(OP)åŒå­¦çš„æ—¥å¸¸å·¥ä½œã€‚&lt;/p&gt;

&lt;p&gt;æ‰€è°“ä¸€é”®ï¼Œå¤§éƒ½æ˜¯è™šæŒ‡ã€‚åšè¿‡è¿ç»´çš„åŒå­¦çŸ¥é“ï¼Œéƒ¨ç½²æ€ä¹ˆå¯èƒ½æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹æƒ…ã€‚è€ƒè™‘åˆ°ç°ä»£æœåŠ¡ç«¯è½¯ä»¶é›†çš„åºå¤§ï¼Œä»æ•°æ®åº“/ç¼“å­˜ï¼Œåˆ°åç«¯é€»è¾‘ï¼Œåˆ°å‰ç«¯æœåŠ¡ï¼Œåˆ°ç›‘æ§ç³»ç»Ÿï¼Œåˆ°æŠ¥è­¦ç³»ç»Ÿï¼Œå„ç»„ä»¶ç›¸äº’é…åˆï¼Œæ‰å®Œæˆæœ€ç»ˆå¯¹ç”¨æˆ·æä¾›æœåŠ¡ã€‚æ›´ä¸ç”¨è¯´æœºæˆ¿æœåŠ¡å™¨ç¯å¢ƒï¼Œäº‘ä¸»æœºç¯å¢ƒï¼Œç°ä»£åˆ†å¸ƒå¼æœåŠ¡çš„å¤šæ ·å’Œå¤æ‚æ€§ï¼Œå¯¼è‡´ trouble shooting æå…¶å¤æ‚ï¼Œå“ªæ€•æ˜¯é¥±ç»äº‹æ•…çš„è€ OPï¼Œä¹Ÿä¸å®¹æ˜“ã€‚&lt;/p&gt;

&lt;p&gt;æ­£å› æœ‰äº†è¿™äº›å¤æ‚æ€§ï¼Œå¯ä¿¡èµ–çš„éƒ¨ç½²å·¥å…·å°±æ›´æ˜¾å¾—é‡è¦ã€‚å¥½ç”¨çš„å·¥å…·ä¸åªä¸ºè™æ·»ç¿¼ï¼Œè¿˜ç»™èŒæ–°åœ¨é»‘å¤œé‡Œç‚¹äº†ç›æ˜ç¯ï¼Œåœ¨äº§å“æ‹‰æ–°çš„å±‚é¢æ›´æœ‰æå…¶é‡è¦çš„ä½œç”¨ã€‚åƒåœ¾çš„å·¥å…·ï¼Œå¤„å¤„æ˜¯å‘ä¸è¯´ï¼Œè®©äººéª‚å¨˜çš„å¿ƒéƒ½æœ‰ï¼Œä¸”æœ‰å·¥å…·è¿˜ä¸å¦‚æ²¡æœ‰å·¥å…·ã€‚æ²¡æœ‰å·¥å…·çš„æ—¶å€™ï¼ŒOP æ‹¿ç€å‘½ä»¤è¡Œä¸€é¡¿æ•²ï¼Œä¸ä¹ŸæˆåŠŸéƒ¨ç½²äº†ä¹ˆï¼Ÿ&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œå…³äºä¸€é”®éƒ¨ç½²ï¼Œè¿™é‡Œè¦ä»å‘½ä»¤è¡Œè¯´èµ·ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸€é”®éƒ¨ç½²ä»å“ªæ¥&quot;&gt;ä¸€é”®éƒ¨ç½²ä»å“ªæ¥&lt;/h2&gt;

&lt;h3 id=&quot;å‘½ä»¤è¡Œ-op&quot;&gt;å‘½ä»¤è¡Œ OP&lt;/h3&gt;

&lt;p&gt;æœ€åŸå§‹çš„å…¸å‹æœåŠ¡éƒ¨ç½²è¿‡ç¨‹ï¼Œä¸è¿‡æ˜¯ç™»å½•åˆ°æœåŠ¡å™¨ï¼Œé€šè¿‡ scp/wget ä¸‹è½½åˆ°æœ€è¿‘çš„è½¯ä»¶åŒ…ï¼Œè§£å‹ç¼–è¯‘ï¼Œå¿…è¦æ—¶å€™è¿˜éœ€è¦ä¸‹è½½è‹¥å¹²ç¼–è¯‘ä¾èµ–ï¼Œç„¶åä¿®æ”¹é…ç½®ï¼Œæœ€åå¯åŠ¨ç¨‹åºå®Œæˆéƒ¨ç½²ã€‚&lt;/p&gt;

&lt;p&gt;æ½®ä¸€ç‚¹çš„å®¹å™¨éƒ¨ç½²æ–¹å¼ï¼Œæ‹‰å‡ ä¸ªå®¹å™¨é•œåƒä¸‹æ¥ï¼ŒåŠ ä¸Šå‚æ•° run èµ·æ¥ï¼Œä¹Ÿæ˜¯ç•¥è‹¦é€¼ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯å‘½ä»¤ï¼Œå°±æœ‰å¯èƒ½å‡ºé”™ï¼Œç›¸ä¿¡å¤šæ•° OP éƒ½æœ‰ä¸€ä¸ªå‘½ä»¤è¡Œå°æœ¬æœ¬ï¼Œè®°å½•ç€å¸¸è§æ“ä½œéœ€è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸€é”®éƒ¨ç½²å°è„šæœ¬å„¿&quot;&gt;ä¸€é”®éƒ¨ç½²å°è„šæœ¬å„¿&lt;/h3&gt;

&lt;p&gt;çœ‹èµ·æ¥ä¼ ç»Ÿçš„å‘½ä»¤è¡Œå¼éƒ¨ç½²å¾ˆå®¹æ˜“è‡ªåŠ¨åŒ–ï¼ŒæŠŠè¿™äº›å‘½ä»¤é›†åˆåœ¨ä¸€èµ·ï¼Œäºæ˜¯å°±è¯ç”Ÿäº†æœ€åŸå§‹çš„ï¼Œä¸€é”®éƒ¨ç½²è„šæœ¬å„¿ã€‚è„šæœ¬ä¸¢åˆ°æœåŠ¡å™¨ä¸Šï¼Œä¸€æ‰§è¡Œï¼Œæ¼«é•¿æˆ–çŸ­æš‚çš„ç­‰å¾…è¿‡å»ï¼ŒæœåŠ¡ ready.&lt;/p&gt;

&lt;p&gt;è€Œå®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨åŒ–æˆ docker-compose ç­‰å¾…ï¼Œå¤–éƒ¨åŒ…ä¸€ä¸ªå¤„ç†é…ç½®çš„è„šæœ¬ï¼Œä¾æ—§å¥½ä½¿ã€‚&lt;/p&gt;

&lt;p&gt;éšå OP åŒå­¦ä¸ºè¯¥è„šæœ¬å¢åŠ äº†æ›´å¤šçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæ¯”å¦‚è½¯ä»¶åŒ…ç‰ˆæœ¬å·ï¼Œéƒ¨ç½²è·¯å¾„ï¼Œé…ç½®æ–‡ä»¶çš„æŸæ¡å¸¸ä¿®æ”¹çš„å‚æ•°ï¼Œçœ‹èµ·æ¥è¿™ä¸ªæ—¶å€™ï¼Œå·²ç»å¯ä»¥äº¤ä»˜å¤–éƒ¨ä½¿ç”¨äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸€é”®éƒ¨ç½²å‘½ä»¤è¡Œå·¥å…·é›†&quot;&gt;ä¸€é”®éƒ¨ç½²å‘½ä»¤è¡Œå·¥å…·é›†&lt;/h3&gt;

&lt;p&gt;ç„¶è€Œå¤šæ•°æœåŠ¡ç«¯è½¯ä»¶æ¯”ä»¥ä¸Šæµç¨‹å¤æ‚å¾—å¤šï¼ŒOP ä»¬å¾€å¾€é¢å¯¹çš„æ˜¯ä¸€ä¸ªé›†ç¾¤ï¼Œæ¯å°æœºå™¨çš„é…ç½®æˆ–å‘½ä»¤éƒ½æœ‰æ‰€ä¸åŒï¼Œä¸”æœåŠ¡çš„å¯åœè¿‡ç¨‹å¾€å¾€å…·æœ‰æŸç§ä¾èµ–é¡ºåºã€‚è¿™æ—¶å€™ï¼Œç®€å•çš„å‘½ä»¤å †å å°è„šæœ¬å°±ä¸èƒ½æ»¡è¶³éœ€æ±‚äº†ã€‚&lt;/p&gt;

&lt;p&gt;å¼€æºå±Šå€’æ˜¯æä¾›äº†ä¸å°‘è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚ Ansible, Puppet, Chef ç­‰å¾…ï¼Œä»¥åŠè‹¥å¹²è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆï¼Œå®ç°äº†é…ç½®ï¼Œæ‰§è¡Œï¼Œéƒ¨ç½²ï¼Œäº¤ä»˜çš„å®Œæ•´æµç¨‹ã€‚æ­¤å¤–è¿˜æœ‰è‹¥å¹²è½»é‡å·¥å…·ï¼Œé æ›´å¤šçš„äººå·¥é…ç½®ç¯å¢ƒæä¾›æ›´é«˜çš„è‡ªç”±åº¦ï¼Œä¾‹å¦‚ fabric.&lt;/p&gt;

&lt;p&gt;è¿™æ—¶å€™çš„ä¸€é”®éƒ¨ç½²ï¼Œå¯èƒ½å°±æ˜¯æŸä¸ªå¼ºå¤§å·¥å…·çš„é…ç½®æ–‡ä»¶ï¼Œæè¿°äº†éƒ¨ç½²çš„æ­¥éª¤ï¼Œç„¶ååŠ ä¸Šç›®æ ‡æœºå™¨ç¯å¢ƒçš„é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡æ‰§è¡Œä¸€æ¡å‘½ä»¤ï¼Œå®Œæˆæ•´ä¸ªç¯å¢ƒæ£€æŸ¥ï¼Œç¯å¢ƒåˆå§‹åŒ–ï¼Œéƒ¨ç½²åº”ç”¨ï¼Œå¯åŠ¨åº”ç”¨çš„å…¨æµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ ansible-playbook -i inventory install.yml è¿™æ ·ä¸€æ¡å‘½ä»¤ï¼ŒåŠ è½½ install.yml æè¿°çš„å®‰è£…æµç¨‹ï¼Œç„¶ååœ¨ inverntory æŒ‡å®šçš„æœåŠ¡å™¨åˆ—è¡¨ä¸Šæ‰§è¡Œè¿™äº›å®‰è£…æµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯è¿™æ ·çš„å·¥å…·æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºç‚¹ï¼Œé‚£å°±æ˜¯è¿è¡Œå¼‚å¸¸å¯èƒ½éœ€è¦å·¥å…·çš„ä¸“å®¶ä»‹å…¥ã€‚ä¸“å®¶å¤§æ¦‚æ˜¯èƒ½ç»™å·¥å…·å†™æ’ä»¶çº§åˆ«çš„ã€‚ä»¥ Ansible ä¸ºä¾‹ï¼Œèƒ½è®²æ¸…æ¥šæœºå™¨ç™»é™†æ—¶å€™ï¼Œä¸åŒå‘è¡Œç‰ˆæŠ¥é”™åŸå› ä»¥åŠè§£å†³æ–¹æ³•çš„äººï¼Œå¹¶ä¸å¤šã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºå®¹å™¨åŒ–éƒ¨ç½²ï¼Œé‚£å½“ç„¶è¦è¯‰è¯¸äºå„ç§ç¼–æ’å·¥å…·ï¼Œä¸åœ¨æ­¤è®¨è®ºäº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¸€é”®éƒ¨ç½²-ui&quot;&gt;ä¸€é”®éƒ¨ç½² UI&lt;/h3&gt;

&lt;p&gt;ä¸¥æ ¼åœ°è¯´ï¼Œå‘½ä»¤è¡Œä¹Ÿæ˜¯ UI çš„ä¸€ç§ï¼ŒåŸæ•™æ—¨ä¸»ä¹‰ä¼šå‘Šè¯‰ä½ ï¼ŒUI å°±æ˜¯ User Interfaceï¼Œå°±å¥½æ¯” explorer.exe ä¹Ÿæ˜¯ SHELL ä¸€æ ·ã€‚è¿™é‡Œè¯´çš„ UI, ç‰¹æŒ‡ GUIï¼Œå¤§æ¦‚åŒ…æ‹¬è¯´æœ‰çš„å›¾å½¢åº”ç”¨ç¨‹åºï¼Œå°¤å…¶æŒ‡æµè§ˆå™¨ Web UI.&lt;/p&gt;

&lt;p&gt;ä¹‹å‰åœ¨æ¨ä¸Šæœ‰å¥åæ§½ï¼Œâ€œæ¯ä¸ªå‚»é€¼çš„åç«¯äº§å“ PMï¼Œéƒ½æœ‰ä¸€é¢—ç»™å‘½ä»¤è¡Œå†™ GUI çš„å¿ƒâ€œï¼Œè¿™è¯æ”¾åœ¨ä¸€é”®éƒ¨ç½²é¢†åŸŸï¼Œä¾æ—§æ˜¯åˆé€‚æ— æ¯”ã€‚&lt;/p&gt;

&lt;p&gt;åšå¥½ UI çš„ç¬¬ä¸€æ­¥ï¼Œå¤§æ¦‚æ˜¯ä¸åš UI.&lt;/p&gt;

&lt;p&gt;ä½ å¯ä»¥è®¤ä¸º UI åœ¨å¤§éƒ¨åˆ†æ—¶å€™æ˜¯ä¼ªéœ€æ±‚ï¼Œé—®é—®è‡ªå·±çš„å†…å¿ƒï¼šåœ¨å·²ç»æœ‰è¾ƒå®Œå–„çš„ä¸€é”®éƒ¨ç½²å·¥å…·é›†æˆ–è€…è„šæœ¬çš„æƒ…å†µä¸‹ï¼Œä¸ºä»€ä¹ˆåš UI?&lt;/p&gt;

&lt;p&gt;å…¶å®ç­”æ¡ˆå¾ˆç®€å•ï¼ŒUI ä¸æ˜¯ç»™ OP æˆ–è€…ä¸€çº¿å·¥ç¨‹å¸ˆç”¨çš„ã€‚å®ƒç›®æ ‡æ˜¯ä¸ºäº†æŠŠä¸€ä»¶äº‹æƒ…çš„é—¨æ§›é™ä½åˆ°å°½å¯èƒ½ä½ï¼Œä½åˆ°åªæ˜¯æ°å¥½ç†è§£è¿™ä¸ªæœåŠ¡æ˜¯å¹²ä»€ä¹ˆæœ‰ä»€ä¹ˆè¦ç´ çš„äººï¼Œä¹Ÿèƒ½æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;ç„¶è€Œè¿™æ˜¯ä¸å¯èƒ½çš„ã€‚æ‰€ä»¥æ‰€è°“çš„ä½ çœ‹åˆ°åˆ°çš„ä¸€ä¼— UI åªèƒ½å°†å¤§éƒ¨åˆ†æ™¦æ¶©çš„é…ç½®é€‰é¡¹éšè—èµ·æ¥ï¼Œç„¶åè®©ä½ å¡«å†™ä¸€ä¸ªæœºå™¨åˆ—è¡¨ç„¶åâ€ä¸€é”®â€œéƒ¨ç½²ã€‚ç„¶åå¤±è´¥äº†ï¼Œå¼¹å‡ºç®€æ´çš„â€œéƒ¨ç½²å¤±è´¥â€å››ä¸ªå¤§å­—ï¼Œæˆ–æ˜¯æ™¦æ¶©çš„å†—é•¿çš„æ²¡äººä¼šå»çœ‹çš„é”™è¯¯æ—¥å¿—ã€‚&lt;/p&gt;

&lt;p&gt;è¿„ä»Šä¸ºæ­¢ï¼Œè§è¿‡å¯ä»¥è¯´çš„ä¸Šèƒ½ç”¨çš„ä¸€é”®éƒ¨ç½² UI, å¯èƒ½æ˜¯ Ansible-Towerï¼Œå³ Ansible AWX, ä½†å®ƒçœŸçš„åªæ˜¯åŒ…è£…äº† Ansible çš„å‘½ä»¤è¡Œï¼Œæ‰€ä»¥è¶³å¤Ÿç®€æ´ï¼Œè¶³å¤Ÿå®Œå¤‡ã€‚ç„¶è€Œå®ƒçš„ trouble shooting éš¾åº¦ä¾æ—§æ˜¯ Ansible çº§çš„ã€‚é™¤éä½ å¯¹ Ansible è¶³å¤Ÿç†Ÿæ‚‰ï¼Œå¦åˆ™è¿˜æ˜¯æ‰¾è¶³å¤Ÿç»éªŒä¸°å¯Œçš„äººå»è¿½æŸ¥èƒŒååˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆé”™è¯¯ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å†å²çš„ä¾‹å¤–&quot;&gt;å†å²çš„ä¾‹å¤–&lt;/h3&gt;

&lt;p&gt;å¤§æ¦‚ä¼šæœ‰è‹¥å¹²ç§ç‰¹æ®Šæƒ…å†µã€‚ä¾‹å¦‚å¤§å‹å…¬å¸çš„è‡ªç ”ï¼ˆæˆ–è‡´æ•¬æŸå¼€æºé¡¹ç›®çš„ï¼‰å†…éƒ¨ç³»ç»Ÿï¼Œä¾‹å¦‚äº‘å¹³å°æœåŠ¡å•†çš„æŸäº›è‡ªåŠ¨éƒ¨ç½²å·¥å…·ç­‰ã€‚å…±åŒç‚¹æ˜¯ï¼Œå—æ§åº•å±‚ç¯å¢ƒï¼Œç”¨æˆ·æœ‰å¤©ç„¶èº«ä»½é—¨æ§›ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥è¿™ä¸ªæ—¶å€™ï¼Œä¸ä¹å†…éƒ¨ä¼˜ç§€å·¥å…·æˆ–æ˜¯äº‘å¹³å°ä¼˜ç§€å·¥å…·ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸€é”®éƒ¨ç½²ç°çŠ¶&quot;&gt;ä¸€é”®éƒ¨ç½²ç°çŠ¶&lt;/h2&gt;

&lt;p&gt;ç„¶è€Œè¯¥åšä¸è¯¥åšçš„ä¸œè¥¿ï¼Œæ€»æ˜¯è¦åšçš„ã€‚æ‰€ä»¥è°ˆè°ˆä¸€é”®éƒ¨ç½²åˆ°åº•è¦åšå•¥å§ï¼Ÿè¿™é‡Œä¸»è¦è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿé›†ç¾¤çš„ä¸€é”®éƒ¨ç½²ã€‚ä¸€ä¸ªåº”ç”¨ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ä¸€å°æœºå™¨ï¼Œå°±çœŸæ²¡å¿…è¦æŠ˜è…¾ã€‚&lt;/p&gt;

&lt;h3 id=&quot;inventory-ç®¡ç†&quot;&gt;Inventory ç®¡ç†&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œçš„ inventory, æ³›æŒ‡ä¸€åˆ‡ç›®æ ‡èµ„äº§ï¼Œæ¯”å¦‚æœåŠ¡å™¨ï¼Œäº‘ä¸»æœºæˆ–è€…è™šæ‹Ÿæœºã€‚å…¶ä¸­çš„å±æ€§ä¿¡æ¯ç¹æ‚ï¼Œå’Œåç»­çš„éƒ¨ç½²è¿‡ç¨‹æœ‰ç€å¼ºä¾èµ–ï¼Œæ¯”å¦‚æœºå™¨ä¸Šçš„é…ç½®ï¼Œä¾‹å¦‚ç£ç›˜ç©ºé—´ï¼Œå†…å­˜ï¼ŒCPU æ—¶é—´ç­‰ã€‚é€šè¿‡ inventory çš„è‡ªåŠ¨æ£€æŸ¥å’Œåˆå§‹åŒ–è„šæœ¬ï¼Œè·å–å„ç§ä¿¡æ¯ï¼Œä¸ºéƒ¨ç½²è¿‡ç¨‹æä¾›æ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;p&gt;éƒ¨åˆ†æ”¯æŒäº‘ä¸»æœºçš„ Inventory ç®¡ç†ï¼Œè¿˜åŒ…æ‹¬æŒ‰éœ€åŠ¨æ€åˆ›å»ºä¸»æœºå®ä¾‹ã€‚&lt;/p&gt;

&lt;p&gt;å†å¹¿ä¹‰äº›ï¼Œè¿˜å¯èƒ½åŒ…æ‹¬å¤–éƒ¨å¯ç”¨çš„æœåŠ¡èµ„æºï¼Œä¾‹å¦‚å…¬å…±çš„ redis æœåŠ¡ã€‚&lt;/p&gt;

&lt;h4 id=&quot;credential-ç®¡ç†&quot;&gt;Credential ç®¡ç†&lt;/h4&gt;

&lt;p&gt;Credential æ˜¯æŒ‡ç™»é™†æœºå™¨è¿›è¡Œæ“ä½œçš„ç”¨æˆ·æƒé™ï¼Œæ¯”å¦‚ SSH ç§é’¥ï¼Œæˆ–æ˜¯æœºå™¨çš„ç”¨æˆ·åå¯†ç ï¼Œæˆ–æ˜¯äº‘å¹³å°çš„è®¿é—®æ‰€éœ€å¯†é’¥ KEY.&lt;/p&gt;

&lt;h3 id=&quot;åº”ç”¨ç®¡ç†&quot;&gt;åº”ç”¨ç®¡ç†&lt;/h3&gt;

&lt;p&gt;æ‰€è°“åº”ç”¨ï¼Œå°±æ˜¯å°†è¦éƒ¨ç½²çš„æœåŠ¡ï¼ˆå¾€å¾€åŒ…å«å¤šä¸ªä¸åŒå­åº”ç”¨ï¼‰ï¼Œå®ƒä»¬ä¹‹é—´é€šè¿‡ç‰¹å®šçš„ä¾èµ–å…³ç³»äº’è”ï¼Œæœ€ç»ˆå¯¹å¤–ç•Œæä¾›æœåŠ¡ã€‚é™¤æ ¸å¿ƒæœåŠ¡åº”ç”¨ä¹‹å¤–ï¼Œè¿˜å¯èƒ½åŒ…æ‹¬ç›‘æ§åº”ç”¨(å«æŠ¥è­¦åº”ç”¨)ï¼Œç®¡ç†åº”ç”¨(adminstrative dashboard)ï¼Œå·¥å…·åº”ç”¨(ä¾‹å¦‚å¤‡ä»½/æ¢å¤å·¥å…·)ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;åº”ç”¨çš„ç®¡ç†ï¼Œä¸»è¦æ˜¯åº”ç”¨å…ƒä¿¡æ¯çš„ç®¡ç†ï¼Œåº”ç”¨ä¹‹é—´çš„ä¾èµ–å…³ç³»ç®¡ç†ï¼Œåº”ç”¨å¯¹èµ„æºçš„å…³ç³»ï¼Œåº”ç”¨é…ç½®ç®¡ç†ã€‚&lt;/p&gt;

&lt;p&gt;åº”ç”¨å…ƒä¿¡æ¯çš„ç®¡ç†ï¼Œå¾€å¾€æ˜¯æè¿°ä¸€ä¸ªåº”ç”¨çš„è¯¸å¦‚ç‰ˆæœ¬ï¼ŒäºŒè¿›åˆ¶ç­‰ç­‰ä¿¡æ¯ï¼Œå¾€å¾€æ˜¯éƒ¨ç½²çš„ç¬¬ä¸€æ­¥ï¼Œå…ˆå‡†å¤‡å¥½å°†è¦éƒ¨ç½²çš„åº”ç”¨ã€‚å…¶ä¸­æ¶‰åŠåˆ°äº§å“äºŒè¿›åˆ¶åˆ†å‘çš„é—®é¢˜ï¼Œåˆ™æ˜¯é¢å¤–çš„è¯é¢˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;åº”ç”¨ä¹‹é—´ä¾èµ–ï¼Œåº”ç”¨å¯¹èµ„æºçš„ä¾èµ–å…³ç³»çš„ç®¡ç†ï¼Œå¾€å¾€é€šè¿‡é…ç½®ç®¡ç†çš„å½¢æ€å®ç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é…ç½®ç®¡ç†&quot;&gt;é…ç½®ç®¡ç†&lt;/h3&gt;

&lt;p&gt;é…ç½®ç®¡ç†ä¸åªåŒ…æ‹¬åº”ç”¨é…ç½®ç®¡ç†ï¼Œå¾€å¾€è¿˜åŒ…æ‹¬éƒ¨ç½²çš„é…ç½®ç®¡ç†ï¼Œä½†ä¸¤è€…ä¹‹é—´å¾€å¾€å­˜åœ¨äº¤å‰èåˆçš„åœ°æ–¹ï¼Œæ¯”å¦‚è¯´æŒ‡å®šæŸä¸ªæœºå™¨çš„ä¸Šéƒ¨ç½²çš„åº”ç”¨ A éœ€è¦ä¸€ä¸ªç‰¹æ®Šçš„é…ç½®é¡¹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åº”ç”¨é…ç½®ç®¡ç†&quot;&gt;åº”ç”¨é…ç½®ç®¡ç†&lt;/h4&gt;

&lt;p&gt;ç®¡ç†å„åº”ç”¨çš„é…ç½®å‚æ•°ï¼Œæœ€ç»ˆå¯èƒ½ä»¥é…ç½®æ–‡ä»¶ï¼Œåº”ç”¨å¯åŠ¨çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œæˆ–æ˜¯åº”ç”¨çš„ç¯å¢ƒå˜é‡ç­‰æ–¹å¼å­˜åœ¨ã€‚å…¶ä¸­éƒ¨åˆ†é…ç½®æš—å«å„åº”ç”¨å„éƒ¨ç½²ç›®æ ‡æœºå™¨ä¹‹é—´çš„äº’è”å…³ç³»ï¼Œå¾€å¾€æ˜¯åŠ¨æ€ç”Ÿæˆå¾—åˆ°ã€‚ä¾‹å¦‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;åº”ç”¨æä¾›æœåŠ¡çš„ç«¯å£å·&lt;/li&gt;
  &lt;li&gt;åº”ç”¨çš„æ•°æ®ç›®å½•&lt;/li&gt;
  &lt;li&gt;åº”ç”¨çš„æ—¥å¿—ç›®å½•&lt;/li&gt;
  &lt;li&gt;æŸåº”ç”¨æœ‰ä¸¤å¥—é…ç½®ï¼Œä¸€å¥—ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œä¸€å¥—åº”ç”¨äºæµ‹è¯•ç¯å¢ƒ&lt;/li&gt;
  &lt;li&gt;æŸæ¡é…ç½®é¡¹ç›®æŒ‰æŸç§ç‰¹å®šè§„å¾‹ç”Ÿæˆ&lt;/li&gt;
  &lt;li&gt;æŸé…ç½®é¡¹ç›®éšæœºç”Ÿæˆï¼Œä½†è¦æ±‚å…¨æœåŠ¡é›†ç¾¤åº”ç”¨çš„æ”¹é…ç½®é¡¹å¿…é¡»ç›¸åŒ&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;éƒ¨ç½²é…ç½®ç®¡ç†&quot;&gt;éƒ¨ç½²é…ç½®ç®¡ç†&lt;/h4&gt;

&lt;p&gt;éƒ¨ç½²é…ç½®ç®¡ç†å…¶å®å°±æ˜¯æ‰€éƒ¨ç½²çš„åº”ç”¨åˆ°å…·ä½“çš„éƒ¨ç½²ç›®æ ‡ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æŸå°æœºå™¨æ˜¯ç›‘æ§æœºï¼Œéœ€è¦éƒ¨ç½²æ‰€æœ‰ç›‘æ§æ¨¡å—&lt;/li&gt;
  &lt;li&gt;æŸå°æœºå™¨éœ€è¦æ‰“å¼€ç«¯å£ 80 æä¾›æœåŠ¡&lt;/li&gt;
  &lt;li&gt;æŸå°æœºå™¨çš„æŸä¸ªç›®å½•éƒ¨ç½²åº”ç”¨ A&lt;/li&gt;
  &lt;li&gt;æŸå°æœºå™¨çš„æŸä¸ªç›®å½•åšåº”ç”¨ B çš„æ•°æ®ç›®å½•&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;éƒ¨ç½²é…ç½®ç®¡ç†çš„é«˜çº§å½¢æ€ï¼Œæ˜¯å£°æ˜å¼ã€‚å³æœºå™¨å£°æ˜æˆ‘æ”¯æŒæŸèµ„æºï¼Œç”±ä¸€é”®éƒ¨ç½²ç³»ç»Ÿè‡ªåŠ¨é€‰æ‹©ä¾èµ–å…³ç³»ã€‚è¿™ä¹Ÿç¨è®¸ç‰µæ‰¯åˆ°é«˜çº§å½¢æ€çš„éƒ¨ç½²ã€‚&lt;/p&gt;

&lt;h3 id=&quot;çŠ¶æ€æ•°æ®ç®¡ç†&quot;&gt;çŠ¶æ€æ•°æ®ç®¡ç†&lt;/h3&gt;

&lt;p&gt;åº”ç”¨çš„æ­£å¸¸è¿è¡Œï¼Œä¸åªä¾èµ–é…ç½®ï¼Œå¾€å¾€è¿˜æœ‰è‹¥å¹²ä¾èµ–æ•°æ®ã€‚ä¼ ç»Ÿçš„é™æ€ä¾èµ–æ•°æ®ä¹‹å¤–ï¼Œå°±æ˜¯åŠ¨æ€æ•°æ®äº†ï¼Œå¾€å¾€ä»¥æ•°æ®åº“æˆ–æ˜¯æ•°æ®ç›®å½•çš„æ–¹å¼å­˜åœ¨ã€‚&lt;/p&gt;

&lt;p&gt;çŠ¶æ€æ•°æ®çš„ç®¡ç†ï¼Œæ˜¯æ•´ä¸ªéƒ¨ç½²å±Šçš„éš¾é¢˜ã€‚è¶Šæ˜¯åºå¤§çš„çŠ¶æ€æ•°æ®ï¼Œåœ¨éƒ¨ç½²ï¼Œç¯å¢ƒå˜æ›´ï¼Œç¾éš¾æ¢å¤ï¼Œä»¥åŠè¿ç§»çš„æ—¶å€™å°±è¶Šæˆä¸ºé—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ç°ä»£åˆ†å¸ƒå¼ç³»ç»Ÿä¸€èˆ¬é€šè¿‡åº•å±‚åˆ†å¸ƒå¼æ•°æ®åº“çš„æ–¹å¼è§£å†³çŠ¶æ€æ•°æ®ç®¡ç†ï¼Œç„¶è€Œè¿™å¸¦æ¥äº†ä¸€ä¸ªé¸¡ç”Ÿè›‹è›‹ç”Ÿé¸¡çš„é—®é¢˜ï¼Œåº•å±‚åˆ†å¸ƒå¼æ•°æ®åº“çš„éƒ¨ç½²ï¼Œåˆæ˜¯ä¸€ä¸ªçŠ¶æ€æ•°æ®ç®¡ç†é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ã€‚æˆ‘ä»¬è¿˜æœ‰åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿã€‚233ã€‚&lt;/p&gt;

&lt;h3 id=&quot;éƒ¨ç½²ç®¡ç†&quot;&gt;éƒ¨ç½²ç®¡ç†&lt;/h3&gt;

&lt;p&gt;éƒ¨ç½²ç®¡ç†ï¼Œå³ç®¡ç†å…·ä½“çš„éƒ¨ç½²æ“ä½œä»»åŠ¡ã€‚å¾€å¾€é€šè¿‡ä»»åŠ¡é˜Ÿåˆ—çš„æ–¹å¼å®ç°ï¼Œæ˜¯æ•´ä¸ªä¸€é”®éƒ¨ç½²æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œå°¤å…¶è¦æä¾›ç›¸å¯¹è¾ƒæ¸…æ™°çš„è¿›åº¦å±•ç¤ºï¼Œå¹¶è¾“å‡ºåˆç†çš„æ“ä½œæ—¥å¿—ä¾›æ—¶å€™è¿½æŸ¥é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;éƒ¨ç½²å¾€å¾€ä¹ŸåŒ…å«äº†å˜æ›´ç®¡ç†ï¼Œå³åº”ç”¨ç‰ˆæœ¬æˆ–æŸä¾èµ–æ›´æ–°åï¼Œå†æ¬¡è§¦å‘éƒ¨ç½²ã€‚æ‰€ä»¥éƒ¨ç½²ä¸åº”æ˜¯ä¸€æ¬¡æ€§ä»»åŠ¡ï¼Œè€Œæ˜¯å¯é‡å…¥ä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;éƒ¨ç½²ä»»åŠ¡çš„è§¦å‘ä¸€èˆ¬æä¾›æ‰‹åŠ¨å’Œè‡ªåŠ¨ä¸¤ç§æ¨¡å¼ã€‚æ‰€è°“çš„â€œä¸€é”®â€å°±æ˜¯è¿™é‡Œç‚¹å‡»çš„â€œéƒ¨ç½²â€æŒ‰é’®ã€‚&lt;/p&gt;

&lt;p&gt;è€Œè‡ªåŠ¨è§¦å‘ï¼Œå°±éš¶å±æŒç»­éƒ¨ç½²æˆ–æ˜¯æŒç»­äº¤ä»˜çš„èŒƒç•´äº†ï¼Œä¸€èˆ¬é€šè¿‡æŸç§è§¦å‘å™¨æˆ–æ˜¯ä»»åŠ¡è®¡åˆ’å®ç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç›‘æ§ç®¡ç†&quot;&gt;ç›‘æ§ç®¡ç†&lt;/h3&gt;

&lt;p&gt;æœåŠ¡çš„æ­£å¸¸è¿è¡Œï¼Œç¦»ä¸å¼€ç›‘æ§ã€‚åœ¨ä¸€é”®éƒ¨ç½²ç³»ç»Ÿä¸­ï¼Œç›‘æ§å¾€å¾€ä½œä¸ºå•ç‹¬çš„åº”ç”¨å­˜åœ¨ï¼Œæ‰€ä»¥å°†ä¹‹åŒ–è§£ä¸ºå¦ä¸€ä¸ªåº”ç”¨ç®¡ç†çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ç›‘æ§å¾€å¾€åŒ…æ‹¬ç›‘æ§æ•°æ®çš„æ”¶é›†ï¼Œç›‘æ§æ•°æ®çš„æŸ¥è¯¢å±•ç¤ºï¼Œæ—¥å¿—æ”¶é›†ç­‰é—®é¢˜ã€‚é«˜çº§å½¢æ€è¿˜åŒ…æ‹¬åŠ¨æ€è°ƒè¯•ç­‰ï¼ŒåŠ å…¥äº†è¯Šæ–­ç³»ç»Ÿçš„åŠŸèƒ½ã€‚&lt;/p&gt;

&lt;p&gt;ç›‘æ§ç³»ç»Ÿä¸€èˆ¬è¿˜ä¼šæä¾›é€šçŸ¥(notification)çš„åŠŸèƒ½ï¼ŒæŠ¥è­¦æˆ–è€…çŠ¶æ€æ—¥æŠ¥ä¿¡æ¯é€šè¿‡é€šçŸ¥ç³»ç»Ÿå‘é€ç»™å…³æ³¨è€…ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æœåŠ¡ç®¡ç†&quot;&gt;æœåŠ¡ç®¡ç†&lt;/h3&gt;

&lt;p&gt;æœåŠ¡ç®¡ç†ç›¸å¯¹è¾ƒç®€å•ï¼Œå³ä¸€ä¸ªéƒ¨ç½²å®Œæˆçš„é›†ç¾¤ï¼Œå…¶ä¸­æœåŠ¡çš„å¯åŠ¨ï¼Œåœæ­¢ï¼Œåˆ åº“è·‘è·¯ç­‰æ“ä½œã€‚å…¶ä¸­è¿˜å¯èƒ½ç‰µæ‰¯åˆ°æœåŠ¡å­˜æ´»æ£€æµ‹ï¼ŒæœåŠ¡è‡ªå¯åŠ¨ï¼ŒæœåŠ¡å¼‚å¸¸è‡ªåŠ¨é‡å¯(ä¿æ´»)ç­‰çŸ¥è¯†ç‚¹ã€‚&lt;/p&gt;

&lt;p&gt;æœåŠ¡ç®¡ç†å¯ä»¥ä½œä¸ºç‰¹æ®Šçš„éƒ¨ç½²æ“ä½œæ¥å®ç°ï¼Œæ¯”å¦‚è®¾å®šç‰¹å®šçš„éƒ¨ç½²åŠ¨ä½œï¼Œæ£€æŸ¥ç¯å¢ƒåå¯åœå¯¹åº”æœåŠ¡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;pm-ä»¬æå‡ºçš„å…¶ä»–ç®¡ç†&quot;&gt;PM ä»¬æå‡ºçš„å…¶ä»–ç®¡ç†&lt;/h3&gt;

&lt;p&gt;å¦‚ä¸Šæ˜¯æ ¸å¿ƒåŠŸèƒ½ã€‚ç„¶å PM å¾€å¾€ä¼šæå…¶ä»–éœ€æ±‚ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æƒé™ç®¡ç†ï¼šä½œä¸ºæŒä¹…è¿è¡Œçš„å˜æ›´ç³»ç»Ÿï¼Œè‡³å°‘éœ€è¦ä¸€ä¸ªæƒé™æ§åˆ¶ï¼Œå°¤å…¶ç”Ÿæˆç¯å¢ƒ
    &lt;ul&gt;
      &lt;li&gt;ç”¨æˆ·ç®¡ç†&lt;/li&gt;
      &lt;li&gt;ç”¨æˆ·ç»„ç®¡ç†&lt;/li&gt;
      &lt;li&gt;ç”¨æˆ·å’Œç”¨æˆ·ç»„çš„æƒé™ç®¡ç†&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;å¤šåº”ç”¨ç®¡ç†ï¼šå³æ•´ä¸ªä¸€é”®éƒ¨ç½²å·¥å…·ä½œä¸ºé€šç”¨å¹³å°&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ä¸€é”®éƒ¨ç½²çš„å°†è¦åˆ°å“ªé‡Œå»&quot;&gt;ä¸€é”®éƒ¨ç½²çš„å°†è¦åˆ°å“ªé‡Œå»&lt;/h2&gt;

&lt;p&gt;ä¸€é”®éƒ¨ç½²ï¼Œç»ˆå°†è¦è¢«äº‘å¹³å°æˆ–æ˜¯äº‘å¹³å°çš„å®¹å™¨ç¼–æ’æ¶ˆç­çš„å§ã€‚&lt;/p&gt;

&lt;p&gt;ä½†åˆ°æ—¶å€™ï¼Œåˆæ˜¯ç»™å®¹å™¨ç¼–æ’åš UI äº†ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="ci" /><summary type="html">æ IT æŠ€æœ¯ç›¸å…³çš„ï¼Œå°¤å…¶æ˜¯åç«¯æŠ€æœ¯å’Œåˆ†å¸ƒå¼ç›¸å…³çš„åŒå­¦ï¼Œæ€•æ˜¯ä¸åªä¸€æ¬¡å¬è¿‡æ‰€è°“çš„ä¸€é”®éƒ¨ç½²çš„ææ³•ï¼Œä¸æ­¤ç›¸ä¼¼æˆ–è€…ç›¸å…³çš„ï¼Œå¯èƒ½è¿˜åŒ…æ‹¬è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¸€é”®ä¸Šçº¿/å›æ»šï¼Œä»¥åŠ CI/CD ç›¸å…³çš„æŒç»­éƒ¨ç½²ï¼ŒæŒç»­é›†æˆï¼ŒæŒç»­äº¤ä»˜ç­‰ç­‰æ¦‚å¿µã€‚</summary></entry><entry><title type="html">Fix Ansible Tower: stdout capture is missing</title><link href="https://andelf.github.io/blog/2016/12/07/fix-ansible-tower-stdout-capture-is-missing/" rel="alternate" type="text/html" title="Fix Ansible Tower: stdout capture is missing" /><published>2016-12-07T16:33:20+08:00</published><updated>2016-12-07T16:33:20+08:00</updated><id>https://andelf.github.io/blog/2016/12/07/fix-ansible-tower-stdout-capture-is-missing</id><content type="html" xml:base="https://andelf.github.io/blog/2016/12/07/fix-ansible-tower-stdout-capture-is-missing/">&lt;p&gt;Ansible Tower will report &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stdout capture is missing&lt;/code&gt; when restoring from previous backup.&lt;/p&gt;

&lt;p&gt;Or run from docker?&lt;/p&gt;

&lt;p&gt;(å¾—ï¼Œä¸è£… B è‹±è¯­äº†)&lt;/p&gt;

&lt;p&gt;é•¿è¯çŸ­è¯´ï¼Œä¹‹å‰è¦æŠŠ Ansible Tower æ‹†åˆ° Docker é‡Œï¼Œç»“æœå‘ç°æ€»ä¸èƒ½æ­£å¸¸æ‰§è¡Œã€‚ä»»åŠ¡ç•Œé¢ä¼šæç¤ºï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;stdout capture is missing
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ£€æŸ¥å‘ç°æ˜¯ celery è¿›ç¨‹å‡ºé”™ï¼Œç”¨ root å¯åŠ¨ celery å€’æ˜¯æ­£å¸¸çš„ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åå‘ç°æ˜¯ docker ä¸­çš„ supervisord å¯åŠ¨æ—¶ç¼ºä¹éƒ¨åˆ†ç¯å¢ƒå˜é‡ï¼Œè§£å†³æ–¹æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;change supervisor/conf.d/tower.conf
ADD:
[program:awx-celeryd]
......
environment=HOME=&quot;/var/lib/awx&quot;,USER=&quot;awx&quot;
......
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ˜¯çš„ï¼Œä¸ºæ‰¾åˆ°åŸå› ï¼Œé€†å‘äº†æ•´ä¸ª Ansible Towerã€‚&lt;/p&gt;

&lt;p&gt;Ref: &lt;a href=&quot;https://github.com/ansible/ansible/issues/13904&quot;&gt;GitHub Issue&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="linux" /><category term="ansible" /><summary type="html">Ansible Tower will report stdout capture is missing when restoring from previous backup.</summary></entry><entry><title type="html">åœ¨ CircleCI ä¸Šä½¿ç”¨ Rust(CircleCI meets Rust)</title><link href="https://andelf.github.io/blog/2016/11/18/circleci-meets-rust/" rel="alternate" type="text/html" title="åœ¨ CircleCI ä¸Šä½¿ç”¨ Rust(CircleCI meets Rust)" /><published>2016-11-18T13:26:15+08:00</published><updated>2016-11-18T13:26:15+08:00</updated><id>https://andelf.github.io/blog/2016/11/18/circleci-meets-rust</id><content type="html" xml:base="https://andelf.github.io/blog/2016/11/18/circleci-meets-rust/">&lt;p&gt;æœ€è¿‘ç”±äºé¢‘é¢‘é‡åˆ° travis-ci çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯ Linux èµ„æºæ’é˜Ÿã€macOS èµ„æºæ›´éœ€è¦æ’é˜Ÿï¼Œå¯¼è‡´è‡ªåŠ¨æµ‹è¯•æ—¶é—´è¢«æ‹‰é•¿ï¼Œ
å½±å“å¼€å‘æ•ˆç‡ã€‚&lt;/p&gt;

&lt;p&gt;äº†è§£åˆ° CircleCI æ˜¯ä¸é”™çš„æ›¿ä»£å“ï¼Œæ‰€ä»¥æ‰“ç®—è¿ç§» Rust é¡¹ç›®è¿‡å»ã€‚å½“ç„¶è¯´èµ·æ¥ï¼Œ CircleCI çš„é‡å¿ƒæ›´å¤§ï¼Œæ˜¯è¦æ¥æ›¿ä»£ jenkins çš„ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰å®˜æ–¹æ”¯æŒè¯­è¨€å…¶å®éƒ½æ¯”è¾ƒè½åï¼ŒåŒ…æ‹¬ go ä¹Ÿåªæ˜¯ 1.6 ç‰ˆæœ¬ï¼Œä½†ä¼¼ä¹ä¸æ˜¯é—®é¢˜ï¼Œè€Œä¸”æ®ä»‹ç»ï¼Œ CircleCI 2.0 æ”¯æŒè‡ªå®šä¹‰ build imageï¼Œæ”¯æŒè¯­è¨€çš„ç‰ˆæœ¬å½“ç„¶ä¸åœ¨è¯ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;æ¯å¤©é¢å¯¹å„ç§ IaaS, PaaSï¼Œå…ä¸äº†å†™é…ç½®æ˜¯ï¼Œè¿™ä¹Ÿæ˜¯ yaml ç¨‹åºå‘˜çš„æ—¥å¸¸ã€‚&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;curl https://sh.rustup.rs -sSf | sh&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;cargo build&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;cargo test&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šã€‚ç„¶è€Œä¸ workã€‚æŠ¥é”™ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cargo build
    Updating registry `https://github.com/rust-lang/crates.io-index`
warning: spurious network error (2 tries remaining): [12/-12] Malformed URL &apos;ssh://git@github.com:/rust-lang/crates.io-index&apos;
warning: spurious network error (1 tries remaining): [12/-12] Malformed URL &apos;ssh://git@github.com:/rust-lang/crates.io-index&apos;
error: failed to fetch `https://github.com/rust-lang/crates.io-index`

To learn more, run the command again with --verbose.

cargo build returned exit code 101

Action failed: cargo build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¥äº†ã€‚åŸæ¥ï¼Œ CircleCI è‡ªä½œèªæ˜åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.gitconfig&lt;/code&gt; é‡Œä¿®æ”¹äº†æ˜ å°„é…ç½®ï¼Œå¼ºåˆ¶ç”¨å®ƒè‡ªå·±çš„ ssh key å»è®¿é—® githubï¼Œrewrite äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://github.com&lt;/code&gt; çš„æ‰€æœ‰ä»“åº“ã€‚
è¿™æ°æ°å’Œ cargo çš„ registry æœºåˆ¶å†²çªã€‚æ‰€ä»¥æŠ¥é”™ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;CircleCI has rewrite &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https:://github.com&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ssh://git@github.com:&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.gitconfig&lt;/code&gt;. And this made cargo fail with above error message.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰¾åˆ°äº†åŸå› ï¼Œå°±å¯ä»¥æäº†ï¼š&lt;/p&gt;

&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;machine&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;sed -i &apos;s/github/git-non-exist-hub/g&apos; ~/.gitconfig&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;curl https://sh.rustup.rs -sSf | sh&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;override&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;cargo build&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;cargo test&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å—¯, Ugly but works.&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="rust" /><category term="ci" /><summary type="html">æœ€è¿‘ç”±äºé¢‘é¢‘é‡åˆ° travis-ci çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯ Linux èµ„æºæ’é˜Ÿã€macOS èµ„æºæ›´éœ€è¦æ’é˜Ÿï¼Œå¯¼è‡´è‡ªåŠ¨æµ‹è¯•æ—¶é—´è¢«æ‹‰é•¿ï¼Œ å½±å“å¼€å‘æ•ˆç‡ã€‚</summary></entry><entry><title type="html">æŠ˜è…¾ Raspberry Pi + HomeKit æ‰‹è®°</title><link href="https://andelf.github.io/blog/2016/09/16/play-homekit-with-ios-10-and-raspberry-pi/" rel="alternate" type="text/html" title="æŠ˜è…¾ Raspberry Pi + HomeKit æ‰‹è®°" /><published>2016-09-16T20:34:43+08:00</published><updated>2016-09-16T20:34:43+08:00</updated><id>https://andelf.github.io/blog/2016/09/16/play-homekit-with-ios-10-and-raspberry-pi</id><content type="html" xml:base="https://andelf.github.io/blog/2016/09/16/play-homekit-with-ios-10-and-raspberry-pi/">&lt;p&gt;9æœˆ14æ—¥å‡Œæ™¨è‹¹æœç»ˆäºæ¨é€äº† iOS 10 çš„æ›´æ–°ã€‚ä»ä¹‹å‰å‘å¸ƒä¼šæ¥çœ‹ï¼Œå¹¶æ²¡æœ‰å¤šå°‘äº®ç‚¹ï¼Œé™¤äº†å‡ å¤©çš„æ–°é²œæ„Ÿä¹‹å¤–ï¼Œ
å°¤å…¶æ˜¯å¯¹äºç›®å‰è¿˜åœ¨ç”¨ä¸Šä¸¤ä»£æœºå‹çš„æˆ‘æ¥è¯´ï¼Œ2333ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¤å¹´å‰è‹¹æœå‘å¸ƒ Swift è¯­è¨€çš„åŒæ—¶ï¼Œæ–°å¢äº† HomeKitï¼Œå½“æ—¶ç”¨å·¥å…· dump è¿‡æœ€è€ç‰ˆæœ¬çš„ Swift å£°æ˜ã€‚ä¼ é€é—¨ï¼š&lt;a href=&quot;https://github.com/andelf/Defines-Swift/blob/6a8cda2e12bf6e5a23979a1ad121e70a0eeef6dd/HomeKit.swift&quot;&gt;HomeKit.swift&lt;/a&gt;ã€‚ç›®å‰æ‰€æœ‰å®˜æ–¹ç›¸å…³çš„èµ„æ–™ä½äº &lt;a href=&quot;http://www.apple.com/ios/home/&quot;&gt;HomeKit - Apple&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¥½æ¶ˆæ¯æ˜¯æœŸå¾…å¾ˆä¹…çš„ HomeKit åº”ç”¨ç»ˆäºä¸Šçº¿ï¼Œå±å¹•ä¸Šå¤šäº†â€œå®¶åº­(Home)â€åº”ç”¨ï¼Œæ§åˆ¶ä¸­å¿ƒï¼ˆä»å±å¹•ä¸‹æ–¹æ»‘åŠ¨ï¼‰ã€
Siri å‡å¯¹æ­¤æœ‰æ”¯æŒã€‚
iOS 10 ç»ˆäºå¼ºåŒ–äº†æ¨å‡ºå·²æœ‰ä¸¤å¹´æ™ºèƒ½å®¶å±…å¹³å°ï¼Œæä¾›äº†å®˜æ–¹ Appï¼Œæœ‰ä¸å°‘ç¡¬ä»¶å‚å•†æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;ç®€å•è¯´ï¼ŒHomeKit å°±æ˜¯è‹¹æœå®˜æ–¹çš„æ™ºèƒ½å®¶å±…å¹³å°è§£å†³æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ç§»åŠ¨è®¾å¤‡ SDKï¼Œæ™ºèƒ½å®¶å±…ç¡¬ä»¶é€šä¿¡åè®®(HAP: HomeKit Accessory Protocol)ã€ä»¥åŠ MFi(Made for iPhone/iPod/iPad) è®¤è¯ç­‰ç­‰ã€‚é€šè¿‡ WiFi æˆ–è“ç‰™è¿æ¥æ™ºèƒ½å®¶å±…è®¾å¤‡ï¼ˆæˆ– bridge è®¾å¤‡ï¼‰ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨ Apple TV(4ä»£) æˆ–é—²å®¶ä¸­çš„ç½® iPad å®ç°è®¾å¤‡çš„è¿œç¨‹æ§åˆ¶ï¼ˆHAP over iCloudï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Home App çš„ç»´åº¦åˆ’åˆ†ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Home: å®¶ï¼Œå’Œåœ°ç†ä½ç½®ç»‘å®šï¼Œæ”¯æŒå…±äº«ç»™å¥½å‹æ§åˆ¶ã€‚&lt;/li&gt;
  &lt;li&gt;Room: æˆ¿é—´ï¼Œç”¨äºå¯¹è®¾å¤‡è¿›è¡Œåˆ†ç»„ã€‚&lt;/li&gt;
  &lt;li&gt;Scene: åœºæ™¯ï¼Œä¸€ç»„å¯¹è®¾å¤‡çš„é…ç½®ï¼Œä¾‹å¦‚â€œèµ·åºŠâ€ï¼Œé‚£ä¹ˆå¯èƒ½çš„é…ç½®æ˜¯æ‰“å¼€å§å®¤ç¯ã€çª—å¸˜ã€æ”¾æ®µèˆ’ç¼“musicç­‰ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥è‹¹æœæ˜¯å–æ•°æ®çº¿ç­‰ç¡¬ä»¶çš„å…¬å¸ï¼ˆå—¯ï¼Œå‡è®¾ä½ æ•°æ®çº¿ä¹Ÿåè¿‡ä¸å°‘ï¼‰ï¼ŒHAP åè®®éƒ¨åˆ†æ˜¯éœ€è¦åŠ å…¥ MFi Program æ‰èƒ½è·å–æ–‡æ¡£ï¼Œè€Œä¸” MFi Program æ— æ³•ä»¥ä¸ªäººå¼€å‘è€…èº«ä»½åŠ å…¥ã€‚&lt;/p&gt;

&lt;p&gt;å¥½åœ¨æœ‰å¥½å¿ƒäººé€†å‘äº† HAP çš„æœåŠ¡ç«¯åè®®ï¼ˆå¯¹äºæ™ºèƒ½ç¡¬ä»¶æ¥è¯´ï¼Œç¡¬ä»¶æ˜¯æœåŠ¡ç«¯ï¼Œæ‰‹æœºAppæ˜¯å®¢æˆ·ç«¯ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äºæŠ˜è…¾å…šæ¥è¯´ï¼Œæœºä¼šæ¥äº†ï¼Œè‡ªå·±åŠ¨æ‰‹æ”¹é€ å®¶å±…ï¼æœ¬æ–‡ä¸æ¶‰åŠ App å¼€å‘ï¼Œåªæ¶‰åŠå¦‚ä½•è‡ªåˆ¶æ”¯æŒ HomeKit çš„è®¾å¤‡ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‡†å¤‡å·¥ä½œ&quot;&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;

&lt;p&gt;è®¾å¤‡åˆ—è¡¨ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;iPhone 6P (iOS 10)&lt;/li&gt;
  &lt;li&gt;Raspberry Pi 3 (Debian jessie)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è€ƒå¯Ÿäº†ä¸¤ä¸ªæ¯”è¾ƒé è°±çš„ HAP å®ç°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;https://github.com/KhaosT/HAP-NodeJS&lt;/li&gt;
  &lt;li&gt;https://github.com/brutella/hc (golang)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æœ€ç»ˆé€‰æ‹©ä½¿ç”¨ golang çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brutella/hc&lt;/code&gt;ï¼Œå‡†å¤‡ç¯å¢ƒã€‚&lt;/p&gt;

&lt;p&gt;éœ€è¦ä¿è¯æ ‘è“æ´¾å’Œæ‰‹æœºä½äºç»Ÿä¸€å­ç½‘ï¼Œå› ä¸º HAP åº•å±‚æ˜¯åŸºäº Apple mDNS(RFC 6762)ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;brutella/hc&lt;/code&gt; è¦æ±‚ golang &amp;gt;= 1.4ï¼Œè€Œ Debian jessie ç‰ˆæœ¬è¾ƒä½ï¼Œ
éœ€è¦é…ç½® jessie-backports æºï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;deb ftp://ftp.cn.debian.org/debian jessie-backports main contrib non-free
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åŒæ—¶å¯¼å…¥æºçš„ GPG Keyã€‚æ–¹æ³•å‚è€ƒ &lt;a href=&quot;http://raspberrypi.stackexchange.com/questions/12258/where-is-the-archive-key-for-backports-debian-org&quot;&gt;è¿™é‡Œ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å®‰è£…å¥½ golang 1.6.2ï¼Œå»ºç«‹å¼€å‘ç›®å½•ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# ä¼¼ä¹ç›´æ¥ install golang ä¼šå‡ºç‚¹å°é—®é¢˜ï¼Œæ‰€ä»¥æŠ˜è¡·ç”¨äº†å¦‚ä¸‹æ–¹æ³•:&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; jessie-backports golang-1.6 golang-1.6-go golang-1.6-src golang-1.6-doc
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; jessie-backports golang
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;ç¤ºä¾‹&lt;/h2&gt;

&lt;p&gt;è·‘é€šå®˜æ–¹ç¤ºä¾‹ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;github.com/brutella/hc&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;github.com/brutella/hc/accessory&quot;&lt;/span&gt;
	&lt;span class=&quot;s&quot;&gt;&quot;log&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;accessory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;s&quot;&gt;&quot;Lamp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;SerialNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;051AC-23AAM1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;Manufacturer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Apple&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;s&quot;&gt;&quot;AB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;accessory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewSwitch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Switch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;On&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OnValueRemoteUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Client changed switch to on&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Client changed switch to off&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;00102003&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewIPTransport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Accessory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fatal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OnTermination&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

	&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç¼–è¯‘æ‰§è¡Œ.&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$ AppleHome&amp;gt; # current dir

$ AppleHome&amp;gt; go get
...

$ AppleHome&amp;gt; go build
...

$ AppleHome&amp;gt; ./AppleHome
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;éšåæ‰“å¼€æ‰‹æœºçš„ Home Appï¼Œæ·»åŠ è®¾å¤‡ï¼Œé€‰æ‹© Lampï¼Œè¾“å…¥ PIN 00102003ï¼Œå®Œæˆé…å¯¹ï¼Œå³å¯ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è‡ªå®šä¹‰è®¾å¤‡&quot;&gt;è‡ªå®šä¹‰è®¾å¤‡&lt;/h2&gt;

&lt;p&gt;æ ‘è“æ´¾å¤–æ¥å°éŸ³ç®±ä¸€åªï¼Œç”¨æ¥æ”¾ç”µå°ï¼Œå°è¯•ç”¨ HomeKit æ§åˆ¶æ ‘è“æ´¾çš„ç¦éŸ³ã€‚å‘½ä»¤ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;amixer set PCM on
amixer set PCM off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-go highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;os/exec&quot;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;github.com/brutella/hc&quot;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;github.com/brutella/hc/accessory&quot;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&quot;log&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;accessory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;            &lt;span class=&quot;s&quot;&gt;&quot;Radio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;SerialNumber&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;051AC-23AAM2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;Manufacturer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Apple&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;          &lt;span class=&quot;s&quot;&gt;&quot;RPI3&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;accessory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewSwitch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Switch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;On&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OnValueRemoteUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Toggled PCM!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;amixer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;set&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;PCM&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;on&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Client changed switch to on&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Command&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;amixer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;set&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;PCM&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;off&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Println&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Client changed switch to off&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;00102004&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NewIPTransport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;acc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Accessory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fatal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;hc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OnTermination&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h2&gt;

&lt;p&gt;HAP å°†æ™ºèƒ½å®¶å±…åˆ†ä¸ºä»¥ä¸‹ç»´åº¦ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Accessory: å•ä¸ªè®¾å¤‡ï¼Œä¾‹å¦‚å¼€å…³ï¼Œæ¸©åº¦è®¡ï¼Œè°ƒèŠ‚å™¨&lt;/li&gt;
  &lt;li&gt;Service: ä¸€ç»„å€¼ï¼Œåˆèµ·æ¥æä¾›æœåŠ¡ï¼Œä¾‹å¦‚ä¸­å¤®ç©ºè°ƒï¼ˆè°ƒèŠ‚æ¸©åº¦ï¼Œé£é€Ÿç­‰ç­‰ï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TODO&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="ios" /><summary type="html">9æœˆ14æ—¥å‡Œæ™¨è‹¹æœç»ˆäºæ¨é€äº† iOS 10 çš„æ›´æ–°ã€‚ä»ä¹‹å‰å‘å¸ƒä¼šæ¥çœ‹ï¼Œå¹¶æ²¡æœ‰å¤šå°‘äº®ç‚¹ï¼Œé™¤äº†å‡ å¤©çš„æ–°é²œæ„Ÿä¹‹å¤–ï¼Œ å°¤å…¶æ˜¯å¯¹äºç›®å‰è¿˜åœ¨ç”¨ä¸Šä¸¤ä»£æœºå‹çš„æˆ‘æ¥è¯´ï¼Œ2333ã€‚</summary></entry><entry><title type="html">Swift 3.0 å°è¯•â€”â€”ä»å…¥é—¨åˆ°å†å­¦ä¸€é—¨(A Glimpse of Swift 3.0)</title><link href="https://andelf.github.io/blog/2016/04/28/a-glimpse-of-swift-3-dot-0/" rel="alternate" type="text/html" title="Swift 3.0 å°è¯•â€”â€”ä»å…¥é—¨åˆ°å†å­¦ä¸€é—¨(A Glimpse of Swift 3.0)" /><published>2016-04-28T10:06:53+08:00</published><updated>2016-04-28T10:06:53+08:00</updated><id>https://andelf.github.io/blog/2016/04/28/a-glimpse-of-swift-3-dot-0</id><content type="html" xml:base="https://andelf.github.io/blog/2016/04/28/a-glimpse-of-swift-3-dot-0/">&lt;p&gt;å®‰è£…å·¥å…·&lt;/p&gt;

&lt;p&gt;https://github.com/kylef/swiftenv&lt;/p&gt;

&lt;h2 id=&quot;swift-30-æ–°å˜åŒ–&quot;&gt;Swift 3.0 æ–°å˜åŒ–&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹å†…å®¹æ¥è‡ª Swift è¯­è¨€ææ¡ˆ&lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;p&gt;Swift 3.0 å‘å¸ƒè®¡åˆ’&lt;/p&gt;

&lt;h3 id=&quot;swift-package-system&quot;&gt;Swift Package System&lt;/h3&gt;

&lt;p&gt;https://github.com/donald-pinckney/swift-packages&lt;/p&gt;

&lt;h2 id=&quot;ast-ç»“æ„&quot;&gt;AST ç»“æ„&lt;/h2&gt;

&lt;p&gt;ä»£ç ä½äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;include/swift/AST&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lib/AST&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ModuleDecl
æ¨¡å—ï¼ˆå•ä¸ªåº“æˆ–æ˜¯å¯æ‰§è¡Œæ–‡ä»¶ï¼‰ã€‚ç¼–è¯‘çš„æœ€å°å•å…ƒï¼Œç”±å¤šä¸ªæ–‡ä»¶ç»„æˆã€‚&lt;/p&gt;

&lt;p&gt;FileUnitï¼ˆæŠ½è±¡ç±»ï¼‰
æ–‡ä»¶ä½œç”¨åŸŸï¼Œæ˜¯ä»£ç ç»„ç»‡çš„æœ€å°å•å…ƒã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;DerivedFileUnit: A container for a module-level definition derived as part of an implicit protocol conformance.&lt;/li&gt;
  &lt;li&gt;SourceFile: A file containing Swift source code. .swift æˆ– .sil ä¹Ÿå¯ä»¥æ˜¯è™šæ‹Ÿ REPL
    &lt;ul&gt;
      &lt;li&gt;Imports: Vec&amp;lt;(ImportedModule, ImportOptions)&amp;gt;&lt;/li&gt;
      &lt;li&gt;Identifier&lt;/li&gt;
      &lt;li&gt;Decls: Vec&lt;Decl&gt;&lt;/Decl&gt;&lt;/li&gt;
      &lt;li&gt;LocalTypeDecl: Vec&lt;TypeDecl&gt;&lt;/TypeDecl&gt;&lt;/li&gt;
      &lt;li&gt;ObjCMethods: Map&amp;lt;ObjCSelector, AbstractFunctionDecl&amp;gt;&lt;/li&gt;
      &lt;li&gt;infix, postfix, prefix operators: OperatorMap&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;BuiltinUnit&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;swift-å‘½ä»¤å…¥å£&quot;&gt;swift å‘½ä»¤å…¥å£&lt;/h2&gt;

&lt;p&gt;å…¥å£å‡½æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tools/driver/driver.cpp&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;é›†æˆå¤šä¸ªå­å·¥å…·ã€‚åŒæ—¶è‹¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PATH&lt;/code&gt; ä¸‹æœ‰åä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift-foobar&lt;/code&gt; çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ™å¯é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift foobar&lt;/code&gt; è°ƒç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç¼–è¯‘å™¨å‰ç«¯-swift--frontend&quot;&gt;ç¼–è¯‘å™¨å‰ç«¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -frontend&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;ç¼–è¯‘ã€‚åŒæ—¶æ”¯æŒæ‰“å°å‡ºå„ç§ç¼–è¯‘æ—¶ä¸­é—´ç»“æœã€‚&lt;/p&gt;

&lt;h3 id=&quot;api-notes-åŠŸèƒ½-swift--apinotes&quot;&gt;API Notes åŠŸèƒ½ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -apinotes&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;å‚è€ƒä¿¡æ¯ä½äº &lt;a href=&quot;https://github.com/apple/swift/tree/master/apinotes&quot;&gt;https://github.com/apple/swift/tree/master/apinotes&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;ç®€å•è¯´ï¼ŒAPI Notes æœºåˆ¶å°±æ˜¯é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.apinotes&lt;/code&gt; æ–‡ä»¶ï¼ˆYAMLæ ¼å¼ï¼‰æè¿° Objective-C Framework å’Œå¯¹åº” Swift API çš„å…³ç³»ã€‚æœ€ç»ˆç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.apinotesc&lt;/code&gt; æ–‡ä»¶ï¼Œä¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ–‡ä»¶ä¸€èµ·ä½œä¸º Swift çš„æ¨¡å—ã€‚&lt;/p&gt;

&lt;p&gt;ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ä¸”ä¸é™äºï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SwiftBridge&lt;/code&gt;ï¼šè®¾ç½®å¯¹åº”çš„ Bridge ç±»å‹ï¼Œä¾‹å¦‚ NSArray å¯¹åº”ä¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swift.Array&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Nullability&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NullabilityOfRet&lt;/code&gt;ï¼š ç±»çš„å±æ€§ã€æ–¹æ³•çš„å‚æ•°ã€è¿”å›å€¼å¯¹åº”ç±»å‹æ˜¯å¦å¯ä»¥ä¸º nullï¼Œå³å¯¹åº”ä¸ Swift çš„ T è¿˜æ˜¯ T?&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Availability&lt;/code&gt;ï¼šæ–¹æ³•æ˜¯å¦åœ¨ Swift ä¸­æš´éœ²ï¼Œå¹¶ç»™å‡º availability message&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SwiftName&lt;/code&gt;ï¼šæ–¹æ³• Selector åœ¨ Swift ä¸­çš„é‡å‘½åï¼Œä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;filteredArrayUsingPredicate:&lt;/code&gt; æ›¿æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;filtered(using:)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Dump ä¸ºYAMLæ–‡ä»¶ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;$&amp;gt; swift -apinotes -binary-to-yaml /path/to/lib/swift/macosx/x86_64/Dispatch.apinotesc -o=-
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;module-wrap-å·¥å…·-swift--modulewrap&quot;&gt;Module Wrap å·¥å…· &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -modulewrap&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// Wraps .swiftmodule files inside an object file container so they
// can be passed to the linker directly. Mostly useful for platforms
// where the debug info typically stays in the executable.
// (ie. ELF-based platforms).
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”¨æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;swift -modulewrap ObjectiveC.swiftmodule -o objc.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®é™…å‘ç°æ˜¯åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt; é‡Œå®šä¹‰äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;___Swift_AST&lt;/code&gt; ç¬¦å·ã€‚&lt;/p&gt;

&lt;h3 id=&quot;repl&quot;&gt;REPL&lt;/h3&gt;

&lt;p&gt;Swift æä¾›äº†ä¸¤ä¸ª REPL(Read-Evaluate-Print Loop)ï¼Œä¸€ä¸ªæ˜¯ Swift æœ¬èº«å†…ç½®ï¼Œå¦ä¸€ä¸ªé›†æˆåˆ°äº† lldb å‘½ä»¤è¡Œä¸‹ã€‚å‰è€…åªæœ‰åŸºæœ¬åŠŸèƒ½ï¼Œå³å°†åºŸå¼ƒï¼Œåè€…åŠŸèƒ½æ›´å¼ºå¤§ã€‚&lt;/p&gt;

&lt;p&gt;å­å‘½ä»¤åˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -deprecated-integrated-repl&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -lldb-repl&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift -repl&lt;/code&gt; å­å‘½ä»¤é€‰æ‹©å¯ç”¨çš„ REPL è¿›å…¥ï¼Œä¸€èˆ¬æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lldb-repl&lt;/code&gt;ï¼Œé™¤éæ‰¾ä¸åˆ° lldb æ—¶ã€‚è¿™ä¹Ÿæ˜¯ Swift å‘½ä»¤ä¸å¸¦ä»»ä½•å‚æ•°çš„é»˜è®¤è¡Œä¸ºã€‚&lt;/p&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;(apple/swift-evolution)[https://github.com/apple/swift-evolution]Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å®‰è£…å·¥å…·</summary></entry><entry><title type="html">Rust Pattern Match(Rustä¸­çš„æ¨¡å¼åŒ¹é…)</title><link href="https://andelf.github.io/blog/2016/03/22/rust-pattern-match/" rel="alternate" type="text/html" title="Rust Pattern Match(Rustä¸­çš„æ¨¡å¼åŒ¹é…)" /><published>2016-03-22T23:35:19+08:00</published><updated>2016-03-22T23:35:19+08:00</updated><id>https://andelf.github.io/blog/2016/03/22/rust-pattern-match</id><content type="html" xml:base="https://andelf.github.io/blog/2016/03/22/rust-pattern-match/">&lt;h1 id=&quot;æ¨¡å¼åŒ¹é…&quot;&gt;æ¨¡å¼åŒ¹é…&lt;/h1&gt;

&lt;p&gt;æ±‰è¯­å­—å…¸ä¸­å¯¹â€œæ¨¡å¼â€çš„è§£é‡Šæ˜¯ï¼šäº‹ç‰©çš„æ ‡å‡†æ ·å¼ã€‚åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œå®ƒæŒ‡ç‰¹å®šç±»å‹çš„æ•°æ®ï¼ˆå¾€å¾€æ˜¯åºåˆ—æˆ–æ˜¯æ ‘å½¢ç»“æ„ï¼‰æ»¡è¶³æŸä¸€ç‰¹å®šç»“æ„æˆ–æ ¼å¼ã€‚â€œåŒ¹é…â€æœ¬èº«æ˜¯æŒ‡ä¸€ä¸ªåˆ¤æ–­å¯»æ‰¾è¿‡ç¨‹ã€‚æœ€æ—©çš„æ¨¡å¼åŒ¹é…ç”¨äºæ–‡æœ¬ç¼–è¾‘å™¨ä¸­çš„æ­£åˆ™å­—ç¬¦ä¸²æœç´¢ï¼Œä¹‹åæ‰ä½œä¸ºç¼–ç¨‹è¯­è¨€ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ¨¡å¼åŒ¹é…åŸºç¡€&quot;&gt;æ¨¡å¼åŒ¹é…åŸºç¡€&lt;/h2&gt;

&lt;p&gt;æ¨¡å¼åŒ¹é…åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸæœ‰ä¸¤å±‚æ„æ€ã€‚å…¶ä¸€ï¼Œå¯ä»¥ç‰¹æŒ‡å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ï¼Œä¾‹å¦‚ä¸ºäººç†ŸçŸ¥çš„ KMP å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•ã€å‘½ä»¤è¡Œå·¥å…· grep ç­‰ã€‚
å…¶äºŒï¼Œç‰¹æŒ‡åœ¨ä¸€äº›è¯­è¨€ä¸­ä½œä¸ºä¸€ç§ä»¥ç»“æ„çš„æ–¹å¼å¤„ç†æ•°æ®çš„å·¥å…·ï¼Œæ­¤æ—¶çš„åŒ¹é…è¿‡ç¨‹å¾€å¾€æ˜¯æ ‘å½¢åŒ¹é…ï¼Œä¸æ­¤ç›¸ä¼´çš„å¾€å¾€è¿˜æœ‰ä¸€ä¸ªç‰¹æ€§å« guardï¼ˆå®ˆå«ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Rust ä¸­æ¨¡å¼åŒ¹é…éšå¤„å¯è§ï¼Œä¾‹å¦‚åœ¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let&lt;/code&gt;å˜é‡ç»‘å®šè¯­å¥ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;match&lt;/code&gt;åŒ¹é…è¯­å¥ä¸­ç­‰ã€‚åˆ©ç”¨å¥½æ¨¡å¼åŒ¹é…è¿™ä¸€ç‰¹æ€§å¯ä»¥ä½¿ä»£ç æ›´ç®€æ´æ˜“æ‡‚ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rust&lt;/code&gt;æ”¯æŒæ¨¡å¼åŒ¹é…ä¸­çš„å˜é‡ç»‘å®šã€ç»“æ„ä½“/å…ƒç»„è§£æ„ã€å®ˆå«æ¡ä»¶åˆ¤æ–­ã€æ•°å€¼èŒƒå›´åŒ¹é…ç­‰ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åŸå§‹åŒ¹é…&quot;&gt;åŸå§‹åŒ¹é…&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;match&lt;/code&gt; è¯­å¥ä¸­å¯ä»¥ç›´æ¥åŒ¹é…å­—é¢å¸¸é‡ï¼Œä¸‹åˆ’çº¿&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_&lt;/code&gt;åŒ¹é…ä»»æ„æƒ…å½¢ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;three&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;anything&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šä»£ç ä¼šæ‰“å°å‡º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;one&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç»“æ„åŒ¹é…&quot;&gt;ç»“æ„åŒ¹é…&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;match&lt;/code&gt; ç”¨äºåŒ¹é…ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ï¼Œå¯»æ‰¾æ»¡è¶³æ¡ä»¶çš„å­åˆ†æ”¯(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;arm&lt;/code&gt;)å¹¶æ‰§è¡Œã€‚æ¯ä¸ªå­åˆ†æ”¯åŒ…å«ä¸‰éƒ¨åˆ†ï¼šä¸€ç³»åˆ—æ¨¡å¼ã€å¯é€‰çš„å®ˆå«æ¡ä»¶ä»¥åŠä¸»ä½“ä»£ç å—ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¤šä¸ªæ¨¡å¼&quot;&gt;å¤šä¸ªæ¨¡å¼&lt;/h3&gt;

&lt;p&gt;æ¯ä¸ªå­åˆ†æ”¯å¯ä»¥æ˜¯å¤šä¸ªæ¨¡å¼ï¼Œé€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|&lt;/code&gt; ç¬¦å·åˆ†å‰²ï¼š&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;one or two&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;three&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;anything&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸Šä»£ç æ‰“å°å‡º&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;one or two&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®ˆå«æ¡ä»¶&quot;&gt;å®ˆå«æ¡ä»¶&lt;/h3&gt;

&lt;p&gt;é€šè¿‡&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if&lt;/code&gt;å¼•å…¥å­åˆ†æ”¯çš„å®ˆå«æ¡ä»¶ï¼š&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OptionalInt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Missing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;OptionalInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;OptionalInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Got an int bigger than five!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;OptionalInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Got an int!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;OptionalInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Missing&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;No such luck.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;æ¨¡å¼åŒ¹é…è¿›é˜¶&quot;&gt;æ¨¡å¼åŒ¹é…è¿›é˜¶&lt;/h2&gt;

&lt;p&gt;å…¶å®è¿›é˜¶ï¼Œä¸å¦‚ç›´æ¥ä»&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libsyntax&lt;/code&gt;æºç çœ‹çœ‹åˆ°åº•æ¨¡å¼åŒ¹é…æ˜¯å¦‚ä½•å®ç°ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syntax::ast::Pat&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä»ASTæºç ä¸­å¯»æ‰¾è¯­æ³•è¦ç´ å±‹å¤–æˆ·ä¸¤ä¸ªè¦ç‚¹ï¼Œå…¶ä¸€ï¼Œè¯­æ³•è¦ç´ æ˜¯å¦‚ä½•è¡¨è¾¾ä¸ºå¯¹åº”ASTçš„ï¼›å…¶äºŒï¼Œå¯¹åº”ASTåœ¨å“ªäº›çˆ¶ASTä¸­å‡ºç°ã€‚&lt;/p&gt;

&lt;p&gt;Rustä¸­ä½¿ç”¨&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;syntax::ast::Pat&lt;/code&gt;æšä¸¾æ¥è¡¨ç¤ºä¸€ä¸ªæ¨¡å¼åŒ¹é…ã€‚&lt;/p&gt;

&lt;div class=&quot;language-rust highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NodeId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;node&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PatKind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PatKind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// Represents a wildcard pattern (`_`)&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// è¡¨ç¤ºé€šé…ï¼Œä¸‹åˆ’çº¿&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Wild&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// A `PatKind::Ident` may either be a new bound variable,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// or a unit struct/variant pattern, or a const pattern (in the last two cases&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// the third field must be `None`).&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;///&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// In the unit or const pattern case, the parser can&apos;t determine&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// which it is. The resolver determines this, and&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// records this pattern&apos;s `NodeId` in an auxiliary&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// set (of &quot;PatIdents that refer to unit patterns or constants&quot;).&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Ident&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BindingMode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpannedIdent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// A struct or struct variant pattern, e.g. `Variant {x, y, ..}`.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// The `bool` is `true` in the presence of a `..`.&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Struct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Spanned&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FieldPat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// A tuple struct/variant pattern `Variant(x, y, z)`.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// &quot;None&quot; means a `Variant(..)` pattern where we don&apos;t bind the fields to names.&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;TupleStruct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// A path pattern.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// Such pattern can be resolved to a unit struct/variant or a constant.&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// An associated const named using the qualified path `&amp;lt;T&amp;gt;::CONST` or&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// `&amp;lt;T as Trait&amp;gt;::CONST`. Associated consts from inherent impls can be&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// referred to as simply `T::CONST`, in which case they will end up as&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// PatKind::Path, and the resolver will have to sort that out.&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;QPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;QSelf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// A tuple pattern `(a, b)`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Tup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// A `box` pattern&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// A reference pattern, e.g. `&amp;amp;mut (a, b)`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mutability&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// A literal&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Lit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// A range pattern, e.g. `1...2`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Expr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// `[a, b, ..i, y, z]` is represented as:&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;///     `PatKind::Vec(box [a, b], Some(i), box [y, z])`&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// A macro pattern; pre-expansion&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Mac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mac&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä»¥ä¸ŠASTå®šä¹‰ï¼Œå³è¯´æ˜ï¼Œåˆ°åº•ä»€ä¹ˆè¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªâ€œæ¨¡å¼â€ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ä»‹ç»&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Pat&lt;/code&gt;åœ¨å“ªäº›ASTä¸­å‡ºç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…¨å±€-item&quot;&gt;å…¨å±€ Item&lt;/h3&gt;

&lt;p&gt;å…¨å±€ Item ä¸­ï¼Œä½¿ç”¨æ¨¡å¼åŒ¹é…çš„å‡ä¸ºå‡½æ•°å‚æ•°ã€‚&lt;/p&gt;

&lt;h4 id=&quot;itemkindfn&quot;&gt;ItemKind::Fn&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; å…¨å±€å‡½æ•° -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnDecl&lt;/code&gt; å‡½æ•°å£°æ˜ -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[Arg]&lt;/code&gt; å‡½æ•°å¤´å‚æ•°å£°æ˜ã€‚&lt;/p&gt;

&lt;h4 id=&quot;itemkindtrait&quot;&gt;ItemKind::Trait&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[TraitItem]&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TraitItemKind::Method&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MethodSig&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnDecl&lt;/code&gt; æ–¹æ³•å£°æ˜ï¼ŒåŒä¸Šã€‚&lt;/p&gt;

&lt;h4 id=&quot;itemkindimpl&quot;&gt;ItemKind::Impl&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Impl&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[ImplItem]&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ImplItemKind::Method&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MethodSig&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnDecl&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;aststmt-è¯­å¥&quot;&gt;ast::Stmt è¯­å¥&lt;/h3&gt;

&lt;h4 id=&quot;stmtkinddecl&quot;&gt;StmtKind::Decl&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Decl&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DeclKind::Local&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å³ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let&lt;/code&gt; è¯­å¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let &amp;lt;pat&amp;gt;:&amp;lt;ty&amp;gt; = &amp;lt;expr&amp;gt;;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;stmtkindexpr-è¡¨è¾¾å¼&quot;&gt;StmtKind::Expr è¡¨è¾¾å¼&lt;/h4&gt;

&lt;p&gt;è§ä¸‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;astexpr&quot;&gt;ast::Expr&lt;/h3&gt;

&lt;p&gt;é™¤&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;match&lt;/code&gt;å¤–ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if let&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;while let&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for&lt;/code&gt;æ§åˆ¶è¯­å¥æ”¯æŒåŒæ—¶è¿›è¡Œæ¨¡å¼åŒ¹é…ã€‚å…·ä½“å®ç°æ˜¯ä¸€ç§&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;desugared&lt;/code&gt;è¿‡ç¨‹ï¼Œå³ï¼Œå»è¯­æ³•ç³–åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;åŒæ—¶ç±»ä¼¼äºå‡½æ•°å®šä¹‰ï¼Œé—­åŒ…å‚æ•°ä¹Ÿæ”¯æŒæ¨¡å¼åŒ¹é…ã€‚&lt;/p&gt;

&lt;h4 id=&quot;if-let&quot;&gt;if let&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IfLet(P&amp;lt;Pat&amp;gt;, P&amp;lt;Expr&amp;gt;, P&amp;lt;Block&amp;gt;, Option&amp;lt;P&amp;lt;Expr&amp;gt;&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if let pat = expr { block } else { expr }&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This is desugared to a match expression.&lt;/p&gt;

&lt;h4 id=&quot;while-let&quot;&gt;while let&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;WhileLet(P&amp;lt;Pat&amp;gt;, P&amp;lt;Expr&amp;gt;, P&amp;lt;Block&amp;gt;, Option&amp;lt;Ident&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;label: while let pat = expr { block }&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;for&quot;&gt;for&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ForLoop(P&amp;lt;Pat&amp;gt;, P&amp;lt;Expr&amp;gt;, P&amp;lt;Block&amp;gt;, Option&amp;lt;Ident&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;label: for pat in expr { block }&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;match&quot;&gt;match&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Match(P&amp;lt;Expr&amp;gt;, Vec&amp;lt;Arm&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;match&lt;/code&gt; è¯­å¥ï¼Œåœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Arm&lt;/code&gt; ä¸­å‡ºç°ï¼Œå…¶ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Arm&lt;/code&gt; å®šä¹‰ä¸º&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pub struct Arm {
    pub attrs: Vec&amp;lt;Attribute&amp;gt;,
    pub pats: Vec&amp;lt;P&amp;lt;Pat&amp;gt;&amp;gt;,
    pub guard: Option&amp;lt;P&amp;lt;Expr&amp;gt;&amp;gt;,
    pub body: P&amp;lt;Expr&amp;gt;,
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;é—­åŒ…&quot;&gt;é—­åŒ…&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Closure(CaptureBy, P&amp;lt;FnDecl&amp;gt;, P&amp;lt;Block&amp;gt;)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;é—­åŒ…ï¼Œä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move |a, b, c| {a + b + c}&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç›¸å…³-feature-gate&quot;&gt;ç›¸å…³ feature gate&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;advanced_slice_patterns&lt;/code&gt; - See the match expressions section for discussion; the exact semantics of slice patterns are subject to change, so some types are still unstable.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slice_patterns&lt;/code&gt; - OK, actually, slice patterns are just scary and completely unstable.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;box_patterns&lt;/code&gt; - Allows box patterns, the exact semantics of which is subject to change.&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;p&gt;https://doc.rust-lang.org/book/patterns.html&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="rust" /><summary type="html">æ¨¡å¼åŒ¹é…</summary></entry><entry><title type="html">å¹¿å·å®æ—¶å·¥å…·Appé€†å‘</title><link href="https://andelf.github.io/blog/2015/06/18/guangzhou-realtime-bus/" rel="alternate" type="text/html" title="å¹¿å·å®æ—¶å·¥å…·Appé€†å‘" /><published>2015-06-18T17:39:06+08:00</published><updated>2015-06-18T17:39:06+08:00</updated><id>https://andelf.github.io/blog/2015/06/18/guangzhou-realtime-bus</id><content type="html" xml:base="https://andelf.github.io/blog/2015/06/18/guangzhou-realtime-bus/">&lt;p&gt;ç®€è®°ã€‚ç”¨äº† IDA Proï¼Œå®‰å“æ‰‹æœºçš„ Remote å®¢æˆ·ç«¯ã€‚ä»¥åŠ apktool ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/andelf/guangzhou-realtime-bus&quot;&gt;Github: guangzhou-realtime-bus&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç”Ÿæˆ e=3 çš„ 1024 ä½ RSA å¯†é’¥å¯¹&lt;/li&gt;
  &lt;li&gt;å…¬é’¥ä¸²ç”¨æŸ¥è¡¨åŠ å¯†(byte æ˜ å°„)ï¼Œç„¶å base64 å°è£…å‘é€ç»™æœåŠ¡å™¨&lt;/li&gt;
  &lt;li&gt;æœåŠ¡å™¨è¿”å›ä¸€ä¸²ç”¨å…¬é’¥åŠ å¯†è¿‡çš„æ•°æ®&lt;/li&gt;
  &lt;li&gt;ç”¨æœ¬åœ°ç§é’¥è§£å¯†åï¼Œè¯¥æ•°æ®åŒ…å«æœªçŸ¥96å­—èŠ‚çš„ä¸€æ®µæ•°æ®å’Œ DES Key&lt;/li&gt;
  &lt;li&gt;ä»æ­¤é€šä¿¡ç”¨ DES åŠ å¯†&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;base64å°è£…è¿‡ç¨‹ï¼šå…ˆæ‰“åŒ…å­—ç¬¦ä¸²é•¿åº¦ï¼Œç„¶åæ˜¯åŸå§‹å­—ç¬¦ä¸²ï¼ˆJSONï¼‰ï¼Œç„¶åæ˜¯&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x10&lt;/code&gt;(md5å­—ç¬¦ä¸²é•¿åº¦)ï¼Œ
ç„¶åæ˜¯ md5 æ ¡éªŒå€¼ã€‚æ•´ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²ç”¨ base64 è½¬ç ï¼ŒPOST ç»™æœåŠ¡å™¨ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“çš„ç™»å½•æ³¨å†Œè¿‡ç¨‹è¿˜éœ€è¦è¿›ä¸€æ­¥æŠ“åŒ…åˆ†æï¼Œä¸è¿‡æš‚æ—¶å…´è¶£ä¸åœ¨è¿™é‡Œäº†ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="crack" /><summary type="html">ç®€è®°ã€‚ç”¨äº† IDA Proï¼Œå®‰å“æ‰‹æœºçš„ Remote å®¢æˆ·ç«¯ã€‚ä»¥åŠ apktool ç­‰ã€‚</summary></entry><entry><title type="html">Swift 2.0 çš„é”™è¯¯å¤„ç†(Swift 2.0 Error Handling)</title><link href="https://andelf.github.io/blog/2015/06/09/swift-2-dot-0-error-handling/" rel="alternate" type="text/html" title="Swift 2.0 çš„é”™è¯¯å¤„ç†(Swift 2.0 Error Handling)" /><published>2015-06-09T15:27:58+08:00</published><updated>2015-06-09T15:27:58+08:00</updated><id>https://andelf.github.io/blog/2015/06/09/swift-2-dot-0-error-handling</id><content type="html" xml:base="https://andelf.github.io/blog/2015/06/09/swift-2-dot-0-error-handling/">&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol ErrorType {
  var _domain: String { get }
  var _code: Int { get }
}

@asmname(&quot;swift_bridgeErrorTypeToNSError&quot;) func _bridgeErrorTypeToNSError(e: ErrorType) -&amp;gt; AnyObject

@asmname(&quot;swift_stdlib_getErrorCode&quot;) func _stdlib_getErrorCode&amp;lt;T : ErrorType&amp;gt;(x: UnsafePointer&amp;lt;T&amp;gt;) -&amp;gt; Int

@asmname(&quot;swift_stdlib_getErrorDomainNSString&quot;) func _stdlib_getErrorDomainNSString&amp;lt;T : ErrorType&amp;gt;(x: UnsafePointer&amp;lt;T&amp;gt;) -&amp;gt; AnyObject
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;foundation&quot;&gt;Foundation&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol _ObjectiveCBridgeableErrorType : ErrorType {
  init?(_bridgedNSError: NSError)
}

struct NSCocoaError : RawRepresentable, _BridgedNSError, _ObjectiveCBridgeableErrorType, ErrorType, __BridgedNSError, Hashable, Equatable {
  let rawValue: Int
  init(rawValue: Int)
  static var _NSErrorDomain: String {
    get {}
  }
  typealias RawValue = Int
}


infix func ==(a: _GenericObjCError, b: _GenericObjCError) -&amp;gt; Bool
infix func ==(a: _GenericObjCError, b: _GenericObjCError) -&amp;gt; Bool
func ==&amp;lt;T : __BridgedNSError where T.RawValue : SignedIntegerType&amp;gt;(lhs: T, rhs: T) -&amp;gt; Bool

@available(OSX 10.11, iOS 9.0, *)
func resolveError(error: NSError?) throws

enum _GenericObjCError : ErrorType {
  case NilError
  var hashValue: Int {
    get {}
  }
  var _domain: String {
    get {}
  }
  var _code: Int {
    get {}
  }
}

@asmname(&quot;swift_stdlib_bridgeNSErrorToErrorType&quot;)
func _stdlib_bridgeNSErrorToErrorType&amp;lt;T : _ObjectiveCBridgeableErrorType&amp;gt;(error: NSError, out: UnsafeMutablePointer&amp;lt;T&amp;gt;) -&amp;gt; Bool

@asmname(&quot;swift_convertNSErrorToErrorType&quot;) func _convertNSErrorToErrorType(error: NSError?) -&amp;gt; ErrorType

@objc enum NSURLError : Int, _BridgedNSError, _ObjectiveCBridgeableErrorType, ErrorType, __BridgedNSError { ... }


protocol __BridgedNSError : RawRepresentable {
  static var _NSErrorDomain: String { get }
}
@asmname(&quot;swift_convertErrorTypeToNSError&quot;) func _convertErrorTypeToNSError(error: ErrorType) -&amp;gt; NSError
func ~=(match: NSCocoaError, error: ErrorType) -&amp;gt; Bool
protocol _BridgedNSError : __BridgedNSError, _ObjectiveCBridgeableErrorType, Hashable {
  static var _NSErrorDomain: String { get }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ErrorType åœ¨ Swift ä¸­è¡¨ç¤ºã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;extension NSError : ErrorType {
  @objc dynamic var _domain: String {
    @objc dynamic get {}
  }
  @objc dynamic var _code: Int {
    @objc dynamic get {}
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">``` protocol ErrorType { var _domain: String { get } var _code: Int { get } }</summary></entry><entry><title type="html">åŒ—äº¬å®æ—¶å…¬äº¤åˆ†æ</title><link href="https://andelf.github.io/blog/2015/06/01/beijing-realtime-bus/" rel="alternate" type="text/html" title="åŒ—äº¬å®æ—¶å…¬äº¤åˆ†æ" /><published>2015-06-01T13:17:50+08:00</published><updated>2015-06-01T13:17:50+08:00</updated><id>https://andelf.github.io/blog/2015/06/01/beijing-realtime-bus</id><content type="html" xml:base="https://andelf.github.io/blog/2015/06/01/beijing-realtime-bus/">&lt;p&gt;361 æ¡çº¿è·¯ï¼Œ705æ¡å•å‘çº¿è·¯ã€‚ aibang è´Ÿè´£æ•°æ®æœåŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;æ¯è¾†è½¦ï¼Œæ¯15ç§’æ›´æ–°ä¸€æ¬¡ GPSï¼Œ&lt;/p&gt;

&lt;p&gt;æ•´ç†æˆä¸º Repo &lt;a href=&quot;https://github.com/andelf/beijing-realtime-bus&quot;&gt;andelf/beijing-realtime-bus&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><category term="blog" /><summary type="html">361 æ¡çº¿è·¯ï¼Œ705æ¡å•å‘çº¿è·¯ã€‚ aibang è´Ÿè´£æ•°æ®æœåŠ¡ã€‚</summary></entry><entry><title type="html">ä¸ºç¬¬ä¸‰æ–¹æ‰©å±•åˆ›å»º Swift æ¨¡å—</title><link href="https://andelf.github.io/blog/2015/01/23/swift-3rd-library-install-as-swift-modules/" rel="alternate" type="text/html" title="ä¸ºç¬¬ä¸‰æ–¹æ‰©å±•åˆ›å»º Swift æ¨¡å—" /><published>2015-01-23T23:21:00+08:00</published><updated>2015-01-23T23:21:00+08:00</updated><id>https://andelf.github.io/blog/2015/01/23/swift-3rd-library-install-as-swift-modules</id><content type="html" xml:base="https://andelf.github.io/blog/2015/01/23/swift-3rd-library-install-as-swift-modules/">&lt;p&gt;æœ¬æ–‡æå‡ºäº†ä¸€ç§å°†ç¬¬ä¸‰æ–¹æ‰©å±•å¼•å…¥åˆ° Swift æ ‡å‡†åº“çš„æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ Alamofire ä¸ºä¾‹ï¼Œ&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cd Path-To-Alamofire-Src-Dir
mkdir -p 32 64

# åˆ›å»ºåŠ¨æ€é“¾æ¥åº“ï¼ŒåŠå¯¹åº” Swift æ¨¡å—ï¼Œ32/64ç‰ˆæœ¬
xcrun swiftc -sdk $(xcrun --show-sdk-path --sdk iphoneos) Alamofire.swift -target arm64-apple-ios7.1 -target-cpu cyclone -emit-library -emit-module -module-name Alamofire -v -o libswiftAlamofire.dylib -module-link-name swiftAlamofire -Xlinker -install_name -Xlinker @rpath/libswiftAlamofire.dylib

mv Alamofire.swiftdoc Alamofire.swiftmodule libswiftAlamofire.dylib ./64

xcrun swiftc -sdk $(xcrun --show-sdk-path --sdk iphoneos) Alamofire.swift -target armv7-apple-ios7.1 -target-cpu cyclone -emit-library -emit-module -module-name Alamofire -v -o libswiftAlamofire.dylib -module-link-name swiftAlamofire -Xlinker -install_name -Xlinker @rpath/libswiftAlamofire.dylib

mv Alamofire.swiftdoc Alamofire.swiftmodule libswiftAlamofire.dylib ./64

# åˆ›å»º universal lib
lipo -create ./{32,64}/libswiftAlamofire.dylib  -output ./libswiftAlamofire.dylib

# åˆ›å»ºæ¨¡æ‹Ÿå™¨ç”¨ lib
xcrun swiftc -sdk $(xcrun --show-sdk-path --sdk iphonesimulator) Alamofire.swift -target i386-apple-ios7.1 -target-cpu yonah -emit-library -emit-module -module-name Alamofire -v -o libswiftAlamofire.dylib -module-link-name swiftAlamofire -Xlinker -install_name -Xlinker @rpath/libswiftAlamofire.dylib
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä»–ç›¸å…³ target&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-target armv7-apple-ios7.1 -target-cpu cortex-a8
-target arm64-apple-ios7.1 -target-cpu cyclone
-target i386-apple-ios7.1 -target-cpu yonah
-target x86_64-apple-ios7.1 -target-cpu core2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®ä½ äº†è§£ Swift æ¨¡å—ç»“æ„çš„åŒ–ï¼Œåº”è¯¥å›æƒ³åˆ°ï¼Œå°†ç¬¬ä¸‰æ–¹æ¨¡å—åˆ›å»ºä¸º swiftmodule åº”è¯¥æ˜¯æœ€é è°±çš„é€‰æ‹©ã€‚ä¸è¿‡å®é™…æ“ä½œå‘ç°ï¼Œ
ç¼–è¯‘å‘½ä»¤æ— æ³•å¾ˆæ–¹ä¾¿åœ°è°ƒæ•´ï¼Œä¸»è¦æ˜¯å› ä¸º xcodebuild ç³»ç»Ÿï¼Œå’Œç¼–è¯‘å‘½ä»¤ä¸çŸ¥é“æ€ä¹ˆå¯¼å‡ºã€‚ä¹Ÿæ˜¯ç•¥çº ç»“ã€‚&lt;/p&gt;

&lt;p&gt;å®é™…ä¸Šï¼Œå¦‚æœä½¿ç”¨ Carthage çš„è¯ï¼Œå³æŠŠç¬¬ä¸‰æ–¹æ‰©å±•ä½œä¸º Framework å¼•å…¥ï¼Œä¼šå¯¼è‡´æ— æ³•æ”¯æŒ iOS 7ï¼Œä½†æ˜¯ Swift æœ¬èº«æ˜¯æ”¯æŒ iOS 7 çš„ï¼Œ
åœ¨ç¼–è¯‘å‘½ä»¤å’Œç”Ÿæˆçš„æ–‡ä»¶ä¸­æ£€æŸ¥å‘ç°ï¼Œå¯¹äº iOS 7ï¼ŒSwift ä½¿ç”¨äº†çº¯é™æ€æ¨¡å—ç¼–è¯‘çš„æ–¹æ³•ã€‚æ‰€ä»¥å…¶å®æˆ‘ä»¬å¼•å…¥ç¬¬ä¸‰æ–¹æ‰©å±•çš„æ—¶å€™ä¹Ÿå¯ä»¥è¿™æ ·åšã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹æ˜¯é™æ€ç¼–è¯‘æ‰€éœ€å‘½ä»¤ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun swift -sdk $(xcrun --show-sdk-path --sdk macosx) SwiftyJSON.swift -c -parse-as-library -module-name SwiftyJSON -v -o SwiftyJSON.o

ar rvs libswiftSwiftyJSON.a SwiftyJSON.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä½•ä½¿ç”¨ï¼Ÿ&lt;/p&gt;

&lt;p&gt;å°†ç¼–è¯‘ç»“æœæ‰”åˆ°ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift
/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/lib/swift_static
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸‹å¯¹åº”ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶ååœ¨ Xcode é‡Œï¼Œç›´æ¥ importã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æœ¬æ–‡æå‡ºäº†ä¸€ç§å°†ç¬¬ä¸‰æ–¹æ‰©å±•å¼•å…¥åˆ° Swift æ ‡å‡†åº“çš„æ–¹æ³•ã€‚</summary></entry><entry><title type="html">Swift beta3 Changes ( Swift åœ¨ beta3 ä¸­çš„å˜åŒ–ï¼‰</title><link href="https://andelf.github.io/blog/2014/07/08/swift-beta3-changes/" rel="alternate" type="text/html" title="Swift beta3 Changes ( Swift åœ¨ beta3 ä¸­çš„å˜åŒ–ï¼‰" /><published>2014-07-08T17:22:11+08:00</published><updated>2014-07-08T17:22:11+08:00</updated><id>https://andelf.github.io/blog/2014/07/08/swift-beta3-changes</id><content type="html" xml:base="https://andelf.github.io/blog/2014/07/08/swift-beta3-changes/">&lt;p&gt;å‡†ç¡®è¯´æ˜¯ beta2 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swift version 1.0 (swift-600.0.34.4.8)&lt;/code&gt; åˆ° beta3 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swift version 1.0 (swift-600.0.38.7)&lt;/code&gt; çš„å˜åŒ–ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº†ï¼Œè¡¥å……ä¸‹ã€‚ beta1 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swift version 1.0 (swift-600.0.34.4.5)&lt;/code&gt; åˆ° beta2 å‡ ä¹æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¯­æ³•&quot;&gt;è¯­æ³•&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; æˆä¸ºå…³é”®å­—ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[KeyType : ValueType]&lt;/code&gt; å¯ä»¥è¡¨ç¤ºå­—å…¸ç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&amp;lt;KeyType, ValueType&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[Type]&lt;/code&gt; ç”¨äºè¡¨ç¤ºåŸ Array ç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type[]&lt;/code&gt;ï¼Œç­‰ä»· &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&amp;lt;T&amp;gt;&lt;/code&gt;ï¼ŒåŸç”¨æ³•ä¼šå¯¼è‡´è­¦å‘Šã€‚&lt;/p&gt;

&lt;p&gt;&lt;del&gt;å¢åŠ  @noinline å±æ€§&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;..&lt;/code&gt; è¿ç®—ç¬¦æ”¹ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;..&amp;lt;&lt;/code&gt;ï¼Œä¸å®¹æ˜“å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...&lt;/code&gt; æ··æ·†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‡½æ•°ç±»å‹&quot;&gt;å‡½æ•°ã€ç±»å‹&lt;/h2&gt;

&lt;p&gt;åŸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sort()&lt;/code&gt; æ”¹åä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sorted()&lt;/code&gt;ã€‚æ–°å¢ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sort()&lt;/code&gt; å‡½æ•°ï¼Œå‚æ•°ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inout&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;Index ç±»å‹ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.succ()&lt;/code&gt; å˜ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.successor()&lt;/code&gt;ã€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.pred()&lt;/code&gt; å˜ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.predecessor()&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;cobjc-äº¤äº’å˜åŒ–&quot;&gt;C/ObjC äº¤äº’å˜åŒ–&lt;/h2&gt;

&lt;p&gt;å¢åŠ  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafeMutableArray&amp;lt;T&amp;gt;&lt;/code&gt; ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;å¢åŠ  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CFunctionPointer&amp;lt;T&amp;gt;&lt;/code&gt; ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;åˆ é™¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstVoidPointer&lt;/code&gt;ã€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutableVoidPointer&lt;/code&gt;ã€‚æ›¿æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;()&amp;gt;&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConstUnsafePointer&amp;lt;Int32&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åˆ é™¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstPointer&amp;lt;T&amp;gt;&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚æ›¿æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ConstUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¹ˆä¸€æ¥æŒ‡é’ˆæ“ä½œç®€å•äº†å¥½å¤šã€‚åŸæœ‰ä¼šå‡ºç° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt; çš„ä¸åˆç†æƒ…å†µï¼Œä¹Ÿéƒ½å¯¹åº”åˆ°é€‚åˆçš„ç±»å‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt; å¯ä»¥ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;UInt8&amp;gt;&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;CChar&amp;gt;&lt;/code&gt; ä¸¤ç§ç±»å‹æ„é€ è·å¾—ï¼Œä¹‹å‰åªæ”¯æŒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UInt8&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;module.map ä¸­å¤´æ–‡ä»¶å£°æ˜è½¬æ¢ä¸º Swift å£°æ˜ä¸å†ä½¿ç”¨ C å…¼å®¹ç±»å‹ï¼Œç›´æ¥ä½¿ç”¨ Swift ç›¸åº”ç±»å‹ã€‚åŸæœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CInt&lt;/code&gt;ï¼Œç°åœ¨æˆä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Int32&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç»“æ„ä½“ä¼šè‡ªåŠ¨æ·»åŠ æ„é€ å‡½æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;init(field1:field2:...)&lt;/code&gt; è¿™æ ·ã€‚&lt;/p&gt;

&lt;h3 id=&quot;nil&quot;&gt;nil&lt;/h3&gt;

&lt;p&gt;å»æ‰äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NilType&lt;/code&gt;ï¼Œå¢åŠ äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NilLiteralConvertible&lt;/code&gt;ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; æˆä¸ºå…³é”®å­—ã€‚å¯ä»¥è®¤ä¸ºæ˜¯ nil å¸¸é‡ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol NilLiteralConvertible {
  class func convertFromNilLiteral() -&amp;gt; Self
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é™¤äº† Optional ã€ä¸Šé¢æ‰€æåˆ°çš„æŒ‡é’ˆç±»å‹å¤–ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawOptionSet&lt;/code&gt; ä¹Ÿå®ç°äº†è¯¥åè®®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;array&quot;&gt;Array&lt;/h3&gt;

&lt;p&gt;å»æ‰äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.copy()&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unshare()&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;å¢åŠ äº†ä»¥ä¸‹æ–¹æ³•ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func makeUnique(inout buffer: ArrayBuffer&amp;lt;T&amp;gt;, e: T, index: Int)
func sorted(isOrderedBefore: (T, T) -&amp;gt; Bool) -&amp;gt; Array&amp;lt;T&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹èµ·æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&lt;/code&gt; å¯¹åº•å±‚å®¹å™¨çš„å¼•ç”¨æœ‰äº†æ›´å¥½çš„æ§åˆ¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayBufferType&lt;/code&gt; å¢åŠ äº†åˆ¤æ–­æ–¹æ³• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func isMutableAndUniquelyReferenced() -&amp;gt; Bool&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;Array ç›®å‰å¯ä»¥è®¤ä¸ºæ˜¯çœŸæ­£çš„å€¼ç±»å‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æŒ‡é’ˆ&quot;&gt;æŒ‡é’ˆ&lt;/h3&gt;

&lt;h4 id=&quot;å¢åŠ äº†-_pointer-protocol&quot;&gt;å¢åŠ äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_Pointer&lt;/code&gt; protocol&lt;/h4&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_Pointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;value:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¡¨ç¤ºä¸€ä¸ªç±»å‹å¯ä»¥å¯¹åº”åˆ°åŸç”ŸæŒ‡é’ˆã€‚&lt;/p&gt;

&lt;p&gt;åŒæ—¶æˆä¸ºå†…éƒ¨æ¡¥æ¥ç±»å‹ï¼Œç¼–è¯‘å™¨å†…éƒ¨åœ¨è½¬æ¢æ—¶ä½¿ç”¨å®ƒï¼ˆå–å‡º RawPointer, æ„é€ å…·ä½“æŒ‡é’ˆç±»å‹ï¼‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ¨¡å—&quot;&gt;æ¨¡å—&lt;/h2&gt;

&lt;p&gt;å¢åŠ äº†  StdlibUnittest æ¨¡å—ã€‚ &lt;a href=&quot;https://github.com/andelf/Defines-Swift/blob/79ed8d40659e4d038f41e3c30b4b3358106bd50a/StdlibUnittest.swift&quot;&gt;å£°æ˜ä»£ç &lt;/a&gt;ã€‚å•å…ƒæµ‹è¯•ç»ˆäºæœ‰äº†ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å‡†ç¡®è¯´æ˜¯ beta2 Swift version 1.0 (swift-600.0.34.4.8) åˆ° beta3 Swift version 1.0 (swift-600.0.38.7) çš„å˜åŒ–ã€‚</summary></entry><entry><title type="html">Use Swift Dynamic Framework ï¼ˆå¦‚ä½•ç§‘å­¦åœ°å¼•ç”¨ç¬¬ä¸‰æ–¹ Swift åº“)</title><link href="https://andelf.github.io/blog/2014/07/07/use-swift-dynamic-library/" rel="alternate" type="text/html" title="Use Swift Dynamic Framework ï¼ˆå¦‚ä½•ç§‘å­¦åœ°å¼•ç”¨ç¬¬ä¸‰æ–¹ Swift åº“)" /><published>2014-07-07T12:09:54+08:00</published><updated>2014-07-07T12:09:54+08:00</updated><id>https://andelf.github.io/blog/2014/07/07/use-swift-dynamic-library</id><content type="html" xml:base="https://andelf.github.io/blog/2014/07/07/use-swift-dynamic-library/">&lt;p&gt;æ’å 16 äº†ã€‚å•§å•§ã€‚ä½ çœ‹æ‰åˆšå‡ºä¸€ä¸ªæœˆã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰å·²ç»æœ‰äº†å¾ˆå¤šéå¸¸æ£’çš„ Swift ç¬¬ä¸‰æ–¹åº“ï¼Œ JSON å¤„ç†å•Šã€ HTTP è®¿é—®å•Šã€ UIView æ’ä»¶å•Šç­‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚ä½•ç§‘å­¦åœ°å¼•ç”¨è¿™äº›ç¬¬ä¸‰æ–¹åº“å‘¢ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;ç°çŠ¶&quot;&gt;ç°çŠ¶&lt;/h2&gt;

&lt;p&gt;CocoaPods ç”±äºå®Œå…¨ä½¿ç”¨é™æ€é“¾æ¥è§£å†³æ–¹æ³•ï¼Œè¿‡åº¦ä¾èµ– Objective-C ï¼Œç›®å‰åº”è¯¥æ˜¯å®˜æ–¹ repo æœ‰æåˆ°æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Xlinker&lt;/code&gt; error , è¿™ä¸ªé—®é¢˜ä¹‹å‰æˆ‘ä¹Ÿé‡åˆ°è¿‡ï¼Œæ— è§£ã€‚é™¤éæ‰‹å·¥æ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ar&lt;/code&gt; ä¸ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ld&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libtool&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å°ä¼™ä¼´æœ‰ç”¨å­ç›®å½•çš„æ–¹æ³•å¼•ç”¨ä»£ç ï¼Œè²Œä¼¼ä¸é”™ï¼Œè¿˜æœ‰å°±æ˜¯ç›´æ¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git submodule&lt;/code&gt;ï¼Œçœ‹èµ·æ¥ç»´æŠ¤æ€§ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç®€å•è§£å†³æ–¹æ¡ˆ&quot;&gt;ç®€å•è§£å†³æ–¹æ¡ˆ&lt;/h2&gt;

&lt;p&gt;ä¸€ä¸ªè‰¯å¥½çš„ç¬¬ä¸‰æ–¹åº“åº”è¯¥å®ç°ä¸º Cocoa Touch Framework (å®é™…å†…å®¹ä¸º Header + åŠ¨æ€é“¾æ¥åº“)ã€‚è€Œä¸æ˜¯ç›´æ¥æŠŠ Swift ä»£ç  Copy è¿‡æ¥æ”¾å…¥è‡ªå·±çš„é¡¹ç›®ã€‚è¿™é‡Œä»¥ä¸€ä¸ªç®€å•é¡¹ç›®ä¸ºä¾‹ï¼Œä»‹ç»å¦‚ä½•ç§‘å­¦ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç›®æ ‡æè¿°&quot;&gt;ç›®æ ‡æè¿°&lt;/h3&gt;

&lt;p&gt;ç”¨ Swift åˆ›å»ºä¸€ä¸ª Demo ï¼Œä½¿ç”¨ SwiftyJSON å’Œ LTMorphingLabel åº“ã€‚&lt;/p&gt;

&lt;p&gt;é¡¹ç›®çš„åå­—å« DemoApp ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åˆ›å»º-workspace&quot;&gt;åˆ›å»º Workspace&lt;/h4&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ª Workspace ï¼Œåå­—éšæ„ï¼Œä½ç½®èƒ½æ‰¾åˆ°å°±å¥½ã€‚è¿™ä¸ª Workspace ä¸»è¦ç”¨æ¥ç®¡ç†æˆ‘ä»¬çš„é¡¹ç›®åŠå…¶ä¾èµ–çš„ç¬¬ä¸‰æ–¹åº“ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åˆ›å»º-demoapp&quot;&gt;åˆ›å»º DemoApp&lt;/h4&gt;

&lt;p&gt;åœ¨ Workspace åˆ›å»ºä¸€ä¸ª App ï¼Œå› ä¸ºæ˜¯æµ‹è¯•æ‰€ä»¥æˆ‘é€‰äº† Single View Application ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å¼•å…¥-swiftyjson&quot;&gt;å¼•å…¥ SwiftyJSON&lt;/h4&gt;

&lt;p&gt;SwiftyJSON æ˜¯ä¸€ä¸ª Cocoa Touch Framework ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt; åï¼Œæ·»åŠ é¡¹ç›®åˆ° Workspace å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;å°è¯•æ“ä½œå‘ç°ã€‚ã€‚æœ€å®¹æ˜“æœ€ä¸ä¼šå‡ºé”™çš„æ–¹æ³•å°±æ˜¯ç›´æ¥ä» Finder é‡ŒæŠŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.xcodeproj&lt;/code&gt; æ–‡ä»¶æ‹–åŠ¨åˆ° Workspace ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å¼•å…¥-ltmorphinglabel&quot;&gt;å¼•å…¥ LTMorphingLabel&lt;/h4&gt;

&lt;p&gt;LTMorphingLabel æ˜¯ä¸€ä¸ª App Deme å¼é¡¹ç›®ã€‚å…¶ä¸­ Label View çš„å®ç°åœ¨ä¸€ä¸ªå­ç›®å½•ä¸­ã€‚å¯ä»¥é‡‡ç”¨åˆ›å»º Cocoa
Touch Framework çš„æ–¹æ³•æ¥å¼•å…¥è¿™å‡ ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æŠŠç›®å½•æ‹–åˆ°æˆ‘ä»¬çš„ DemoApp é‡Œï¼Œä¸è¿‡å¤ªåŸå§‹ç²—æš´äº†ã€‚&lt;/p&gt;

&lt;h4 id=&quot;ä¸º-app-æ·»åŠ ä¾èµ–&quot;&gt;ä¸º App æ·»åŠ ä¾èµ–&lt;/h4&gt;

&lt;p&gt;åœ¨ DemoApp çš„ Genral é€‰é¡¹å¡ä¸­ï¼Œæ·»åŠ  Linked Frameworks and Libraries ã€‚é€‰æ‹©  Workspace ä¸­ SwiftyJSON å’Œ
LTMorphingLabel ä¸¤ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœæ˜¯ç›´æ¥é€‰æ‹©æ¥è‡ªå…¶ä»–é¡¹ç›®çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; è€Œä¸æ˜¯åŒä¸€ Workspace ï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿè®¸è¿˜è¦åŒæ—¶åŠ å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Embedded Binaries&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨&lt;/h4&gt;

&lt;p&gt;æ·»åŠ å¥½ä¾èµ–åï¼Œå°±å¯ä»¥åœ¨ DemoApp é¡¹ç›®ä»£ç ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import SwiftyJSON&lt;/code&gt; æˆ–è€… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import LTMorphingLabel&lt;/code&gt; æ¥ä½¿ç”¨å¯¹åº”çš„åº“ã€‚åŒæ—¶è¿˜å¯ä»¥ç”¨ Command + é¼ æ ‡ç‚¹å‡»çš„æ–¹æ³•æŸ¥çœ‹å£°æ˜ä»£ç ã€‚&lt;/p&gt;

&lt;h4 id=&quot;é™¤é”™&quot;&gt;é™¤é”™&lt;/h4&gt;

&lt;p&gt;æ¯”è¾ƒå‘çˆ¹çš„æ˜¯ï¼Œå®é™…ä¸ŠæŒ‰ç…§ä»¥ä¸Šæ–¹æ³•ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LTMorphingLabel&lt;/code&gt; å¹¶ä¸èƒ½æ­£å¸¸ä½¿ç”¨ï¼ŒæŸ¥çœ‹æŠ¥é”™ä¿¡æ¯å‘ç°æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LTMorphingLabel-Swift.h&lt;/code&gt; æœ‰å¤„è¯­æ³•æ— æ³•è¢«è¯†åˆ«ï¼Œç¼–è¾‘å™¨æ‰¾åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.h&lt;/code&gt; æ–‡ä»¶ï¼Œæ³¨é‡Šæ‰è¿™è¡Œè¯¡å¼‚ä»£ç å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;çœ‹èµ·æ¥ç›®å‰çš„ Bridge Header å’Œ -emit-objc-header å®ç°è¿˜æ˜¯æœ‰é—®é¢˜çš„ã€‚å°ä¼™ä¼´ä¸€å®šè¦æ·¡å®šã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¯¹äºé-workspace&quot;&gt;å¯¹äºé Workspace&lt;/h2&gt;

&lt;p&gt;å¦‚æœä¸å–œæ¬¢ä½¿ç”¨ Workspace ï¼Œä¹Ÿå¯ä»¥å°†ç¬¬ä¸‰æ–¹åº“çš„ç¼–è¯‘ç»“æœï¼Œä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; ç›®å½•æ‹–åˆ°é¡¹ç›®æ–‡ä»¶é‡Œï¼Œç„¶åæ·»åŠ  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Embedded Binaries&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¯„è®º&quot;&gt;è¯„è®º&lt;/h2&gt;

&lt;p&gt;åˆ›å»º Cocoa Touch Framework é€‰é¡¹ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Swift ä»£ç ï¼Œæ­¤æ—¶ç¼–è¯‘ç»“æœï¼ˆé»˜è®¤ï¼‰ä¼šåŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.modulemap&lt;/code&gt; æ–‡ä»¶ï¼Œ
ä¹‹å‰æœ‰ä»‹ç»è¿‡å®ƒçš„ä½œç”¨ï¼Œé€šè¿‡å®ƒï¼Œ Swift å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ã€‚å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/19/modules-for-swift/&quot;&gt;Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)&lt;/a&gt; ã€‚&lt;/p&gt;

&lt;p&gt;å®é™…ä¸Šè¿™ä¸ªè§£å†³æ–¹æ¡ˆç»•äº†ä¸€å¤§åœˆï¼Œé€šè¿‡ Swift æ–‡ä»¶å¯¼å‡º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ProjName-Swift.h&lt;/code&gt;ã€ç„¶å &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.modulemap&lt;/code&gt; æ¨¡å—æè¿°æ–‡ä»¶å¼•å…¥ã€ç„¶åå†ç”± Swift å¯¼å…¥ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; åŒæ—¶ä¹ŸåŒ…å«äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ProjName.swiftmodule/[ARCH].swiftmodule&lt;/code&gt; ä¸è¿‡çœ‹èµ·æ¥æ²¡æœ‰ä½¿ç”¨åˆ°ï¼Œè€Œä¸”é»˜è®¤åœ¨ IDE ä¸‹ä¹Ÿä¸æ”¯æŒ Swift ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ–‡ä»¶å¯¼å…¥ï¼Œæ¯”è¾ƒå‘ã€‚å¸Œæœ›ä»¥åç‰ˆæœ¬èƒ½åŠ å…¥æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; åŒ…å«äº†æ‰€æœ‰ Swift æ ‡å‡†åº“çš„åŠ¨æ€é“¾æ¥åº“ï¼Œå°ä¼™ä¼´å¯èƒ½ä¼šä»¥ä¸ºè¿™ä¼šå¯¼è‡´ç¼–è¯‘åçš„ App å˜å¤§ã€‚å…¶å®å¤§å¯æ”¾å¿ƒï¼Œä»»ä½• Swift è¯­è¨€çš„ App éƒ½ä¼šåŒ…å«è¿™äº›åŠ¨æ€é“¾æ¥åº“ï¼Œè€Œä¸”åªä¼šåŒ…å«ä¸€ä¸ªå‰¯æœ¬ã€‚æ­¤æ–¹æ³•å¯¹ App æœ€ç»ˆçš„å¤§å°å‡ ä¹æ— å½±å“ã€‚&lt;/p&gt;

&lt;p&gt;æ³¨ï¼š ä¸ªäººæµ‹è¯•äº†ä¸‹ï¼Œå‘ç°è¿™ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–æ–¹æ³•ä½¿ç”¨çš„ï¼Œç»•è¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.modulemap&lt;/code&gt;ï¼Œåº”è¯¥æ˜¯æ›´ä½³çš„è§£å†³æ–¹æ¡ˆï¼Œä½†æ˜¯éœ€è¦æ§åˆ¶å‘½ä»¤è¡Œå‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;è‡³äºé™æ€é“¾æ¥åº“ï¼Œè¿‡æ—¶äº†ã€‚æŠ›å¼ƒå§ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/19/modules-for-swift/&quot;&gt;Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/25/write-swift-module-with-swift-cont/&quot;&gt;Write Swift Module Cont. Static Library ï¼ˆä½¿ç”¨ Swift åˆ›å»º Swift æ¨¡å— - é™æ€é“¾æ¥åº“ï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æ’å 16 äº†ã€‚å•§å•§ã€‚ä½ çœ‹æ‰åˆšå‡ºä¸€ä¸ªæœˆã€‚</summary></entry><entry><title type="html">Swift Undocumented Grammar ï¼ˆSwift é»‘è¯­æ³•ï¼‰</title><link href="https://andelf.github.io/blog/2014/07/04/swift-undocumented-grammar/" rel="alternate" type="text/html" title="Swift Undocumented Grammar ï¼ˆSwift é»‘è¯­æ³•ï¼‰" /><published>2014-07-04T03:05:11+08:00</published><updated>2014-07-04T03:05:11+08:00</updated><id>https://andelf.github.io/blog/2014/07/04/swift-undocumented-grammar</id><content type="html" xml:base="https://andelf.github.io/blog/2014/07/04/swift-undocumented-grammar/">&lt;p&gt;æœ¬æ–‡ä»‹ç» Swift çš„ Undocumented è¯­æ³•ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;ç”µå­ä¹¦ä¸Šä»‹ç»çš„ default function parameter è¿™é‡Œéƒ½ä¸å¥½æ„æ€æ‹¿å‡ºæ¥å†™ã€‚&lt;/p&gt;

&lt;p&gt;å’³å’³ã€‚æŒç»­æ›´æ–°ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç”¨å…³é”®å­—å½“å˜é‡å&quot;&gt;ç”¨å…³é”®å­—å½“å˜é‡å&lt;/h2&gt;

&lt;p&gt;Keywards as variable name.&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// escaped variable name&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;`let`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;`let`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;variable&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;named&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;new-å…³é”®å­—&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;new&lt;/code&gt; å…³é”®å­—&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;new&lt;/code&gt; keyword.&lt;/p&gt;

&lt;p&gt;å¿«é€Ÿåˆå§‹åŒ–æ•°ç»„ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an_array_with_100_zero&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;protocol-type&quot;&gt;protocol type&lt;/h2&gt;

&lt;p&gt;use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&amp;lt;Protocol1, Protocol2, ...&amp;gt;&lt;/code&gt; as a type.&lt;/p&gt;

&lt;h2 id=&quot;how-i-find-it&quot;&gt;How I find it?&lt;/h2&gt;

&lt;p&gt;çè¯•å‡ºæ¥çš„ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æœ¬æ–‡ä»‹ç» Swift çš„ Undocumented è¯­æ³•ç‰¹æ€§ã€‚</summary></entry><entry><title type="html">Cocoa Extensions in Swift ( Cocoa åœ¨ Swift ä¸­æ‰€æ·»åŠ çš„æ‰©å±•ï¼‰</title><link href="https://andelf.github.io/blog/2014/07/04/cocoa-in-swift/" rel="alternate" type="text/html" title="Cocoa Extensions in Swift ( Cocoa åœ¨ Swift ä¸­æ‰€æ·»åŠ çš„æ‰©å±•ï¼‰" /><published>2014-07-04T01:05:55+08:00</published><updated>2014-07-04T01:05:55+08:00</updated><id>https://andelf.github.io/blog/2014/07/04/cocoa-in-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/07/04/cocoa-in-swift/">&lt;p&gt;æœ€è¿‘çœ‹åˆ°äº† &lt;a href=&quot;https://github.com/raywenderlich/swift-style-guide&quot;&gt;Swift Style Guide&lt;/a&gt; ä¸ªäººè§‰å¾—å†…å®¹å¤ªå°‘ï¼Œ
Swift æœ¬èº«ä½œä¸ºä¸€é—¨åºå¤§çš„è¯­è¨€ï¼Œè¯­ç´ ä¼—å¤šã€‚æœ¬æ–‡å°± Swift æœ¬èº«å¯¹ Cocoa çš„æ‰©å±•ï¼Œçœ‹çœ‹å¯¹æ—¥å¸¸ Cocoa é£æ ¼æœ‰ä»€ä¹ˆå½±å“ã€‚&lt;/p&gt;

&lt;p&gt;Swift æœ¬èº«çš„ç‰¹æ€§ï¼Œå¯¼è‡´å®ƒåœ¨ä¸€äº›ç”¨æ³•ä¸Šå’Œ Objective-C ä¸Šæœ‰æ‰€ä¸åŒï¼Œæ¯”å¦‚ ObjC çš„ struct å•çº¯å’Œ C çš„ä¸€æ ·ï¼Œä½†æ˜¯åœ¨ Swift
ä¸­çš„ struct åˆ™è¦å¼ºå¤§å¾—å¤šã€‚&lt;/p&gt;

&lt;p&gt;ä¸ªäººè®¤ä¸ºæ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CGPointMake&lt;/code&gt; è¿™æ ·çš„å‡½æ•°ï¼Œç†è®ºä¸Šä¸åº”è¯¥å‡ºç°åœ¨ Swift ä»£ç ä¸­ã€‚è€Œæ˜¯åº”è¯¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CGPoint(x:y:)&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡å¯ä»¥ä½œä¸ºå‚è€ƒæ‰‹å†Œä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ ‡å‡†åº“æ‰©å±•&quot;&gt;æ ‡å‡†åº“æ‰©å±•&lt;/h2&gt;

&lt;h3 id=&quot;objectivec&quot;&gt;ObjectiveC&lt;/h3&gt;

&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯ Selector ç›¸å…³æ–¹æ³•ï¼Œå®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StringLiteralConvertible&lt;/code&gt;ã€‚ä¹Ÿå¯ä»¥ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; è·å¾—ã€‚&lt;/p&gt;

&lt;h3 id=&quot;foundation&quot;&gt;Foundation&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œå¿½ç•¥ä¹‹å‰ä»‹ç»è¿‡çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_BridgedToObjectiveC&lt;/code&gt; ç›¸å…³å†…å®¹ã€‚&lt;/p&gt;

&lt;h4 id=&quot;åè®®é™„åŠ &quot;&gt;åè®®é™„åŠ &lt;/h4&gt;

&lt;p&gt;Sequence åè®®&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSMutableArray NSSet NSArray NSMutableDictionary NSMutableSet NSDictionary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰€æœ‰ä»¥ä¸Šè¿™äº›ç±»å‹éƒ½å¯ä»¥é€šè¿‡ for-in æ“ä½œã€‚&lt;/p&gt;

&lt;p&gt;*LiteralConvertible&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSNumber NSString NSArray NSDictionary
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;éšå¼ç±»å‹è½¬æ¢&quot;&gt;éšå¼ç±»å‹è½¬æ¢&lt;/h4&gt;

&lt;p&gt;CF å‡ ä¹éƒ½å¯¹åº”åˆ°äº† NS ç±»å‹ã€‚è¿™é‡Œç•¥å»&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NilType&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSZone&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&amp;lt;KeyType: Hashable, ValueType&amp;gt;&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSDictionary&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSDictionary&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&amp;lt;NSObject, AnyObject&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; &amp;lt;-&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSArray&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AnyObject[]&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A[]&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSArray&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Float Double Int UInt Bool&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSNumber&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSRange&lt;/code&gt; -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Range&amp;lt;Int&amp;gt;&lt;/code&gt; // æ¯”è¾ƒæœ‰æ„æ€çš„ä¸€ä¸ª&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;æ–¹æ³•æ‰©å±•&quot;&gt;æ–¹æ³•æ‰©å±•&lt;/h4&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// let s = NSSet(objects: 12, 32, 23, 12)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSSet&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;convenience&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elements&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AnyObject...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSOrderedSet&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;convenience&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elements&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AnyObject...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// è¿™é‡Œæ³¨æ„ï¼ŒNSRange å’Œ Swift Range å¯¹ range ç»“æŸçš„è¡¨è¿°æ–¹æ³•ä¸åŒ&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// NSRange ä¿å­˜ range å…ƒç´ ä¸ªæ•°&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Swift Range ä¿å­˜çš„æ˜¯ç»“æŸå…ƒç´ &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// let r = NSRange(0..20)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSRange&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;Int&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// let prop = NSDictionary(objectsAndKeys: &quot;Feather&quot;, &quot;name&quot;, &quot;Programming&quot;, &quot;hobby&quot;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSDictionary&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;convenience&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;objectsAndKeys&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AnyObject...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSObject&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;@objc&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å­—ç¬¦ä¸²çš„æ‰©å±•æ–¹æ³•éå¸¸å¤šã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;availableStringEncodings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;defaultCStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSStringEncoding&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localizedNameOfStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localizedStringWithFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;pathWithComponents&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;components&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithContentsOfFile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithContentsOfFile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usedEncoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;NSStringEncoding&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithContentsOfURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usedEncoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;NSStringEncoding&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithCString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithUTF8String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;canBeConvertedToEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;capitalizedString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;capitalizedStringWithLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;caseInsensitiveCompare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSComparisonResult&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;commonPrefixWithString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;compare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSComparisonResult&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;completePathIntoString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outputName&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;caseSensitive&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matchesIntoArray&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filterTypes&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]?&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;componentsSeparatedByCharactersInSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;separator&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSCharacterSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;componentsSeparatedByString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;separator&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cStringUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CChar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;dataUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;allowLossyConversion&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSData&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;decomposedStringWithCanonicalMapping&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;decomposedStringWithCompatibilityMapping:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;enumerateLines&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;body:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;line:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stop:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;enumerateLinguisticTagsInRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tagScheme&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLinguisticTaggerOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orthography&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSOrthography?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;enumerateSubstringsInRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEnumerationOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;substring:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;substringRange:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enclosingRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;())&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fastestEncoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;fileSystemRepresentation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CChar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getBytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UInt8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxLength&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usedLength&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;Int&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncodingConversionOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remainingRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;Range&amp;lt;String.Index&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getCString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CChar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxLength&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getFileSystemRepresentation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CChar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxLength&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getLineStart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contentsEnd&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;forRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getParagraphStart&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;contentsEnd&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;forRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hash&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringWithBytes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;bytes:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UInt8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringWithBytesNoCopy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutableVoidPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freeWhenDone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf16CodeUnits&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CConstPointer&amp;lt;unichar&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utf16CodeUnitsNoCopy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CConstPointer&amp;lt;unichar&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freeWhenDone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_arguments&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale?&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lastPathComponent&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;utf16count:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;lengthOfBytesUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;encoding:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lineRangeForRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;linguisticTagsInRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scheme&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tagScheme&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLinguisticTaggerOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orthography&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSOrthography?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tokenRanges&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localizedCaseInsensitiveCompare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSComparisonResult&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localizedCompare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSComparisonResult&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;localizedStandardCompare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSComparisonResult&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;lowercaseStringWithLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;maximumLengthOfBytesUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;paragraphRangeForRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pathComponents&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pathExtension&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;precomposedStringWithCanonicalMapping:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;precomposedStringWithCompatibilityMapping:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;propertyList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AnyObject&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;propertyListFromStringsFileFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Dictionary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rangeOfCharacterFromSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aSet&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSCharacterSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rangeOfComposedCharacterSequenceAtIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;anIndex&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String.Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rangeOfComposedCharacterSequencesForRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rangeOfString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;Index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smallestEncoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByAbbreviatingWithTildeInPath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAddingPercentEncodingWithAllowedCharacters&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allowedCharacters&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSCharacterSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAddingPercentEscapesUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAppendingFormat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arguments&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg...&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAppendingPathComponent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAppendingPathExtension&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ext&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByAppendingString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringByDeletingLastPathComponent&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByDeletingPathExtension:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByExpandingTildeInPath:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByFoldingWithOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;options:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;locale:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByPaddingToLength&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;newLength&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withString&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;padString&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startingAtIndex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;padIndex&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringByRemovingPercentEncoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByReplacingCharactersInRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;range:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;withString&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;replacement:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByReplacingOccurrencesOfString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withString&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;replacement&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringCompareOptions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;?&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringByReplacingPercentEscapesUsingEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringByResolvingSymlinksInPath&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByStandardizingPath:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;stringByTrimmingCharactersInSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;set:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSCharacterSet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;stringsByAppendingPaths&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;substringFromIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;substringToIndex&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;substringWithRange&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aRange&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Range&amp;lt;String.Index&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;uppercaseStringWithLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locale&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSLocale&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;writeToFile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atomically&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;useAuxiliaryFile&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;writeToURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSURL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;atomically&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;useAuxiliaryFile&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enc&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSStringEncoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;coregraphics&quot;&gt;CoreGraphics&lt;/h3&gt;

&lt;p&gt;å‡ ä¸ªå¸¸ç”¨åŸºæœ¬ç±»å‹éƒ½æœ‰äº† Swift-style çš„æ„é€ å‡½æ•°ã€‚å…¶ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CGRect&lt;/code&gt; æœ‰å¾ˆå¤šçš„ç›¸å…³è¿ç®—éƒ½è¢«å°è£…ä¸ºæ–¹æ³•ï¼Œå¾ˆä¸é”™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGPoint&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Equatable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;zeroPoint:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGPoint&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;x:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;y:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zeroSize&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGSize&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGVector&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zeroVector&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGVector&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGRect&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Equatable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// å…¨ä¸º 0&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;zeroRect:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// åŸç‚¹ä¸ºæ— ç©·å¤§ï¼Œè¡¨ç¤ºç©º&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nullRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// åŸç‚¹æ— ç©·å°ï¼Œå®½é«˜æ— ç©·å¤§&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;infiniteRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minY&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ä¸­ç‚¹&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;midX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;midY&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxX&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxY&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isNull&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isEmpty&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isInfinite&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;standardizedRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;standardize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;integerRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;integerize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rectByInsetting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;inset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rectByOffsetting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dy&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rectByUnion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;union&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rectByIntersecting&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CGRect&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;intersect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withRect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;rectsByDividing&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atDistance&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fromEdge&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRectEdge&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;remainder&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;contains&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;point&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGPoint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;intersects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rect&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGRect&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;appkit&quot;&gt;AppKit&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSGradient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;convenience&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colorsAndLocations&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;AnyObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CGFloat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)...)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;uikit&quot;&gt;UIKit&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UIDeviceOrientation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isPortrait&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// also isLandscape isValidInterfaceOrientation isFlat&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UIInterfaceOrientation&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isPortrait&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isLandscape&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªæ¨¡å—æ˜¯äº¤å‰ç¼–è¯‘çš„ã€‚ã€‚ä¸å¤ªå®¹æ˜“è·å¾—ä¿¡æ¯ã€‚ä¸è¿‡å¥½åœ¨æ‰©å±•å†…å®¹ä¸å¤šã€‚&lt;/p&gt;

&lt;h3 id=&quot;spritekit&quot;&gt;SpriteKit&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;extension&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SKNode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@objc&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;subscript&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;SKNode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ç‰¹æ®Š-mirror-å®ç°&quot;&gt;ç‰¹æ®Š Mirror å®ç°&lt;/h2&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;NSSet NSDate NSArray NSRange NSURL NSDictionary NSString
CGPoint CGRect CGSize
NSView
UIView
SKTextureAtlas SKTexture SKSpriteNode SKShapeNode
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å•ç‹¬æ·»åŠ äº†è‡ªå·±çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt; ç±»å‹ï¼Œå•ç‹¬å®ç°ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt; ç±»å‹å…¶å®æ˜¯ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;QuickLookObject&lt;/code&gt; å‡†å¤‡çš„ï¼Œä¹Ÿå°±æ˜¯åœ¨ Xcode Playground ä¸­å¿«é€ŸæŸ¥çœ‹ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æœ€è¿‘çœ‹åˆ°äº† Swift Style Guide ä¸ªäººè§‰å¾—å†…å®¹å¤ªå°‘ï¼Œ Swift æœ¬èº«ä½œä¸ºä¸€é—¨åºå¤§çš„è¯­è¨€ï¼Œè¯­ç´ ä¼—å¤šã€‚æœ¬æ–‡å°± Swift æœ¬èº«å¯¹ Cocoa çš„æ‰©å±•ï¼Œçœ‹çœ‹å¯¹æ—¥å¸¸ Cocoa é£æ ¼æœ‰ä»€ä¹ˆå½±å“ã€‚</summary></entry><entry><title type="html">Swift Type Hierarchy ( Swift ç±»å‹å±‚æ¬¡ç»“æ„ ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/30/swift-type-hierarchy/" rel="alternate" type="text/html" title="Swift Type Hierarchy ( Swift ç±»å‹å±‚æ¬¡ç»“æ„ ï¼‰" /><published>2014-06-30T15:10:41+08:00</published><updated>2014-06-30T15:10:41+08:00</updated><id>https://andelf.github.io/blog/2014/06/30/swift-type-hierarchy</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/30/swift-type-hierarchy/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½è¯·æ³¨æ˜ï¼Œæ–¹ä¾¿çš„æƒ…å†µä¸‹è¯·çŸ¥ä¼šæœ¬äºº. &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ä¸»è¦ä»‹ç» Swift æ‰€æœ‰æ ‡å‡†åº“ç±»å‹çš„å±‚æ¬¡ç»“æ„ï¼ŒåŠæ‰€æœ‰æ ‡å‡†ç±»å‹ã€‚æœ¬æ–‡å¯ä½œä¸ºå‚è€ƒæ‰‹å†Œä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬äººä¸ä¿è¯å†…å®¹åŠæ—¶æ€§å’Œæ­£ç¡®æ€§ï¼Œè¯·å–„äºæ€€ç–‘å¹¶åé¦ˆã€‚è°¢è°¢ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡æ¢ç´¢ Swift æ‰€æœ‰åŸºç¡€ç±»å‹å’Œé«˜çº§ç±»å‹ï¼Œä»¥åŠæ‰€æœ‰åè®®å’Œä»–ä»¬ä¹‹é—´çš„ç»§æ‰¿å…³ç³»ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†ç®€åŒ–é—®é¢˜ï¼ŒæŸäº›ç±»å‹ç•¥å»äº†ä¸­é—´çš„è¿‡æ¸¡ç±»å‹ï¼Œäººè‚‰ä¿è¯ä¸æ­§ä¹‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;swift-åŸºç¡€ç±»å‹&quot;&gt;Swift åŸºç¡€ç±»å‹&lt;/h2&gt;

&lt;h3 id=&quot;æ•°å€¼ç±»å‹&quot;&gt;æ•°å€¼ç±»å‹&lt;/h3&gt;

&lt;h4 id=&quot;ä½&quot;&gt;ä½&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Bit
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åªæœ‰ä¸€ä½ï¼Œå®ç°ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enum&lt;/code&gt;ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.zero&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.one&lt;/code&gt;ã€‚ç®€å•æ˜äº†ã€‚&lt;/p&gt;

&lt;p&gt;åè®®: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RandomAccessIndex IntegerArithmetic&lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;æ•´å‹&quot;&gt;æ•´å‹&lt;/h4&gt;

&lt;p&gt;æœ‰ç¬¦å·:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Int Int8 Int16 Int32 Int64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åè®®ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SignedInteger RandomAccessIndex BitwiseOperations SignedNumber CVarArg&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;æ— ç¬¦å·:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UInt UInt8 UInt16 UInt32 UInt64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;åè®®ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsignedInteger RandomAccessIndex BitwiseOperations&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;åˆ«å:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;IntMax = Int64
UIntMax = UInt64
IntegerLiteralType = Int
Word = Int // å­—é•¿
UWord = UInt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;æµ®ç‚¹å‹&quot;&gt;æµ®ç‚¹å‹&lt;/h4&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Float Double Float80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ«åï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;FloatLiteralType = Double
Float64 = Double
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åè®®ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FloatingPointNumber&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;é€»è¾‘å‹&quot;&gt;é€»è¾‘å‹&lt;/h3&gt;

&lt;p&gt;åªæœ‰ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Bool&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å®ä¾‹ï¼š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;true&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;false&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;åè®®ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LogicValue&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç©º&quot;&gt;ç©º&lt;/h3&gt;

&lt;p&gt;åªæœ‰ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NilType&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å”¯ä¸€å®ä¾‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å­—ç¬¦ä¸²ç±»å‹&quot;&gt;å­—ç¬¦ï¼ˆä¸²ï¼‰ç±»å‹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; Unicode å­—ç¬¦&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnicodeScalar&lt;/code&gt; ç›¸å½“äº C ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wchar_t&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt; ç”¨äºè¡¨ç¤º C ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const char *&lt;/code&gt;ï¼Œè¯·å‚è€ƒç›¸å…³æ–‡ç« &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StaticString&lt;/code&gt; é™æ€å­—ç¬¦ä¸²ï¼Œå†…éƒ¨ä½¿ç”¨ï¼Œä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fatalError&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ«åï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;StringLiteralType = String
ExtendedGraphemeClusterType = String
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®˜æ–¹æ–‡æ¡£&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; represents some Unicode grapheme cluster as
defined by a canonical, localized, or otherwise tailored
segmentation algorithm.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; å®ç°åè®®ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Collection ExtensibleCollection OutputStream TargetStream&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;array-ç±»å‹&quot;&gt;Array ç±»å‹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ContiguousArray&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®ç°åè®® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayType&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å†…éƒ¨å®¹å™¨ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayBuffer&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ContiguousArrayBuffer&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªç±»å‹çœ‹èµ·æ¥æ˜¯ Array çš„å†…éƒ¨å®¹å™¨ï¼Œä¸€èˆ¬ä¸åº”è¯¥ç›´æ¥ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å­—å…¸ç±»å‹&quot;&gt;å­—å…¸ç±»å‹&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&amp;lt;KeyType : Hashable, ValueType&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;åªå®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Collection&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…ƒç¥–ç±»å‹&quot;&gt;å…ƒç¥–ç±»å‹&lt;/h3&gt;

&lt;p&gt;é™¤æ­£å¸¸å…ƒç¥–å¤–ï¼Œè¿˜æœ‰ä¸ªç‰¹æ®Šçš„åˆ«å&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Void = ()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶å®å¾ˆå¤šè¯­è¨€éƒ½è¿™ä¹ˆå®šä¹‰çš„ï¼Œæ¯”å¦‚ Haskell ã€‚&lt;/p&gt;

&lt;h3 id=&quot;optional-ç±»å‹&quot;&gt;Optional ç±»å‹&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Optional&amp;lt;T&amp;gt;&lt;/code&gt; å³ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T?&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ImplicitlyUnwrappedOptional&amp;lt;T&amp;gt;&lt;/code&gt; å³ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T!&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å®ç°åè®®: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LogicValue&lt;/code&gt;ï¼Œè¡Œä¸ºæ˜¯åˆ¤æ–­æ˜¯å¦ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.None&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤– &lt;a href=&quot;http://andelf.github.io/blog/2014/06/08/swift-implicit-type-cast/&quot;&gt;Swift çš„éšå¼ç±»å‹è½¬æ¢&lt;/a&gt;
æœ‰æåˆ°ï¼Œä¸ºä»€ä¹ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; å¯ä»¥ç»™ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Optional&lt;/code&gt; ç±»å‹èµ‹å€¼çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;cobjc-å…¼å®¹ç±»å‹&quot;&gt;C/ObjC å…¼å®¹ç±»å‹&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CBool = Bool
CFloat = Float
CDouble = Double
CChar = Int8
CSignedChar = Int8
CUnsignedChar = UInt8
CChar16 = UInt16
CWideChar = UnicodeScalar
CChar32 = UnicodeScalar
CInt = Int32
CUnsignedInt = UInt32
CShort = Int16
CUnsignedShort = UInt16
CLong = Int
CUnsignedLong = UInt
CLongLong = Int64
CUnsignedLongLong = UInt64
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…·ä½“ä½¿ç”¨å‚è€ƒ C äº¤äº’çš„å‡ ç¯‡æ–‡ç« ï¼ŒåŸºæœ¬æ²¡åŒºåˆ«ã€‚&lt;/p&gt;

&lt;h3 id=&quot;any-ç±»å‹&quot;&gt;Any ç±»å‹&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;AnyObject
// åˆ«å
Any = protocol&amp;lt;&amp;gt;
AnyClass = AnyObject.Type
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿˜æœ‰ä¸ªç”¨åœ¨å‡½æ•°å®šä¹‰çš„ç±»å‹ç­¾åä¸Šï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Any.Type&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;é¡ºä¾¿è¿™é‡Œçœ‹åˆ°ä¸€ä¸ªå¥‡å¼‚çš„è¯­æ³• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&amp;lt;&amp;gt;&lt;/code&gt;ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ Swift ä¸€ç§ç”¨æ¥è¡¨ç¤ºç±»å‹é™åˆ¶çš„æ–¹æ³•ï¼Œå¯ä»¥ç”¨åœ¨ç±»å‹çš„ä½ç½®ï¼Œå°–æ‹¬å·é‡Œå¯ä»¥æ˜¯åè®®çš„åˆ—è¡¨ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æŒ‡é’ˆç±»å‹&quot;&gt;æŒ‡é’ˆç±»å‹&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;UnsafePointer&amp;lt;T&amp;gt;
CMutableVoidPointer
CConstVoidPointer
COpaquePointer
CConstPointer&amp;lt;T&amp;gt;
AutoreleasingUnsafePointer&amp;lt;T&amp;gt;
CVaListPointer
CMutablePointer&amp;lt;T&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å‚è€ƒ C äº¤äº’æ–‡ç« ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/15/swift-and-c-interop/&quot;&gt;ç®€æSwiftå’ŒCçš„äº¤äº’&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont/&quot;&gt;ç®€æ Swift å’Œ C çš„äº¤äº’ï¼ŒPart äºŒ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/28/swift-interop-with-c-slash-objc/&quot;&gt;Swift ä¸ ObjC å’Œ C çš„äº¤äº’ï¼Œç¬¬ä¸‰éƒ¨åˆ†&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å…¶ä»–è¾…åŠ©ç±»å‹&quot;&gt;å…¶ä»–è¾…åŠ©ç±»å‹&lt;/h3&gt;

&lt;p&gt;å¤šäº†å»äº†ã€‚æ¯”å¦‚ for-in å®ç°æ—¶å€™çš„ Generator ã€æ¯”å¦‚åå°„æ—¶å€™ç”¨çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*Mirror&lt;/code&gt;ã€æ¯”å¦‚åˆ‡ç‰‡æ“ä½œç”¨çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Range&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚æ¯”å¦‚å†…éƒ¨å‚¨å­˜ç±»ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰å‚¨å­˜è¾…åŠ©ç±» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OnHeap&amp;lt;T&amp;gt;&lt;/code&gt; ç­‰ç­‰ã€‚ä»¥åæœ‰æœºä¼šå†æ¢ç´¢ã€‚&lt;/p&gt;

&lt;h2 id=&quot;swift-æ ‡å‡†åº“åè®®&quot;&gt;Swift æ ‡å‡†åº“åè®®&lt;/h2&gt;

&lt;h3 id=&quot;æ‰“å°ç›¸å…³-printable-debugprintable&quot;&gt;æ‰“å°ç›¸å…³ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Printable DebugPrintable&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Printable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DebugPrintable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;debugDescription&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”¨äºæ‰“å°å’Œå­—ç¬¦ä¸²çš„ Interpolation ã€‚&lt;/p&gt;

&lt;h3 id=&quot;literalconvertible&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*LiteralConvertible&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;ä»å­—é¢å¸¸é‡è·å–ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ArrayLiteralConvertible
IntegerLiteralConvertible
DictionaryLiteralConvertible
CharacterLiteralConvertible
FloatLiteralConvertible
ExtendedGraphemeClusterLiteralConvertible
StringLiteralConvertible
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­å­—ç¬¦ä¸²å’Œå­—ç¬¦çš„å­—é¢å¸¸é‡è¡¨ç¤ºæœ‰æ‰€é‡åˆï¼Œä¹Ÿå°±æ˜¯è¯´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;a&quot;&lt;/code&gt; å¯ä»¥æ˜¯å­—ç¬¦ä¸²ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ã€‚&lt;a href=&quot;http://andelf.github.io/blog/2014/06/17/nsobject-pattern-match-in-swift/&quot;&gt;ç®€æ Swift ä¸­çš„ Pattern Match&lt;/a&gt; ä¸€æ–‡ä¸­å°±æ˜¯é‡åˆ°äº†ç±»ä¼¼çš„æƒ…å†µã€‚&lt;/p&gt;

&lt;h3 id=&quot;logicvalue&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LogicValue&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;ç›¸å½“äºé‡è½½ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;while&lt;/code&gt; çš„è¡Œä¸ºã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LogicValue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getLogicValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;sequence&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sequence&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;ç›¸å½“äºé‡è½½ for-in ã€‚å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Generator&lt;/code&gt; è”ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Sequence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;typealias&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GeneratorType&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Generator&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;GeneratorType&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Generator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;typealias&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Element&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;mutating&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Element&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// for .. in { }&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__g&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;someSequence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;__g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;æ•´å‹-index-ç›¸å…³åè®®&quot;&gt;æ•´å‹ã€ Index ç›¸å…³åè®®&lt;/h3&gt;

&lt;p&gt;è¿™äº›åè®®éƒ½æ˜¯ç”¨æ¥è¡¨ç¤ºå®¹å™¨ç±»å‹çš„ç´¢å¼•ã€åŠç›¸å…³çš„ç´¢å¼•è¿ç®—ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œç•¥å»äº†éƒ¨åˆ†ç§æœ‰å†…å®¹ã€‚ç•¥å»äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Printable&lt;/code&gt; ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/swift-integer.png&quot; alt=&quot;Swift Integer Type Hierarchy&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;rawoptionset-ç›¸å…³åè®®&quot;&gt;RawOptionSet ç›¸å…³åè®®&lt;/h3&gt;

&lt;p&gt;ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºäºŒè¿›åˆ¶çš„é€‰é¡¹ï¼Œç±»ä¼¼äº C enum ï¼Œå¾ˆå¤š Cocoa çš„ flag è¢«æ˜ å°„åˆ°å®ƒã€‚ç›¸å½“äºä¸€ä¸ª Wrapper çš„ä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/swift-rawoptset.png&quot; alt=&quot;Swift RawOptionSet&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°è¦æ±‚è¢« Wrap çš„å¯¹è±¡æ”¯æŒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BitwiseOperations&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;array-ç›¸å…³åè®®&quot;&gt;Array ç›¸å…³åè®®&lt;/h3&gt;

&lt;p&gt;å›¾ä¸­ç”¨è™šçº¿æ ‡æ³¨äº†å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Generator&lt;/code&gt; çš„å…³ç³»ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/swift-collection.png&quot; alt=&quot;Swift Collection Protocol&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&amp;lt;T&amp;gt;&lt;/code&gt; ç±»å‹å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayType&lt;/code&gt; åè®®ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&lt;/code&gt; ç±»å‹å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Collection&lt;/code&gt; åè®®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;åå°„ç›¸å…³åè®®&quot;&gt;åå°„ç›¸å…³åè®®&lt;/h3&gt;

&lt;p&gt;åŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MirrorDisposition&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Reflectable&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¯·å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/20/swift-reflection/&quot;&gt;Swift çš„åå°„&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æµ®ç‚¹æ•°åè®®&quot;&gt;æµ®ç‚¹æ•°åè®®&lt;/h3&gt;

&lt;p&gt;åªæœ‰ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FloatingPointNumber&lt;/code&gt;ã€‚å•ç‹¬å­˜åœ¨ã€‚æ˜¯ä¸ºäº†å®šä¹‰å®Œæ•´è€Œå­˜åœ¨ã€‚çœ‹å®˜è‡ªå·±æå®šã€‚&lt;/p&gt;

&lt;h3 id=&quot;io-è¾“å‡ºä¼ªè¾“å‡ºç›¸å…³&quot;&gt;IO è¾“å‡ºï¼Œä¼ªè¾“å‡ºç›¸å…³&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol Streamable {
  func writeTo&amp;lt;Target : OutputStream&amp;gt;(inout target: Target)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Streamable&lt;/code&gt; è¡¨ç¤ºå¯ä»¥è¢«å†™å…¥åˆ°è¾“å‡ºæµä¸­ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²ã€å­—ç¬¦ç­‰ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol OutputStream {
  func write(string: String)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OutputStream&lt;/code&gt; è¡¨ç¤ºä¸€ä¸ªè¾“å‡ºæµï¼Œæ¯”å¦‚æ ‡å‡†è¾“å‡ºï¼ˆ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stdout&lt;/code&gt;ï¼‰ï¼Œä¹Ÿå¯ä»¥è¡¨ç¤ºä¸€ä¸ªä¼ªè¾“å‡ºæµï¼Œä¾‹å¦‚å­—ç¬¦ä¸² &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ ‡å‡†è¾“å‡ºçš„è·å–æ–¹æ³•&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;var stdout = _Stdout()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹èµ·æ¥æ˜¯ç§æœ‰ç»“æ„ï¼ŒæŸä¸€å¤©ä¸èƒ½ç”¨çš„è¯ï¼Œåˆ«æ€ªæˆ‘ã€‚è°ƒç”¨æ—¶å€™ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inout&lt;/code&gt; å¼•ç”¨è¯­æ³•ã€‚&lt;/p&gt;

&lt;h3 id=&quot;cvararg-å¤„ç†&quot;&gt;CVarArg å¤„ç†&lt;/h3&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol CVarArg {
  func encode() -&amp;gt; Word[]
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç”¨äºå¤„ç† C å‡½æ•°çš„å¯å˜å‚æ•°ï¼Œå‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont/&quot;&gt;ç®€æ Swift å’Œ C çš„äº¤äº’ï¼ŒPart äºŒ&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;bridge-åè®®&quot;&gt;Bridge åè®®&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œæœ‰ä¸ªç–‘é—®å°±æ˜¯ç¼–è¯‘è¿‡ç¨‹ä¸­è¿™äº› Bridge åè®®æœ‰æ²¡æœ‰å‚ä¸ã€‚ç›®å‰è¿˜æ²¡åŠæ³•ç¡®å®šã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_BridgedToObjectiveC&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_ConditionallyBridgedToObjectiveC&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…·ä½“å†…å®¹å¯ä»¥å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/11/swift-and-objectivec-interop/&quot;&gt;Swift ä¸ Objective-C ä¹‹é—´çš„äº¤äº’&lt;/a&gt;ä¸€æ–‡ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sink&lt;/code&gt; çœ‹èµ·æ¥æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå¯èƒ½æ˜¯ç”¨æ¥ç¼–ç æ—¶ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayBufferType&lt;/code&gt; ç”¨äºè¡¨ç¤º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayType&lt;/code&gt; çš„å†…éƒ¨å‚¨å­˜ï¼Œçœ‹èµ·æ¥ä¼¼ä¹ä¹Ÿå¯ä»¥ç›´æ¥ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnicodeCodec&lt;/code&gt; ç”¨äºå¤„ç†ç¼–ç ã€‚æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UTF8&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UTF16&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UTF32&lt;/code&gt; å¯ç”¨ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ArrayBound&lt;/code&gt; ç”¨æ¥å¤„ç†æ•°ç»„è¾¹ç•Œï¼Œè¯¦ç»†åŸç†å’Œä½œç”¨è¿‡ç¨‹æœªçŸ¥ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æ— ã€‚&lt;/p&gt;

&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½è¯·æ³¨æ˜ï¼Œæ–¹ä¾¿çš„æƒ…å†µä¸‹è¯·çŸ¥ä¼šæœ¬äºº. weibo</summary></entry><entry><title type="html">My View of Swift ï¼ˆé—²æ‰¯å¯¹ Swift è¯­è¨€çš„çœ‹æ³•ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/30/my-view-of-swift/" rel="alternate" type="text/html" title="My View of Swift ï¼ˆé—²æ‰¯å¯¹ Swift è¯­è¨€çš„çœ‹æ³•ï¼‰" /><published>2014-06-30T11:05:13+08:00</published><updated>2014-06-30T11:05:13+08:00</updated><id>https://andelf.github.io/blog/2014/06/30/my-view-of-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/30/my-view-of-swift/">&lt;p&gt;å…¶å®è¿™æ˜¯å¾ˆæ—©å°±åƒè¦è¯´çš„äº†ï¼Œå¤§æ¦‚å½“æ—¶ä¿¡èª“æ—¦æ—¦è¯´è¦çœ‹å®Œé‚£æœ¬ epub å†™ä¸ªè¯»åæ„Ÿè°ˆè°ˆå¯¹ Swift çœ‹æ³•ä»€ä¹ˆçš„ã€‚åæ¥ä¸äº†äº†ä¹‹ã€‚
ç°åœ¨è§‰å¾—è¿™ä¸ªæ—¶æœºæˆ–è®¸å·®ä¸å¤šï¼Œå¯¹ Swift çš„äº†è§£ä¹Ÿç®—å‡‘åˆäº†ã€‚&lt;/p&gt;

&lt;p&gt;çº¯ä¸ªäººè§‚ç‚¹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-æ˜¯ç³»ç»Ÿç¼–ç¨‹è¯­è¨€&quot;&gt;Swift æ˜¯ç³»ç»Ÿç¼–ç¨‹è¯­è¨€&lt;/h3&gt;

&lt;p&gt;ä¸€å¼€å§‹å¤§å®¶è¿˜ä¸å¤ªäº†è§£çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šæœ‰å¾ˆå¤šè¯¯è§£ã€‚ç°åœ¨å¥½æ­¹ä¸€ä¸ªæœˆäº†ã€‚è¯¯è§£ç»ˆäºå°‘äº†ã€‚&lt;/p&gt;

&lt;p&gt;æ˜¯çš„ï¼Œ Swift æ˜¯ç³»ç»Ÿç¼–ç¨‹è¯­è¨€ï¼ŒåŸå› æ˜¯å› ä¸ºå®ƒ ABI å…¼å®¹ C ï¼ˆä¸åŒ…æ‹¬ name mangling éƒ¨åˆ†ï¼‰ã€‚åŸºäºå¼ºå¤§çš„ llvm ç”Ÿæˆå…·ä½“å¹³å°ä»£ç ã€‚ä¸æ˜¯ç¿»è¯‘ä¸º Objective-C çš„ã€‚&lt;/p&gt;

&lt;p&gt;ç¼–è¯‘å™¨å‚æ•°è¿˜æ˜¾ç¤ºï¼Œ Swift æ–‡ä»¶çš„ä¸­é—´ç¼–è¯‘ç»“æœï¼ˆä»‹äº Swift ä»£ç å’Œ llvm ir ï¼‰æ˜¯ SIL ï¼ŒçŒœæµ‹æ˜¯ Swift Intermediate Language ã€‚å¥½åƒå’Œ llvm ir æœ‰æ‰€è”ç³»ã€‚è€Œä¸”è‡³å°‘æœ‰ä¸¤ä¸ª stage ã€‚&lt;/p&gt;

&lt;p&gt;ä¸æ˜¯è„šæœ¬è¯­è¨€ï¼Œä¹Ÿä¸æ˜¯èƒ¶æ°´è¯­è¨€ã€‚ä½†æ˜¯å®ƒçš„æ ‡å‡†åº“ (import Swift åº“) å‡ ä¹ä¸å«ä»»ä½• IO ç½‘ç»œ ç­‰å†…å®¹ï¼Œéšä¾¿åšä¸ªåŠŸèƒ½å¼ºä¾èµ– Cocoa æ¡†æ¶ã€‚ä¹Ÿå¯ä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import Darwin&lt;/code&gt; ç”¨ C è¯­è¨€çš„æ ‡å‡†åº“æ¥å†™ã€‚&lt;/p&gt;

&lt;p&gt;çŒœæµ‹å†™ä¸ª Python C æ¨¡å—è¿™ç§ä»»åŠ¡æ˜¯å¯ä»¥è½»æ˜“èƒœä»»çš„ã€‚&lt;/p&gt;

&lt;p&gt;è€Œ Golang ã€ Rust æœ¬èº« ABI æ˜¯å’Œ C ä¸å…¼å®¹çš„ã€‚è™½ç„¶ Rust é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extern &quot;C&quot;&lt;/code&gt; å¯ä»¥ä¿®æ”¹å•ä¸ªå‡½æ•°ä¸ºå…¼å®¹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-æ˜¯ç°ä»£è¯­è¨€&quot;&gt;Swift æ˜¯ç°ä»£è¯­è¨€&lt;/h3&gt;

&lt;p&gt;è‡ªåŠ¨ç±»å‹æ¨å¯¼ã€æ³›å‹ã€ LLVM ã€‚å½“ç„¶è¯­è¨€ç ”ç©¶å…šéƒ½çŸ¥é“è¿™äº›éƒ½æ˜¯å‡ åå¹´å‰çš„â€œæ–°ä¸œè¥¿â€ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-æ˜¯åŠå®Œæˆå“&quot;&gt;Swift æ˜¯åŠå®Œæˆå“&lt;/h3&gt;

&lt;p&gt;è¿™ä¹ˆè¯´ä¸»è¦æ˜¯æŒ‡ Swift å¯¹ Cocoa çš„åº“å®åœ¨æ˜¯å¤ªåŠåŠå­äº†ã€‚åªæ˜¯ Foundation æœ‰ Bridge æ”¯æŒï¼Œå…¶ä»–åº“ä¸­ï¼Œæ˜æ˜¾çš„åˆ—è¡¨éƒ½æ— æ³•æ”¯æŒ subscript ã€ for-in è¿™æ ·ç®€å•çš„æ“ä½œã€‚åŸå› å¾ˆç®€å•ï¼Œè¿™äº›åº“éƒ½æ˜¯è‡ªåŠ¨è½¬æ¢ ObjC å¤´æ–‡ä»¶è€Œæ¥ï¼ˆå‚è€ƒæ¨¡å—é‚£ç¯‡æ–‡ç« ï¼‰ã€‚æ²¡æœ‰é¢å¤–çš„å°è£…ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å…¶å®çœŸè¦ç”¨èµ·æ¥ï¼Œå¯èƒ½ä¼šå¾ˆçº ç»“ã€‚æˆ–è€…å¯ä»¥é¢„è®¡å¾ˆå¿«å°±æœ‰ç¬¬ä¸‰æ–¹çš„ Bridge åº“ç»™è¿™äº›ç±»å‹åŠ ä¸Šèˆ’æœçš„ Swift æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–å‘½ä»¤è¡Œæ²¡æœ‰é™æ€é“¾æ¥åº“æ”¯æŒã€‚åªèƒ½ç”¨å…¶ä»–å‘½ä»¤æ‹¼è£…ã€‚ä¹Ÿä¾§é¢è¯´æ˜ï¼Œ Apple å¸Œæœ›å¼€å‘è€…æ›´å¤šç”¨åŠ¨æ€é“¾æ¥åº“ï¼Œ Framework ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤–ç›®å‰çš„ç¼–è¯‘å™¨ coredump ã€ stackoverflow å¤ªå¤šå¤ªå¤šã€‚é”™å“ªéƒ½ä¸çŸ¥é“ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-éšè—ç»†èŠ‚å¤ªå¤š&quot;&gt;Swift éšè—ç»†èŠ‚å¤ªå¤š&lt;/h3&gt;

&lt;p&gt;å°±å¯¹åº”åˆ° Foundation ç±»å‹è¿™ä¸ªç‰¹æ€§å¤ªè¯´ï¼Œå¤ªå¤šé»‘é­”æ³•ï¼Œéšå¼ç±»å‹è½¬æ¢ã€ BridgeToObjectiveC åè®®ã€æŒ‡é’ˆç±»å‹è½¬æ¢ã€‚&lt;/p&gt;

&lt;p&gt;è¿™äº›éšè—çš„ç‰¹æ€§å¤šå°‘éƒ½ä¼šæˆä¸º Swift çš„å‘ã€‚&lt;/p&gt;

&lt;p&gt;è¦çŸ¥é“å®šä¹‰åœ¨ ObjC åº“çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString&lt;/code&gt; å‚æ•°æŸäº›æƒ…å†µä¸‹åœ¨ Swift ä¸­è¢«è½¬æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;ã€‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSArray&lt;/code&gt; éƒ½è¢«è½¬æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AnyObject[]&lt;/code&gt;ã€‚å³ä½¿æœ‰éšå¼ç±»å‹è½¬æ¢ï¼ŒæŸäº›æç«¯æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯ä¼šæœ‰ç¼–è¯‘æ—¶é”™è¯¯ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swfit-çš„æ€§èƒ½&quot;&gt;Swfit çš„æ€§èƒ½&lt;/h3&gt;

&lt;p&gt;æˆ‘æ²¡åšè¿‡æµ‹è¯•ï¼Œä½†å°±è¯­è¨€ç‰¹æ€§æ¥è¯´ï¼Œ Swift æ˜¯æ¯” ObjC å¿«çš„ï¼Œå› ä¸ºé™æ€ç±»å‹ä½¿å¾—ä»–åœ¨ç¼–è¯‘æ—¶å°±å·²ç»çŸ¥é“è°ƒç”¨å‡½æ•°çš„å…·ä½“ä½ç½®ã€‚è€Œä¸æ˜¯ Objective-C çš„æ¶ˆæ¯å‘é€ã€ Selector æœºåˆ¶ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰æ¥çœ‹ï¼Œ Swift æ€§èƒ½ç•¥å·®åŸå› ä¸»è¦æ˜¯ç¼–è¯‘å™¨è¿˜æ²¡è¶³å¤Ÿä¼˜åŒ–ã€è¿˜æœ‰å°±æ˜¯ Cocoa æ‹–äº†åè…¿ï¼Œ Cocoa æœ¬èº«æœ‰å¤§é‡çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AnyObject&lt;/code&gt; è¿”å›å€¼ã€‚æ‰€ä»¥å®é™…å†™ Swift ä»£ç æ—¶ï¼Œå¤šç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as&lt;/code&gt; ä¸€å®šæ˜¯å¥½ä¹ æƒ¯ã€‚æ˜ç¡®ç±»å‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-çš„æœªæ¥&quot;&gt;Swift çš„æœªæ¥&lt;/h3&gt;

&lt;p&gt;æˆ‘ä¸çŸ¥é“ã€‚è‡³å°‘å¥½åƒæ„Ÿè§‰å¾ˆå¤šåŸ¹è®­æœºæ„éƒ½çœ‹åˆ°äº†å‰é€”å¼€å§‹ç–¯ç‹‚çš„åšè§†é¢‘ã€‚&lt;/p&gt;

&lt;p&gt;å€’æ˜¯è§‰å¾—ä»€ä¹ˆæ—¶å€™ Cocoa for Swift å‡ºäº†æ‰ç®—å®ƒå®Œå…¨å®Œæˆä»»åŠ¡ã€‚&lt;/p&gt;

&lt;p&gt;æ€»è§‰å¾— Cocoa æ‹–åè…¿ï¼Œä¸ç„¶æ”¾åˆ°å…¶ä»–å¹³å°ä¹Ÿä¸é”™ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº†ï¼Œä¹‹å‰ä¸æ˜¯åœ¨ App å¼€å‘é¢†åŸŸï¼Œè¿™æ‰çŸ¥é“åŸæ¥è¿™ä¸ªåœ°ç›˜æ°´å¾ˆæ·±ï¼Œå¤ªå¤šå”¯åˆ©çš„åŸ¹è®­æœºæ„ï¼Œå¤ªå¤šå—·å—·å¾…å“ºç­‰è§†é¢‘æ•™ç¨‹çš„æ–°äººã€‚è§‰å¾—æŒºæœ‰æ„æ€ã€‚å°±æ‹¿ ? ! è¿™ä¸ª Optional ä¸ºä¾‹ï¼Œå¤ªå¤šä»‹ç»çš„æ–‡ç« ã€‚å¯æƒœèƒ½è¯´æ˜ç™½çš„å¤ªå°‘å¤ªå°‘ã€‚ç³Šé‡Œç³Šæ¶‚åšå¼€å‘å°±æ˜¯å½“å‰ç°çŠ¶å§ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å…¶å®è¿™æ˜¯å¾ˆæ—©å°±åƒè¦è¯´çš„äº†ï¼Œå¤§æ¦‚å½“æ—¶ä¿¡èª“æ—¦æ—¦è¯´è¦çœ‹å®Œé‚£æœ¬ epub å†™ä¸ªè¯»åæ„Ÿè°ˆè°ˆå¯¹ Swift çœ‹æ³•ä»€ä¹ˆçš„ã€‚åæ¥ä¸äº†äº†ä¹‹ã€‚ ç°åœ¨è§‰å¾—è¿™ä¸ªæ—¶æœºæˆ–è®¸å·®ä¸å¤šï¼Œå¯¹ Swift çš„äº†è§£ä¹Ÿç®—å‡‘åˆäº†ã€‚</summary></entry><entry><title type="html">Swift Interop with C/ObjC Part 3 (Swift ä¸ ObjC å’Œ C çš„äº¤äº’ï¼Œç¬¬ä¸‰éƒ¨åˆ†ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/28/swift-interop-with-c-slash-objc/" rel="alternate" type="text/html" title="Swift Interop with C/ObjC Part 3 (Swift ä¸ ObjC å’Œ C çš„äº¤äº’ï¼Œç¬¬ä¸‰éƒ¨åˆ†ï¼‰" /><published>2014-06-28T21:58:35+08:00</published><updated>2014-06-28T21:58:35+08:00</updated><id>https://andelf.github.io/blog/2014/06/28/swift-interop-with-c-slash-objc</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/28/swift-interop-with-c-slash-objc/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½è¯·æ³¨æ˜ï¼Œæ–¹ä¾¿çš„æƒ…å†µä¸‹è¯·çŸ¥ä¼šæœ¬äºº. &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ä¹‹å‰è¯´é‚£æ˜¯æœ€åä¸€ç¯‡ã€‚å¯æƒœè¶Šæ¥è¶Šå‘ç°æœ‰å¾ˆå¤šä¸œè¥¿è¿˜æ²¡ä»‹ç»åˆ°ã€‚äº‹ä¸è¿‡ä¸‰ã€‚å†å‘ä¸€ç¯‡ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‰è¨€&quot;&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;æœ¬æ–‡è§£å†³å¦‚ä¸‹é—®é¢˜&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ObjC/C ä¸­å®šä¹‰çš„æŸä¸ªç±»å‹ã€ç»“æ„ä½“ï¼Œé€šè¿‡ Bridge Header æˆ–è€… Module å¯¹åº”åˆ° Swift åˆ°åº•æ˜¯ä»€ä¹ˆç±»å‹&lt;/li&gt;
  &lt;li&gt;æŒ‡é’ˆé—´çš„è½¬æ¢é—®é¢˜&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¡¥å……ä¹‹å‰æ²¡è§£å†³çš„ä¸€äº›é—®é¢˜ï¼Œæ¯”å¦‚æåˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&lt;/code&gt; çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sizeof&lt;/code&gt; æ˜¯ä¸¤ä¸ªå­—é•¿ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°è°ƒç”¨ä¸­æ˜¯å¦‚ä½•å¯¹åº”åˆ° C çš„æŒ‡é’ˆçš„ï¼Ÿ&lt;/p&gt;

&lt;p&gt;é¢„å¤‡å†…å®¹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/11/swift-and-objectivec-interop/&quot;&gt;Swift ä¸ Objective-C ä¹‹é—´çš„äº¤äº’&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/15/swift-and-c-interop/&quot;&gt;ç®€æSwiftå’ŒCçš„äº¤äº’&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont/&quot;&gt;ç®€æ Swift å’Œ C çš„äº¤äº’ï¼ŒPart äºŒ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/16/swift-nserror-internals/&quot;&gt;Swift NSError Internalsï¼ˆè§£æ Swift å¯¹ NSError æ“ä½œï¼‰&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/08/swift-implicit-type-cast/&quot;&gt;Swift çš„éšå¼ç±»å‹è½¬æ¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/06/swift-attributes/&quot;&gt;Swift Attributes&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;cobjc-to-swift-å¯¹åº”è§„åˆ™&quot;&gt;C/ObjC to Swift å¯¹åº”è§„åˆ™&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸‹å†…å®¹å‡é€‚åˆ Objective-C ã€‚ç¬¬ä¸€éƒ¨åˆ†é€‚åˆ C ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä»¥ä¸‹å†…å®¹å† Xcode6-beta3 ä¸­ä¸é€‚ç”¨&lt;/strong&gt; è¯·å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/07/08/swift-beta3-changes/&quot;&gt;Swift åœ¨ Xcode6-beta3 ä¸­çš„å˜åŒ–&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;for-c&quot;&gt;for C&lt;/h3&gt;

&lt;h4 id=&quot;å¯å¯¼å‡ºçš„ç±»å‹å®šä¹‰&quot;&gt;å¯å¯¼å‡ºçš„ç±»å‹å®šä¹‰&lt;/h4&gt;

&lt;p&gt;å‡½æ•°ã€æšä¸¾ã€ç»“æ„ä½“ã€å¸¸é‡å®šä¹‰ã€å®å®šä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;ç»“æ„ä½“å®šä¹‰æ”¯æŒï¼š&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{...}&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;typedef&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name_t&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{...}&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å…¶ä¸­æ— æ³•å¤„ç†çš„ç»“æ„ä½“ã€å‡½æ•°ç±»å‹ã€ varargs å®šä¹‰ä¸å¯¼å‡ºã€‚é¢„è®¡ä»¥åç‰ˆæœ¬ä¼šä¿®å¤ã€‚å¸¦ bit field çš„ç»“æ„ä½“ä¹Ÿæ— æ³•è¯†åˆ«ã€‚&lt;/p&gt;

&lt;h4 id=&quot;ç±»å‹å¯¹åº”å…³ç³»&quot;&gt;ç±»å‹å¯¹åº”å…³ç³»&lt;/h4&gt;

&lt;p&gt;ä»”ç»†åˆ†æå‘ç°ï¼Œè¯¡å¼‚æƒ…å†µè¿˜å¾ˆå¤šã€‚åŸºç¡€ç±»å‹è¯·å‚è€ƒä¸Šå‡ ç¯‡ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨å‡½æ•°å®šä¹‰å‚æ•°ä¸­ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;ç±»å‹&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;å¯¹åº”ä¸º&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutableVoidPointer&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type *&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type[]&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&amp;lt;Type&amp;gt;&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const char *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const Type *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstPointer&amp;lt;Type&amp;gt;&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const void *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstVoidPointer&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;åœ¨å‡½æ•°è¿”å›ã€ç»“æ„ä½“å­—æ®µä¸­ï¼š&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;ç±»å‹&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;å¯¹åº”ä¸º&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const char *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type *&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const Type *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;Type&amp;gt;&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const void *&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;æ— æ³•è¯†åˆ«çš„ç»“æ„æŒ‡é’ˆ&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;å¦å¤–è¿˜æœ‰å¦‚ä¸‹æƒ…å†µï¼š&lt;/p&gt;

&lt;p&gt;å…¨å±€å˜é‡ã€å…¨å±€å¸¸é‡(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const&lt;/code&gt;)ã€å®å®šä¹‰å¸¸é‡(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#define&lt;/code&gt;) å‡ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var&lt;/code&gt;ï¼Œå¸¸é‡ä¸å¸¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ç»“æ„ä½“ä¸­çš„æ•°ç»„ï¼Œå¯¹åº”ä¸ºå…ƒç¥–ï¼Œä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;int data[2]&lt;/code&gt; å¯¹åº”ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(CInt, CInt)&lt;/code&gt;ï¼Œæ‰€ä»¥ä¹Ÿè®¸ã€‚ã€‚ä¼šå¾ˆé•¿ã€‚æ•°ç»„æœ‰å¤šå°‘å…ƒç´ å°±æ˜¯å‡ å…ƒç¥–ã€‚&lt;/p&gt;

&lt;h3 id=&quot;for-objc&quot;&gt;for ObjC&lt;/h3&gt;

&lt;p&gt;ObjC æ˜æ˜¾æƒ…å†µè¦å¥½çš„å¤šï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿå¾ˆè¯¦ç»†ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError **&lt;/code&gt; è½¬ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; å¤–ï¼Œéœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼š&lt;/p&gt;

&lt;p&gt;å‡½æ•°å‚æ•°ã€è¿”å›ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString *&lt;/code&gt; è¢«æ›¿æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String!&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSArray *&lt;/code&gt; è¢«æ›¿æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AnyObject[]!&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è€Œå…¨å±€å˜é‡ã€å¸¸é‡çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString *&lt;/code&gt; ä¸å˜ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å…³äº-cmutablepointer-çš„è¡Œä¸º&quot;&gt;å…³äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&lt;/code&gt; çš„è¡Œä¸º&lt;/h2&gt;

&lt;p&gt;ä¸Šå›è¯´åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstPointer&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutableVoidPointer&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CConstVoidPointer&lt;/code&gt;
å››ä¸ªæŒ‡é’ˆç±»å‹çš„å­—é•¿æ˜¯ 2ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯ä»¥ç›´æ¥å¯¹åº”ä¸º C ä¸­çš„æŒ‡é’ˆã€‚ä½†æ˜¯å‰é¢è¯´ç±»å‹å¯¹åº”å…³ç³»çš„æ—¶å€™ï¼Œ C å‡½æ•°å£°æ˜è½¬ä¸º Swift
æ—¶å€™åˆç”¨åˆ°äº†è¿™äº›ç±»å‹ï¼Œæ‰€ä»¥çœ‹èµ·æ¥è‡ªç›¸çŸ›ç›¾ã€‚ä»”ç»†åˆ†æäº† lldb åæ±‡ç¼–ä»£ç åå‘ç°ï¼Œæœ‰å¦‚ä¸‹éšè—è¡Œä¸º:&lt;/p&gt;

&lt;h3 id=&quot;in-swift&quot;&gt;in Swift&lt;/h3&gt;

&lt;p&gt;åœ¨çº¯ Swift ç¯å¢ƒä¸‹ï¼Œå‡½æ•°å®šä¹‰ç­‰ç­‰ã€è¿™äº›ç±»å‹å­—é•¿éƒ½ä¸º 2ï¼Œä¸ä¼šæœ‰ä»»ä½•æ„å¤–æƒ…å†µå‡ºç°ã€‚&lt;/p&gt;

&lt;h3 id=&quot;in-cobjc&quot;&gt;in C/ObjC&lt;/h3&gt;

&lt;p&gt;å½“ä¸€ä¸ªå‡½æ•°çš„å£°æ˜æ˜¯ç”± Bridge Header æˆ–è€… LLVM Module éšå¼è½¬æ¢è€Œæ¥ï¼Œä¸”ç”¨åˆ°äº†è¿™å››ä¸ªæŒ‡é’ˆç±»å‹ï¼Œé‚£ä¹ˆä»£ç ç¼–è¯‘è¿‡ç¨‹ä¸­ç±»å‹è½¬æ¢è§„åˆ™ã€éšå¼è½¬æ¢è°ƒç”¨ç­‰è§„åˆ™ä¾ç„¶æœ‰æ•ˆã€‚åªä¸è¿‡åœ¨ä»£ç æœ€ç”Ÿæˆä¸€æ­¥ï¼Œä¼šæ’å…¥ä»¥ä¸‹ç§æœ‰å‡½æ•°è°ƒç”¨ä¹‹ä¸€ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_convertCMutablePointerToUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutablePointer&amp;lt;T&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_convertCConstPointerToUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CConstPointer&amp;lt;T&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_convertCMutableVoidPointerToCOpaquePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutableVoidPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;COpaquePointer&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_convertCConstVoidPointerToCOpaquePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CConstVoidPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;COpaquePointer&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹æ˜¯èƒŒåéšè—çš„ã€‚ç„¶åå°†è½¬æ¢çš„ç»“æœä¼ å‚ç»™å¯¹åº”çš„ C/ObjC å‡½æ•°ã€‚å®ç°äº†æŒ‡é’ˆç±»å‹å­—é•¿æ­£ç¡®ã€ä¸€è‡´ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç»“è®º&quot;&gt;ç»“è®º&lt;/h3&gt;

&lt;p&gt;ä½œä¸ºç¨‹åºå‘˜ï¼Œéœ€è¦ä¿è¯è°ƒç”¨ C å‡½æ•°çš„æ—¶å€™ç±»å‹ä¸€è‡´ã€‚å¦‚æœæœ‰ç‰¹æ®Šéœ€æ±‚é‡æ–°å£°æ˜äº†å¯¹åº”çš„ C å‡½æ•°ï¼Œé‚£ä¹ˆä»¥ä¸Šè§„åˆ™ä¸èµ·ä½œç”¨ï¼Œæ‰€ä»¥é‡å£°æ˜ C ä¸­çš„å‡½æ•°æ—¶è¡¨ç¤ºæŒ‡é’ˆä¸å¯ä»¥ä½¿ç”¨è¿™å››ä¸ªæŒ‡é’ˆç±»å‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å†è¯´æŒ‡é’ˆ&quot;&gt;å†è¯´æŒ‡é’ˆ&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/assets/swift-pointers.png&quot; alt=&quot;Swift Pointers&quot; /&gt;&lt;/p&gt;

&lt;p&gt;è™šçº¿è¡¨ç¤ºç›´æ¥éšå¼ç±»å‹è½¬æ¢ã€‚å…¶ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; å¯ä»¥é€šè¿‡ç”¨å…¶ä»–ä»»ä½•æŒ‡é’ˆè°ƒç”¨æ„é€ å‡½æ•°è·å¾—ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&amp;lt;T&amp;gt;&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutableVoidPointer&lt;/code&gt; ä¹Ÿå¯ä»¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&amp;lt;T&amp;gt;&lt;/code&gt; çš„å¼•ç”¨éšå¼ç±»å‹è½¬æ¢è·å¾— ï¼ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;arr&lt;/code&gt; ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;æ¤­åœ†è¡¨ç¤ºç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sizeof&lt;/code&gt; ä¸ºå­—é•¿ï¼Œå¯ä»¥ç”¨äºå£°æ˜ C å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;å››å¤§æŒ‡é’ˆå¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withUnsafePointer&lt;/code&gt; æ“ä½œã€‚è½¬æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;ã€‚ä¸Šä¸€èŠ‚æåˆ°çš„ç§æœ‰è½¬æ¢å‡½æ•°è¯·ä¸è¦ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å­—ç¬¦ä¸²&quot;&gt;å­—ç¬¦ä¸²&lt;/h2&gt;

&lt;p&gt;ä¹‹å‰çš„æ–‡ç« å·²ç»ä»‹ç»è¿‡æ€ä¹ˆä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt; è·å– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; ï¼ˆé™æ€æ–¹æ³• &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String.fromCString&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; è·å– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt; ä¹Ÿè¯´è¿‡ï¼Œ æ˜¯ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withCString&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¹Ÿå¯ä»¥ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString(UnsafePointer.alloc(100))&lt;/code&gt; æ¥åˆ†é…ç©ºæ•°ç»„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½è¯·æ³¨æ˜ï¼Œæ–¹ä¾¿çš„æƒ…å†µä¸‹è¯·çŸ¥ä¼šæœ¬äºº. weibo</summary></entry><entry><title type="html">Tilde Arrow in Swift ï¼ˆSwift æ ‡å‡†åº“ä¸­çš„æ³¢æµªç®­å¤´ ~&amp;gt; ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/25/tilde-arrow-in-swift/" rel="alternate" type="text/html" title="Tilde Arrow in Swift ï¼ˆSwift æ ‡å‡†åº“ä¸­çš„æ³¢æµªç®­å¤´ ~&amp;gt; ï¼‰" /><published>2014-06-25T22:44:29+08:00</published><updated>2014-06-25T22:44:29+08:00</updated><id>https://andelf.github.io/blog/2014/06/25/tilde-arrow-in-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/25/tilde-arrow-in-swift/">&lt;p&gt;æœ¬æ–‡çå†™ï¼Œæ²¡å®é™…å†…å®¹ã€‚è¯·ä¸ç”¨çœ‹äº†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ‘˜è¦&quot;&gt;æ‘˜è¦&lt;/h2&gt;

&lt;p&gt;æœ¬æ–‡æŒ–æ˜ Swift æ ‡å‡†åº“ä¸­çš„è¯¡å¼‚æ“ä½œç¬¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; æ³¢æµªç®­å¤´çš„ä½œç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ­£æ–‡&quot;&gt;æ­£æ–‡&lt;/h2&gt;

&lt;p&gt;æŸ¥çœ‹æ ‡å‡†åº“å®šä¹‰çš„æ—¶å€™ï¼Œå‘ç°äº†ä¸€ä¸ªå¥‡æ€ªçš„è¿ç®—ç¬¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt;ï¼Œçœ‹èµ·æ¥é«˜å¤§ä¸Šï¼Œæ‰€ä»¥æ¢ç´¢ä¸‹å®ƒåˆ°åº•èµ·ä»€ä¹ˆä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;æ ‡å‡†åº“å¯¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; ç”¨åˆ°çš„åœ°æ–¹å¾ˆå¤šï¼Œæˆ‘å–æœ€ç®€å•çš„ä¸€ä¸ªæ¥åšè¯´æ˜ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol SignedNumber : _SignedNumber {
  func -(x: Self) -&amp;gt; Self
  func ~&amp;gt;(_: Self, _: (_Abs, ())) -&amp;gt; Self
}
func ~&amp;gt;&amp;lt;T : _SignedNumber&amp;gt;(x: T, _: (_Abs, ())) -&amp;gt; T
func abs(_: CInt) -&amp;gt; CInt
func abs&amp;lt;T : SignedNumber&amp;gt;(x: T) -&amp;gt; T
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ˜¯å¯¹æœ‰ç¬¦å·æ•´å‹çš„ä¸€ä¸ªåè®®ï¼Œæˆ‘å»æ‰äº†é¢å¤–çš„å±æ€§ã€‚äº‹å®ä¸Š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_Abs&lt;/code&gt; ç±»å‹æ˜¯ä¸€ä¸ªç©ºç»“æ„ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sizeof&lt;/code&gt; ä¸º 0 ã€‚&lt;/p&gt;

&lt;p&gt;å†™ä¸ªæµ‹è¯•ç¨‹åºï¼Œè®¡ç®—ä¸‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abs(-100)&lt;/code&gt; çœ‹çœ‹æƒ…å†µï¼Œå‘ç° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code()&lt;/code&gt; è°ƒç”¨äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SignedNumber&lt;/code&gt; ç‰ˆæœ¬çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abs()&lt;/code&gt;ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;callq  0x100001410               ; Swift.abs &amp;lt;A : Swift.SignedNumber&amp;gt;(A) -&amp;gt; A
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åæ±‡ç¼–è¿™ä¸ªåº“å‡½æ•°ï¼Œå‘ç°ä¸€ä¸ªæœ‰æ„æ€çš„è°ƒç”¨ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;callq  0x10000302a               ; symbol stub for: Swift._abs &amp;lt;A&amp;gt;(A) -&amp;gt; (Swift._Abs, A)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_abs()&lt;/code&gt; å‡½æ•°æ˜¯ç§æœ‰å‡½æ•°ï¼Œ Swift ä¸­æŠŠå¾ˆå¤šç§æœ‰çš„å‡½æ•°ã€æˆå‘˜å˜é‡ã€ç»“æ„ã€åè®®éƒ½ä»¥ä¸‹åˆ’çº¿å¼€å¤´ï¼Œæ„æ€å°±æ˜¯ä¸å¸Œæœ›æˆ‘ä»¬å»è°ƒç”¨æˆ–è€…è®¿é—®çš„å‡½æ•°ï¼Œåœ¨ç¼ºä¹æˆå‘˜è®¿é—®æ§åˆ¶çš„è¯­è¨€ä¸­ï¼Œå…¶å®è¿™ä¹ˆåšä¹Ÿä¸é”™ã€‚å¤§å®¶å¯ä»¥å€Ÿé‰´ã€‚&lt;/p&gt;

&lt;p&gt;è€Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_abs()&lt;/code&gt; å‡½æ•°å¾ˆç®€å•ï¼Œå°†ä»»æ„ç±»å‹ T ç›´æ¥å°è£…æˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(_Abs, T)&lt;/code&gt; å…ƒç»„ï¼Œè¿”å›ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åä»£ç çš„é€»è¾‘å°±æ˜¯ç”¨è¿™ä¸ªå…ƒç¥–è§£å¼€é‡æ–°ç»„è£…ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt;ã€‚é€»è¾‘å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// logic of abs() funciton&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;operation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_abs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;~&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;operation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// è¿”å› 100&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åˆ°è¿™é‡Œå°±æ¸…æ¥šäº†ã€‚å®é™…ä¸Š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; å°†ä¸€ä¸ªç®€å•çš„æ“ä½œå¤æ‚åŒ–ã€‚å¤šè°ƒç”¨äº†å±‚ï¼Œå®é™…å¼€é”€ä¸»è¦åœ¨å…ƒç¥–çš„è§£å¼€å’Œé‡ç»„è£…ï¼ˆå®é™…å¼€é”€ç†è®ºä¸Šåœ¨ä¼˜åŒ–æ¨¡å¼ä¸‹åº”è¯¥å¯ä»¥å¿½ç•¥ï¼Œå› ä¸ºåŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_Abs&lt;/code&gt;ï¼Œ size ä¸º 0ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;åˆ°è¿™é‡Œå¾ˆå¤šæœ‹å‹åº”è¯¥å·²ç»çŸ¥é“æ€ä¹ˆå›äº‹äº†ã€‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SignedNumber&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; æ“ä½œæ˜¯ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ–¹æ³•å¯ä»¥ hook åˆ°æ ‡å‡†åº“çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abs()&lt;/code&gt; å‡½æ•°ã€‚æ¥è‡ª Haskell çš„åŒå­¦åº”è¯¥ä¼šè§è¿‡è¿™ç§å•çº¯åœ°ç”¨ç±»å‹ç­¾åæ¥å®ç°å‡½æ•°åˆ†å‘è°ƒç”¨çš„æ–¹å¼ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä¼˜ç‚¹&quot;&gt;ä¼˜ç‚¹ï¼Ÿ&lt;/h3&gt;

&lt;p&gt;æš‚æ—¶æ­£åœ¨è€ƒè™‘ã€‚æƒ³æ˜ç™½ä¼šå‘å‡ºæ¥ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å»¶ä¼¸&quot;&gt;å»¶ä¼¸&lt;/h3&gt;

&lt;p&gt;å…¶å®å¾ˆå¤šæ ‡å‡†åº“å‡½æ•°éƒ½ç”¨åˆ°äº†ç±»ä¼¼çš„æ–¹æ³•å®ç°ã€‚éƒ½ç”¨åˆ°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; è¿ç®—ç¬¦ã€‚åŒ…æ‹¬ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;countElements()
// _countElements() å·¥å…·å‡½æ•°  _CountElements ç»“æ„
underestimateCount()
// _underestimateCount() ã€ _UnderestimateCount
advance()
// _advance() ã€ _Advance
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç­‰ã€‚&lt;/p&gt;

&lt;h2 id=&quot;é™„å½•&quot;&gt;é™„å½•&lt;/h2&gt;

&lt;p&gt;è¿™é‡Œåˆ—å‡ºéƒ¨åˆ†å®šä¹‰ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol Sequence : _Sequence_ {
  typealias GeneratorType : Generator
  func generate() -&amp;gt; GeneratorType
  func ~&amp;gt;(_: Self, _: (_UnderestimateCount, ())) -&amp;gt; Int
  func ~&amp;gt;&amp;lt;R&amp;gt;(_: Self, _: (_PreprocessingPass, ((Self) -&amp;gt; R))) -&amp;gt; R?
  func ~&amp;gt;(_: Self, _: (_CopyToNativeArrayBuffer, ())) -&amp;gt; ContiguousArrayBuffer&amp;lt;Self.GeneratorType.Element&amp;gt;
}
protocol Collection : _Collection, Sequence {
  subscript (i: Self.IndexType) -&amp;gt; Self.GeneratorType.Element { get }
  func ~&amp;gt;(_: Self, _: (_CountElements, ())) -&amp;gt; Self.IndexType.DistanceType
}

protocol ForwardIndex : _ForwardIndex {
  func ~&amp;gt;(start: Self, _: (_Distance, Self)) -&amp;gt; Self.DistanceType
  func ~&amp;gt;(start: Self, _: (_Advance, Self.DistanceType)) -&amp;gt; Self
  func ~&amp;gt;(start: Self, _: (_Advance, (Self.DistanceType, Self))) -&amp;gt; Self
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç›¸å…³æ›´å¤šå£°æ˜ä»£ç ä¿¡æ¯è¯·å‚è€ƒ æˆ‘çš„ Github : &lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;andelf/Defines-Swift&lt;/a&gt; ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&lt;/code&gt; å¯ä»¥è‡ªå®šä¹‰ç¼–è¯‘å™¨çš„è¡Œä¸ºã€‚ç›¸å½“äº hook æ ‡å‡†åº“å‡½æ•°ã€‚ç”±äºå†…éƒ¨å®ç°æœªçŸ¥ï¼Œè¿˜ä¸èƒ½ç»§ç»­æ–­è¨€å®ƒè¿˜æœ‰ä»€ä¹ˆä½œç”¨ã€‚&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯å’Œç›´æ¥ç”¨ extension å®ç°åè®®çš„æ–¹æ³•ç›¸æ¯”ï¼Œè¿™ä¸ªæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¾…è€ƒã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ›´æ–°&quot;&gt;æ›´æ–°&lt;/h2&gt;

&lt;p&gt;å¯ä»¥é¿å… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&lt;/code&gt; ä¸­çš„é™æ€å‡½æ•°æ··æ·†ç©ºé—´ï¼Œå¦‚æœç”¨å…¨å±€å‡½æ•°ï¼Œé‚£ä¹ˆç›¸å½“äºå…¨å±€å‡½æ•°å»è°ƒç”¨é™æ€å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰å°±æ˜¯åœ¨ä½¿ç”¨æ“ä½œç¬¦çš„æ—¶å€™ï¼Œå¦‚æœå®šä¹‰å¤šä¸ªï¼Œé‚£ä¹ˆéœ€è¦ç¼–è¯‘å™¨å»å¯»æ‰¾å¯ç”¨çš„ä¸€ä¸ªç‰ˆæœ¬ã€‚&lt;/p&gt;

&lt;p&gt;ä»”ç»†æŸ¥çœ‹ç›®å‰çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&lt;/code&gt; å®ç°ï¼Œå‘ç°è¿˜æ˜¯æœ‰ç‚¹ BUG ï¼Œç±»å‹é™åˆ¶è¿˜æ˜¯ä¸æ¸…æ¥šï¼Œè¡¨è¿°é«˜é˜¶ç±»å‹çš„æ—¶å€™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æè¿° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~&amp;gt;&lt;/code&gt; çš„ç”¨æ³•ï¼Œæˆ‘å†™äº†ä¸ª &lt;a href=&quot;https://gist.github.com/andelf/6a8432ef0820de9991f6&quot;&gt;Monad.swift&lt;/a&gt; ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æœ¬æ–‡çå†™ï¼Œæ²¡å®é™…å†…å®¹ã€‚è¯·ä¸ç”¨çœ‹äº†ã€‚</summary></entry><entry><title type="html">Write Swift Module Cont. Static Library ï¼ˆä½¿ç”¨ Swift åˆ›å»º Swift æ¨¡å— - é™æ€é“¾æ¥åº“ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/25/write-swift-module-with-swift-cont/" rel="alternate" type="text/html" title="Write Swift Module Cont. Static Library ï¼ˆä½¿ç”¨ Swift åˆ›å»º Swift æ¨¡å— - é™æ€é“¾æ¥åº“ï¼‰" /><published>2014-06-25T21:20:55+08:00</published><updated>2014-06-25T21:20:55+08:00</updated><id>https://andelf.github.io/blog/2014/06/25/write-swift-module-with-swift-cont</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/25/write-swift-module-with-swift-cont/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina, è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„å‘ç°åŸºäºä¸ªäººç ”ç©¶ã€‚è¯·å°Šé‡åŸåˆ›ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ‘˜è¦&quot;&gt;æ‘˜è¦&lt;/h2&gt;

&lt;p&gt;æœ¬æ–‡æå‡ºäº†ä¸€ç§å¯ä»¥ç¼–è¯‘ Swift é™æ€é“¾æ¥æ¨¡å—çš„æ–¹æ³•ï¼Œé€šè¿‡å¯¹ swift ç¼–è¯‘å‘½ä»¤è¡Œå‚æ•°çš„æ§åˆ¶ï¼Œç”Ÿæˆå¯ä»¥è‡ªç”±åˆ†å‘çš„é™æ€é“¾æ¥åº“å’Œ swift module æè¿°æ–‡ä»¶ã€‚åŒæ—¶è¿˜æå‡ºäº†å¯¼å‡º objC å¤´æ–‡ä»¶ä¾› Objective-C è°ƒç”¨çš„å¯èƒ½ã€‚&lt;/p&gt;

&lt;p&gt;å…³é”®è¯ï¼š Swift æ¨¡å— é™æ€é“¾æ¥åº“&lt;/p&gt;

&lt;p&gt;ä¸Šæ¬¡ä¸€ç¯‡æ–‡ç«  &lt;a href=&quot;http://andelf.github.io/blog/2014/06/19/modules-for-swift/&quot;&gt;Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)&lt;/a&gt; ä¸­æåˆ°ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;é™æ€é“¾æ¥åº“ .a ç›®å‰è¿˜æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ï¼Œ -Xlinker -static ä¼šæŠ¥é”™ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€è¿‘æ‘¸ç´¢äº†ä¸‹ç”¨ Swift åˆ›å»ºé™æ€é“¾æ¥åº“çš„æ–¹æ³•ã€‚æœ‰æ‰€æ”¶è·ï¼Œè¿™é‡Œè®°å½•ä¸‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åºŸè¯&quot;&gt;åºŸè¯&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬ä¸­çš„å¾ˆå¤šäººéƒ½çŸ¥é“ï¼Œç¼–è¯‘å™¨ç¼–è¯‘çš„æœ€åä¸€ä¸ªæ­¥éª¤ä¸€èˆ¬éƒ½æ˜¯é“¾æ¥ï¼Œä¸€èˆ¬éƒ½æ˜¯è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ld&lt;/code&gt;ã€‚ç»è¿‡ä»”ç»†åˆ†æï¼Œä¹‹å‰ä¸ºä»€ä¹ˆä¸èƒ½ç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; é™æ€é“¾æ¥åº“çš„åŸå› ï¼Œå‘ç°æœ‰å¦‚ä¸‹é—®é¢˜ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Xlinker -static&lt;/code&gt; å‚æ•°ä¼ é€’çš„æ—¶å€™ï¼Œ swift å‘½ä»¤æœ¬èº«ä¸èƒ½è¯†åˆ«ï¼Œè®² &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-dylib&lt;/code&gt; ä¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-static&lt;/code&gt; ä¸€èµ·ä¼ é€’ï¼ˆè¿™å€’ä¸æ˜¯é—®é¢˜ï¼Œå‚æ•°ä¼˜å…ˆçº§ï¼Œé™æ€ç›–æ‰äº†åŠ¨æ€ï¼‰&lt;/li&gt;
  &lt;li&gt;é“¾æ¥åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-lSystem&lt;/code&gt; æ—¶å€™ï¼Œè¿™ä¸ªåº“æ²¡æœ‰é™æ€é“¾æ¥ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥æ€»ä¼šæŠ¥é”™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ€è€ƒ&quot;&gt;æ€è€ƒ&lt;/h3&gt;

&lt;p&gt;å®é™…ä¸Šä¹‹å‰çš„æ–¹æ³•æ˜¯èµ°äº†å¼¯è·¯ï¼Œæ ¹æœ¬æ²¡æœ‰å¿…è¦å»è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ld&lt;/code&gt;ï¼Œä½œä¸ºä¸€ä¸ªåˆæ ¼çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; é™æ€é“¾æ¥åº“ï¼Œåªè¦æœ‰å¯¹åº”çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt; å°±å¯ä»¥äº†ï¼Œæ²¡å¿…è¦å»é“¾æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-lSystem&lt;/code&gt;ï¼Œä¹Ÿè®¸æ˜¯ swift æœ¬èº«æ²¡æœ‰ç¼–è¯‘ä¸ºé™æ€é“¾æ¥åº“çš„å‚æ•°æ”¯æŒã€‚&lt;/p&gt;

&lt;p&gt;æ£€æŸ¥ Swift æ ‡å‡†åº“ä¸­çš„é™æ€é“¾æ¥åº“ï¼Œæœç„¶åªåŒ…å«å¯¹åº” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swift&lt;/code&gt; ä»£ç ç¼–è¯‘åçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt; æ–‡ä»¶ã€‚ï¼ˆæ£€æŸ¥æ–¹æ³•æ˜¯ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ar -t libName.a&lt;/code&gt;ï¼‰&lt;/p&gt;

&lt;p&gt;è¯´åˆ°åº•ï¼Œ Swift é™æ€é“¾æ¥åº“çš„ç›®æ ‡å¾ˆç®€å•ï¼Œå°±æ˜¯åŒ…å«å¯¹åº” Swift æ¨¡å—çš„æ‰€æœ‰ä»£ç ï¼Œè¿™æ ·å°±é¿å…äº†å¯¹åº”åŠ¨æ€é“¾æ¥åº“çš„å¼•å…¥ã€‚å’Œä»€ä¹ˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-lSystem&lt;/code&gt; æ²¡å•¥ç›¸å¹²ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è§£å†³æ–¹æ³•-howto&quot;&gt;è§£å†³æ–¹æ³• HOWTO&lt;/h2&gt;

&lt;p&gt;ä»¥ lingoer çš„ &lt;a href=&quot;https://github.com/lingoer/SwiftyJSON&quot;&gt;SwiftyJSON&lt;/a&gt; ä¸ºä¾‹ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬çš„ç›®æ ‡å¾ˆç®€å•ï¼Œå°±æ˜¯ç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftmodule&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftdoc&lt;/code&gt;(å¯é€‰)ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libswiftModName.a&lt;/code&gt; ä¸‰ä¸ªæ–‡ä»¶ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç¼–è¯‘&quot;&gt;ç¼–è¯‘&lt;/h3&gt;

&lt;h4 id=&quot;ç”Ÿæˆ-swiftmodule-swiftdoc&quot;&gt;ç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftdoc&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun swift -sdk $(xcrun --show-sdk-path --sdk macosx) SwiftyJSON.swift -emit-library -emit-module -module-name SwiftyJSON -v -o libswiftSwiftyJSON.dylib -module-link-name swiftSwiftyJSON
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;ç”Ÿæˆ-o&quot;&gt;ç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun swift -sdk $(xcrun --show-sdk-path --sdk macosx) -c SwiftyJSON.swift -parse-as-library -module-name SwiftyJSON -v -o SwiftyJSON.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;ç”Ÿæˆ-a&quot;&gt;ç”Ÿæˆ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt;&lt;/h4&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ar rvs libswiftSwiftyJSON.a SwiftyJSON.o
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¤§åŠŸå‘Šæˆã€‚&lt;/p&gt;

&lt;p&gt;åŒæ—¶åº”è¯¥ä¹Ÿå¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lipo&lt;/code&gt; æ¥åˆæˆä¸åŒå¹³å°ä¸‹çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; é“¾æ¥åº“ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨&lt;/h3&gt;

&lt;p&gt;å’Œé™æ€é“¾æ¥åº“ç±»ä¼¼ï¼Œéœ€è¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt; åŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ‰€åœ¨ç›®å½•ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-L&lt;/code&gt; åŒ…å« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; æ‰€åœ¨ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœåŠ¨æ€é“¾æ¥åº“å’Œé™æ€é“¾æ¥åº“ä¸¤è€…åŒæ—¶å­˜åœ¨ï¼Œå¯ä»¥ä¾é ä¸åŒç›®å½•æ¥åŒºåˆ†ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä½ ä¸«é—²çš„&quot;&gt;ä½ ä¸«é—²çš„ï¼&lt;/h2&gt;

&lt;p&gt;å¯èƒ½ä¸å°‘äººè¦ç¾¤å˜²ï¼Œä½ è¿™æ„ä¹‰æ˜¯å•¥ã€‚ä½ ä¸«é—²çš„ã€‚&lt;/p&gt;

&lt;p&gt;å…¶å®åœ¨åˆ†å‘ library çš„æ—¶å€™ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬éœ€è¦äºŒè¿›åˆ¶åˆ†å‘ï¼Œå¸Œæœ›åˆ«äººå¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œé™æ€é“¾æ¥æ›´ä½³ï¼ˆè™½ç„¶æ–°çš„ iOS 8 æ”¯æŒåŠ¨æ€é“¾æ¥ï¼Œä½†æ˜¯çœ‹èµ·æ¥æ˜¯åŸºäº Framework çš„ï¼Œç•¥å¤æ‚äº›ã€‚ï¼‰&lt;/p&gt;

&lt;p&gt;ç”šè‡³æˆ‘ä»¬å¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lipo&lt;/code&gt; åˆ›å»ºå…¨å¹³å°å¯ç”¨çš„é™æ€é“¾æ¥åº“ã€‚å¤šèµã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¡¥å……&quot;&gt;è¡¥å……&lt;/h2&gt;

&lt;p&gt;å¤šä¸ª Swift æ–‡ä»¶å¯ä»¥åˆ†åˆ«ç¼–è¯‘ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt; ç„¶åç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ar&lt;/code&gt; åˆå¹¶ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹äº CocoaPods ï¼Œä¹Ÿè®¸å¯ä»¥æŒ‰ç…§è¿™ä¸ªé€»è¾‘å°† Swift æ¨¡å—æš´éœ²å‡ºå»ã€‚éœ€è¦å¤šåŠ ä¸€ä¸ªå‚æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-emit-objc-header&lt;/code&gt; ï¼ˆä»¥åŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-emit-objc-header-path&lt;/code&gt;ï¼‰å³å¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;æˆ‘çš„å¦ä¸€ç¯‡ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/19/modules-for-swift/&quot;&gt;Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/23/use-cocoapods-with-swift/&quot;&gt;Use CocoaPods With Swift (åœ¨ Swift ä¸­ä½¿ç”¨ CocoaPodsï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina, è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. weibo</summary></entry><entry><title type="html">Use CocoaPods with Swift (åœ¨ Swift ä¸­ä½¿ç”¨ CocoaPodsï¼‰</title><link href="https://andelf.github.io/blog/2014/06/23/use-cocoapods-with-swift/" rel="alternate" type="text/html" title="Use CocoaPods with Swift (åœ¨ Swift ä¸­ä½¿ç”¨ CocoaPodsï¼‰" /><published>2014-06-23T20:15:39+08:00</published><updated>2014-06-23T20:15:39+08:00</updated><id>https://andelf.github.io/blog/2014/06/23/use-cocoapods-with-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/23/use-cocoapods-with-swift/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina ã€‚è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„å‘ç°åŸºäºä¸ªäººç ”ç©¶ã€‚è¯·å°Šé‡åŸåˆ›ã€‚å·²æˆæƒ CocoaChina è½¬è½½ä¸ªäººæ–‡ç« ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡ä»‹ç»å¦‚ä½•åœ¨ Swift é¡¹ç›®ä¸­ä½¿ç”¨ CocoaPods ã€‚å¦‚æœä½ å·²ç»ç²¾é€š Bridging Header çš„æ–¹æ³•ï¼Œè¯·ç›´æ¥è·³åˆ° â€œæ‰©å±• CocoaPodsâ€ ä¸€èŠ‚ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯-cocoapods&quot;&gt;ä»€ä¹ˆæ˜¯ CocoaPods&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;CocoaPods is the dependency manager for Objective-C projects.
It has thousands of libraries and can help you scale your projects elegantly. &lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä»ä»‹ç»çœ‹ï¼Œå®ƒæ˜¯ä¸»è¦ç»™ Objective-C é¡¹ç›®ç”¨çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ··åˆ Objective-C å’Œ Swift åˆ°åŒä¸ªé¡¹ç›®ï¼Œä»è€Œåˆ©ç”¨å¤§é‡çš„ CocoaPods åº“å’Œ Swift æ¼‚äº®èˆ’æœçš„è¯­æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä½œä¸º iOS å¼€å‘æ–°æ‰‹ï¼Œä¸€å®šæ˜¯è¦ç´§è·Ÿå‰äººè„šæ­¥ï¼Œå­¦ä¹ ä½¿ç”¨ CocoaPods ã€‚&lt;/p&gt;

&lt;h2 id=&quot;åŸºç¡€ç”¨æ³•&quot;&gt;åŸºç¡€ç”¨æ³•&lt;/h2&gt;

&lt;p&gt;è¿™é‡Œç®€å•ç•¥è¿‡ï¼Œè¯·å‚è€ƒå…¶ä»–æ— æ•°çš„æ–‡ç« ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®‰è£…&quot;&gt;å®‰è£…&lt;/h3&gt;

&lt;p&gt;ç³»ç»Ÿé»˜è®¤å®‰è£…ï¼Œå¯ä»¥å‚è€ƒå…¶ä»–æ•™ç¨‹&lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; ã€‚åœ¨å‘½ä»¤è¡Œä¸‹æ‰§è¡Œã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo gem install cocoapods
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ‘çš„ç¯å¢ƒæ˜¯ HomeBrew&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# æ·»åŠ  taobao Mirror ä¸ç„¶è¢«å¢™æ‰æ²¡åŠæ³•ä¸‹è½½
gem sources -a http://ruby.taobao.org/
# å®‰è£…
gem install cocoapods
# æ›´æ–°å‘½ä»¤
rbenv rehash
# æ‰§è¡Œ
pod
# æ­¤æ—¶ä¸€èˆ¬ä¼šä¸‹è½½å®˜æ–¹çš„æ‰€æœ‰ PodSpec åº“ï¼Œä¹Ÿå¯ä»¥ç”¨ pod setup åˆå§‹åŒ–ç¯å¢ƒ
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœ¬æ–‡ä¸æ‰“ç®—åœ¨å®‰è£…éƒ¨åˆ†è€—è´¹å¤ªå¤šæ—¶é—´ã€‚å¸Œæœ›çœ‹åˆ°è¿™é‡Œä¿è¯ä½ çš„å‘½ä»¤è¡Œä¸‹æœ‰å¯ç”¨çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod&lt;/code&gt; å‘½ä»¤ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ä½¿ç”¨&quot;&gt;ä½¿ç”¨&lt;/h3&gt;

&lt;p&gt;å‡è®¾æˆ‘ä»¬å·²ç»æœ‰ä¸ªé¡¹ç›®ï¼Œå« ProjName ï¼Œéœ€è¦ä½¿ç”¨ä¸€äº›æ³¨æ˜çš„ CocoaPods åº“ï¼Œæ¯”å¦‚ AFNetworking&lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;é¦–å…ˆï¼Œå‘½ä»¤è¡Œ cd åˆ°æˆ‘ä»¬çš„é¡¹ç›®ç›®å½•ï¼Œä¸€èˆ¬ ls å‘½ä»¤ä¼šçœ‹åˆ°å¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶å¤¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ProjName
ProjName.xcodeproj
ProjNameTests
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;èµï¼Œå°±æ˜¯è¿™é‡Œï¼Œåˆ›å»ºä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt; æ–‡æœ¬æ–‡ä»¶ï¼Œå†™å…¥å¦‚ä¸‹å†…å®¹&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;platform :ios, &quot;8.0&quot;
pod &quot;AFNetworking&quot;, &quot;~&amp;gt; 2.0&quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸€èˆ¬è¿™ä¹ˆç®€å•çš„æ–‡ä»¶éƒ½æ˜¯ç›´æ¥ nano å†™ã€‚ :)&lt;/p&gt;

&lt;p&gt;ç›´æ¥åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt; ï¼Œ CocoaPods ä¼šåˆ›å»ºä¸€ä¸ªé¡¹ç›®åŒåçš„ WorkSpace ï¼Œç„¶åæ·»åŠ ä¸€ä¸ªå« Pods çš„é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®ç¼–è¯‘ç»“æœæ˜¯ä¸€ä¸ªå« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libPods.a&lt;/code&gt;çš„é“¾æ¥åº“ï¼Œ
å®ƒä¼šæ·»åŠ åˆ°æˆ‘ä»¬ä¹‹å‰çš„ ProjName é¡¹ç›®ä¸­ä½œä¸ºç¼–è¯‘ä¾èµ–ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod init&lt;/code&gt; ä¹Ÿå¯ä»¥è‡ªåŠ¨åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt;ï¼Œè€Œä¸”å¯ä»¥è‡ªåŠ¨åˆ†æå½“å‰é¡¹ç›®çš„ target ï¼Œç›¸å¯¹æ¥è¯´æ›´å¥½ï¼Œä¹Ÿæ›´ä¼˜é›…ã€‚å…·ä½“è¯·å‚è€ƒå®˜æ–¹æ‰‹å†Œã€‚è¿™æ ·çš„å¥½å¤„æ˜¯æ›´ç»†è‡´ï¼Œè¿˜å¯ä»¥åŒºåˆ†å¤šä¸ªå­é¡¹ç›®å­ target ã€‚åŸç†å¤§åŒå°å¼‚ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åæ¥ä¸‹æ¥ï¼Œå‘½ä»¤è¡Œæ‰§è¡Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;open ProjName.xcworkspace&lt;/code&gt;ï¼Œæ³¨æ„è¿™ä¸ªå¯ä¸æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.xcodeproj&lt;/code&gt;ï¼Œè¿™ä¸ªæ˜¯ CocoaPods ä¸ºæˆ‘ä»¬åˆ›å»ºçš„ä¸€ä¸ª WorkSpace ï¼ŒåŒ…å«æˆ‘ä»¬ä¹‹å‰çš„é¡¹ç›®ï¼Œå’Œ Pods ä¾èµ–ã€‚&lt;/p&gt;

&lt;p&gt;å¼€å§‹ç¼–ç è¿‡ç¨‹ã€‚ç›´æ¥åœ¨ä»£ç é‡Œè°ƒç”¨ï¼Œæ¯”å¦‚å†™åœ¨æŸä¸ªæŒ‰é’®çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@IBAction&lt;/code&gt; é‡Œï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;        &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;manager&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AFHTTPRequestOperationManager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;http://api.openweathermap.org/data/2.5/weather&quot;&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;params&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;26&lt;/span&gt;, &lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;03&lt;/span&gt;, &lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;cnt&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

        &lt;span class=&quot;nv&quot;&gt;manager&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;parameters&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;operation:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AFHTTPRequestOperation!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;kt&quot;&gt;responseObject:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AnyObject!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;in&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;JSON: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;responseObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;},&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;failure&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;operation:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;AFHTTPRequestOperation!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;kt&quot;&gt;error:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSError!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;in&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Error: &quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;localizedDescription&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;o&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™é‡Œç›´æ¥æŠ„äº† JakeLin çš„ SwiftWeather ä»£ç &lt;sup id=&quot;fnref:5&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:5&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;ï¼Œå°±ä¸€å°æ®µï¼Œå¸Œæœ›ä»–ä¸ä¼šæ‰“æˆ‘ã€‚&lt;/p&gt;

&lt;h4 id=&quot;swift-å‘çˆ¹äº†&quot;&gt;Swift å‘çˆ¹äº†&lt;/h4&gt;

&lt;p&gt;çœ‹èµ·æ¥è²Œä¼¼æˆ‘ä»¬å·²ç»å¯ä»¥åœ¨ Swift ä¸­ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AFNetworking&lt;/code&gt; äº†ã€‚ç»“æœåˆšå†™å‡ å¥ä»£ç ä¸€å †ç±»å’Œå˜é‡æ‰¾ä¸åˆ°å®šä¹‰ï¼Œè€Œä¸”å‘çˆ¹çš„æ˜¯å¾ˆå¤šæ—¶å€™æˆ‘ä»¬åªèƒ½é çŒœæµ‹ï¼Œåˆ¤æ–­è¿™äº› Objective-C çš„å®šä¹‰è½¬æ¢æˆ Swift å®šä¹‰æ˜¯ä»€ä¹ˆæ ·å­ï¼Œç”¨èµ·æ¥å°±æ˜¯å®Œå…¨é è’™ï¼&lt;/p&gt;

&lt;p&gt;è¿™ä¸ç§‘å­¦ï¼&lt;/p&gt;

&lt;p&gt;è¿™éƒ½ä¸‰ç¤¼æ‹œäº†ï¼Œæ‰€ä»¥å¤§å®¶éƒ½æ‘¸ç´¢å‡ºäº†è°ƒç”¨çš„æ–¹æ³•ï¼Œé‚£å°±æ˜¯æŒ‰ç…§å’Œ Objective-C ä»£ç æ··ç¼–çš„ä¾‹å­ï¼Œæ·»åŠ  Bridging Header ï¼&lt;/p&gt;

&lt;h4 id=&quot;ç»§ç»­&quot;&gt;ç»§ç»­&lt;/h4&gt;

&lt;p&gt;ä¹‹å‰ç®€å•ä»‹ç»è¿‡å’Œ  Objective-C äº¤äº’çš„å†…å®¹&lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt;ï¼Œå¤§å®¶å¯ä»¥å»å›´è§‚ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬è¯´æ¥ï¼Œä½ åœ¨ Swift é¡¹ç›®æ–°å»º Objective-C ç±»çš„æ—¶å€™ï¼Œç›´æ¥å¼¹å‡ºæ˜¯å¦åˆ›å»º Bridge Header çš„çª—å£ï¼Œç‚¹ YES å°±æ˜¯äº†ï¼Œè¿™æ—¶å€™ä¸€èˆ¬å¤šå‡ºæ¥ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ProjectName-Bridging-Header.h&lt;/code&gt; ã€‚ç„¶ååˆ æ‰è¿™ä¸ªç±»ï¼Œ Bridging Header å¤´æ–‡ä»¶è¿˜åœ¨ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨è¿™ä¸ª Bridging Header æ–‡ä»¶é‡Œå†™å…¥è¦å¯¼å…¥çš„ CocoaPods åº“ï¼Œå°±å¯ä»¥åœ¨ Swift ä¸­ä½¿ç”¨äº†ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#import &amp;lt;AFNetworking/AFNetworking.h&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚æœæ²¡æœ‰è‡ªåŠ¨åˆ›å»ºå¤´æ–‡ä»¶çš„è¯ï¼Œè¿™ä¸ªé…ç½®åœ¨é¡¹ç›®çš„ Build Settings ä¸­çš„ Swift Compiler - Code Generation å­é¡¹é‡Œã€‚&lt;/p&gt;

&lt;p&gt;åˆ›å»ºä¸€ä¸ªå¤´æ–‡ä»¶ï¼ŒæŒ‡å®šä¸º Bridging Header ä¹Ÿå¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åç¼–è¯‘ï¼ŒæˆåŠŸæ‰§è¡Œï¼&lt;/p&gt;

&lt;h4 id=&quot;è¿™å°±å®Œäº‹äº†&quot;&gt;è¿™å°±å®Œäº‹äº†ï¼Ÿ&lt;/h4&gt;

&lt;p&gt;å®é™…ä¸Šï¼Œå‰ä¸¤å¤©åˆšå†™ä¸€ç¯‡ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/19/modules-for-swift/&quot;&gt;Swift çš„æ¨¡å—ç³»ç»Ÿ&lt;/a&gt; ï¼Œ æŠŠä»»æ„ Objective-C åº“å½“åš Swift Module æ˜¯å¯è¡Œçš„ã€‚å½“æ—¶å°±è§‰å¾—è¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯å¯èƒ½å®Œå…¨è¿›å…¥ CocoaPods çš„ï¼Œä½†æ˜¯åœ¨å®˜æ–¹ repo æ‰¾äº†ä¸‹å‘ç°ï¼Œä»¥å‰æœ‰äººæè¿‡å¢åŠ  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ”¯æŒï¼Œç»“æœ CocoaPods çš„äººè®¤ä¸ºè¿™ä¸ªæ˜¯ llvm å†…éƒ¨ç‰¹æ€§ï¼Œ issue è¢«å…³é—­äº†ã€‚&lt;a href=&quot;https://github.com/CocoaPods/CocoaPods/issues/2216&quot;&gt;#2216&lt;/a&gt; æœ€è¿‘åˆè¢«æèµ·ï¼Œæˆ‘åœ¨åé¢æäº†ä¸‹ Swift æ”¯æŒï¼Œå¸Œæœ›å®˜æ–¹é è°±ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥ä¸‹é¢çš„å†…å®¹ï¼Œå°±æ˜¯ï¼Œæˆ‘ä»¬æ˜¯å¦å¯ä»¥åœ¨ CocoaPods ä¸ŠåŠ å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ”¯æŒï¼Œç„¶åç›´æ¥åœ¨ Swift ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import ModuleName&lt;/code&gt; ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;æ‰©å±•-cocoapods&quot;&gt;æ‰©å±• CocoaPods&lt;/h2&gt;

&lt;p&gt;è€ƒè™‘äº†å¤šç§æ–¹å¼ï¼Œæœ€åé€‰æ‹©äº† Hook çš„æ–¹å¼ã€‚å¦‚æœ Ruby æŠ€æœ¯è¶³å¤Ÿå¥½ï¼Œæˆ–è®¸å¯ä»¥ç›´æ¥å†™ä¸ªæ’ä»¶ã€‚æˆ–è€…ç›´æ¥æ”¹å®˜æ–¹ä»£ç ç»™å®˜æ–¹æäº¤ã€‚ä½†æ˜¯å®åœ¨èƒ½åŠ›æœ‰é™ã€‚ç›¸å…³çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; è¯­æ³•å‚è€ƒ llvm å®˜æ–¹æ‰‹å†Œ &lt;a href=&quot;http://clang.llvm.org/docs/Modules.html&quot;&gt;Modules â€“ Clang 3.5 documentation&lt;/a&gt;ã€‚ç”¨äº†æœ€ç®€å•çš„åŠŸèƒ½ã€‚ä¹Ÿè®¸é‡åˆ°å¤æ‚çš„ PodSpec å°±ä¸èµ·ä½œç”¨äº†ï¼Œä½†æ˜¯åŸç†å¦‚æ­¤ï¼Œç›¸ä¿¡å°ä¼™ä¼´ä»¬å·²ç»çŸ¥é“æ€ä¹ˆåšäº†ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰æˆ‘çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt; å¤§æ¦‚æ˜¯è¿™ä¸ªæ ·å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;platform&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;:ios&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;8.0&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;AFNetworking&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~&amp;gt; 2.0&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Baidu-Maps-iOS-SDK&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~&amp;gt; 2.0&quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;post_install&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;installer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;installer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sandbox_root&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/Headers/module.map&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;w&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;installer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;pods&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;normalized_pod_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&apos;-&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;fp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;write&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;
module &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normalized_pod_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt; [system] {
  umbrella &quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sh&quot;&gt;&quot;
  export *
}
&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;EOF&lt;/span&gt;
      &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Generating Swift Module &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;normalized_pod_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;green&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; for &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pod&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; OK!&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;post_install&lt;/code&gt; æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt; çš„ä¸€ç§ hook æœºåˆ¶ï¼Œå¯ä»¥ç”¨æ¥åŠ å…¥è‡ªå®šä¹‰æ“ä½œã€‚æˆ‘åœ¨è¿™é‡Œçš„å†™çš„é€»è¾‘å°±æ˜¯ï¼Œé’ˆå¯¹æ‰€æœ‰çš„ Pod ç”Ÿæˆä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ–‡ä»¶ã€‚
ä½äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Pods/Headers/&lt;/code&gt;ï¼Œè¿™ä¸ªç›®å½•è¢« CocoaPods è‡ªåŠ¨è®¾ç½®ä¸ºé¡¹ç›®çš„ Header Search Path æ‰€ä»¥ä¸éœ€è¦é¢å¤–å¤„ç†ã€‚é»˜è®¤æˆ‘ä»¬çš„ Swift æ–‡ä»¶å°±æ‰¾å¾—åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;å…¶ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;normalized_pod_name&lt;/code&gt; ç”¨äºå¤„ç†ç™¾åº¦åœ°å›¾ API SDK è¿™ä¸€ç±»åå­—å¸¦å‡å·çš„åº“ï¼Œå› ä¸ºä»–ä»¬ä¸èƒ½ä½œä¸º Module Name ï¼Œå®é™…ä¸Šæˆ–è®¸æœ‰æ›´å¥½çš„æ–¹æ³•æ¥å¤„ç†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®é™…æ•ˆæœ&quot;&gt;å®é™…æ•ˆæœ&lt;/h3&gt;

&lt;p&gt;å®æµ‹å‘ç°å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œç›´æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import AFNetworking&lt;/code&gt; æˆ–è€… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import BaiduMapsiOSSDK&lt;/code&gt; éƒ½å¯ä»¥ã€‚&lt;/p&gt;

&lt;p&gt;è€Œä¸”å¾ˆä¸é”™çš„ä¸€ç‚¹æ˜¯ï¼ŒæŒ‰ä½ Command é”®ï¼Œç„¶åé¼ æ ‡ç‚¹å‡»æ¨¡å—åã€ç±»åç­‰ï¼Œä¼šè·³è½¬åˆ° Swift å®šä¹‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å‘&quot;&gt;å‘&lt;/h3&gt;

&lt;p&gt;é‡åˆ°æç¤º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.pcm&lt;/code&gt; æ–‡ä»¶ outdate çš„æƒ…å†µä¸‹éœ€è¦ä½ åˆ é™¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$HOME/Library/Developer/Xcode/DerivedData/ModuleCache&lt;/code&gt; ç›®å½•ï¼Œè¿™ä¸ªç›®å½•ä¿å­˜çš„æ˜¯é¢„ç¼–è¯‘æ¨¡å—ï¼Œç±»ä¼¼äºé¢„ç¼–è¯‘å¤´æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ç›®å‰ Swift è¿˜æ˜¯æœ‰å¾ˆå¤š BUG çš„ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; ä¹Ÿè®¸ä¼šè®©ç¼–è¯‘å™¨ç›´æ¥ segment fault ï¼Œä¸å¸¦ä»»ä½•å‡ºé”™ä¿¡æ¯ã€‚å¾ˆä¼¤æƒ…ã€‚æ­¤æ—¶è¯·ç¬¬ä¸€æ—¶é—´æ£€æŸ¥è¯­æ³•æ˜¯å¦æœ‰è¯¡å¼‚ï¼Œå…¶æ¬¡å°†æ‰€æœ‰ç”¨åˆ°å­—ç¬¦ä¸²æˆ–è€… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Optional&lt;/code&gt; çš„åœ°æ–¹éƒ½é¢å¤–ç”¨å˜é‡å¤„ç†ï¼Œé¿å…ç”¨å­—é¢å¸¸é‡ã€‚ï¼ˆä¸ªäººç»éªŒï¼‰&lt;/p&gt;

&lt;p&gt;å¦‚æœå¤šæ¬¡è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pod install&lt;/code&gt; å¹¶åœ¨å…¶ä¸­ä¿®æ”¹è¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Podfile&lt;/code&gt;ï¼Œé‚£ä¹ˆæœ‰å¯èƒ½ä½ çš„é¡¹ç›®ä¾èµ–ä¼šä¹±æ‰ï¼Œå¤šäº†ä¸å­˜åœ¨çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; æ–‡ä»¶åˆ°ä¾èµ–æˆ–è€…å¤šæ¬¡åŒ…å«ã€‚æ‰‹å·¥åœ¨é¡¹ç›®æ ‘å’Œé¡¹ç›®é€‰é¡¹é‡Œåˆ é™¤å°±å¯ä»¥äº†ã€‚æ­¤ç±»ç¼–è¯‘é”™è¯¯éƒ½æ˜¯é“¾æ¥é”™è¯¯ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æœ¬æ–‡æå‡ºäº†ä¸€ç§ Bridging Header ä¹‹å¤–çš„ä½¿ç”¨ CocoaPods åº“çš„æ–¹æ³•ã€‚åˆ©ç”¨æœ‰é™çš„ Ruby çŸ¥è¯†å†™äº†ä¸ª Hook ã€‚ç›®å‰æµ‹è¯• OK ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒ&quot;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://cocoapods.org/&quot;&gt;CocoaPods Offical Site&lt;/a&gt; CocoaPods å®˜ç½‘Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.cocoachina.com/applenews/devnews/2014/0623/8917.html&quot;&gt;CocoaPods - CocoaChina&lt;/a&gt; CocoaChina å¯¹ CocoaPods çš„ä»‹ç»Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/AFNetworking/AFNetworking&quot;&gt;AFNetworking - Github&lt;/a&gt;Â &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:5&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/JakeLin/SwiftWeather/blob/master/Swift%20Weather/ViewController.swift&quot;&gt;SwiftWeather&lt;/a&gt;Â &lt;a href=&quot;#fnref:5&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/11/swift-and-objectivec-interop/&quot;&gt;Swift and ObjectiveC Interop (Swift ä¸ Objective-C ä¹‹é—´çš„äº¤äº’)&lt;/a&gt;Â &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina ã€‚è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. weibo</summary></entry><entry><title type="html">Swift Reflection ï¼ˆSwift çš„åå°„ï¼‰</title><link href="https://andelf.github.io/blog/2014/06/20/swift-reflection/" rel="alternate" type="text/html" title="Swift Reflection ï¼ˆSwift çš„åå°„ï¼‰" /><published>2014-06-20T23:48:51+08:00</published><updated>2014-06-20T23:48:51+08:00</updated><id>https://andelf.github.io/blog/2014/06/20/swift-reflection</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/20/swift-reflection/">&lt;p&gt;Swift å…¶å®æ˜¯æ”¯æŒåå°„çš„ï¼Œä¸è¿‡åŠŸèƒ½ç•¥å¼±ã€‚æœ¬æ–‡ä»‹ç»åŸºæœ¬çš„åå°„ç”¨æ³•å’Œç›¸å…³ç±»å‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;metatype-å’Œ-type-è¯­æ³•&quot;&gt;MetaType å’Œ Type è¯­æ³•&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;The metatype of a class, structure, or enumeration type is the name of that type followed by .Type. The metatype of a protocol typeâ€”not the concrete type that conforms to the protocol at runtimeâ€”is the name of that protocol followed by .Protocol. For example, the metatype of the class type SomeClass is SomeClass.Type and the metatype of the protocol SomeProtocol is SomeProtocol.Protocol.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can use the postfix self expression to access a type as a value. For example, SomeClass.self returns SomeClass itself, not an instance of SomeClass. And SomeProtocol.self returns SomeProtocol itself, not an instance of a type that conforms to SomeProtocol at runtime.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;metatype-type -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;type&lt;/code&gt;.&lt;strong&gt;Type&lt;/strong&gt;&lt;/td&gt;
          &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;type&lt;/code&gt;.&lt;strong&gt;Protocol&lt;/strong&gt;&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;type-as-value -&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;type&lt;/code&gt;.self&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶ä¸­ metatype-type å‡ºç°åœ¨ä»£ç ä¸­éœ€è¦ç±»å‹çš„åœ°æ–¹ï¼Œ type-as-value å‡ºç°åœ¨ä»£ç ä¸­éœ€è¦å€¼ã€å˜é‡çš„åœ°æ–¹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Any.Type&lt;/code&gt; ç±»å‹å¤§å®¶å¯ä»¥çŒœä¸‹å®ƒè¡¨ç¤ºä»€ä¹ˆã€‚&lt;/p&gt;

&lt;h2 id=&quot;åŸºç¡€å®šä¹‰&quot;&gt;åŸºç¡€å®šä¹‰&lt;/h2&gt;

&lt;p&gt;åå°„ä¿¡æ¯ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt; ç±»å‹è¡¨ç¤ºï¼Œç±»å‹åè®®æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Reflectable&lt;/code&gt;ï¼Œä½†å®é™…çœ‹èµ·æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Reflectable&lt;/code&gt; æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;protocol Reflectable {
  func getMirror() -&amp;gt; Mirror
}
protocol Mirror {
  var value: Any { get }
  var valueType: Any.Type { get }
  var objectIdentifier: ObjectIdentifier? { get }
  var count: Int { get }
  subscript (i: Int) -&amp;gt; (String, Mirror) { get }
  var summary: String { get }
  var quickLookObject: QuickLookObject? { get }
  var disposition: MirrorDisposition { get }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®é™…ä¸Šæ‰€æœ‰ç±»å‹éƒ½å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Reflectable&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt; åè®®ç›¸å…³å­—æ®µï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;value&lt;/code&gt; ç›¸å½“äºå˜é‡çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as Any&lt;/code&gt; æ“ä½œ&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;valueType&lt;/code&gt; è·å¾—å˜é‡ç±»å‹&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;objectIdentifier&lt;/code&gt; ç›¸å½“äºä¸€ä¸ª UInt ä½œç”¨æœªçŸ¥ï¼Œå¯èƒ½æ˜¯ metadata è¡¨ç”¨åˆ°&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt; å­é¡¹ç›®ä¸ªæ•°ï¼ˆå¯ä»¥æ˜¯ç±»ã€ç»“æ„ä½“çš„æˆå‘˜å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—å…¸ï¼Œæ•°ç»„çš„æ•°æ®ï¼‰&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; è®¿é—®å­é¡¹ç›®, å’Œå­é¡¹ç›®çš„åå­—&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;summary&lt;/code&gt; ç›¸å½“äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;description&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quickLookObject&lt;/code&gt; æ˜¯ä¸€ä¸ªæšä¸¾ï¼Œè¿™ä¸ªåœ¨ WWDC æœ‰è®²åˆ°ï¼Œå°±æ˜¯ Playground ä»£ç å³è¾¹æ çš„æ˜¾ç¤ºå†…å®¹ï¼Œæ¯”å¦‚å¸¸è§ç±»å‹ï¼Œé¢œè‰²ï¼Œè§†å›¾éƒ½å¯ä»¥&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;disposition&lt;/code&gt; è¡¨ç¤ºå˜é‡ç±»å‹çš„æ€§è´¨ï¼ŒåŸºç¡€ç±»å‹ or ç»“æ„ or ç±» or æšä¸¾ or ç´¢å¼•å¯¹è±¡ or â€¦ å¦‚ä¸‹&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;enum MirrorDisposition {
  case Struct // ç»“æ„ä½“
  case Class // ç±»
  case Enum // æšä¸¾
  case Tuple // å…ƒç»„
  case Aggregate // åŸºç¡€ç±»å‹
  case IndexContainer // ç´¢å¼•å¯¹è±¡
  case KeyContainer // é”®-å€¼å¯¹è±¡
  case MembershipContainer // æœªçŸ¥
  case Container // æœªçŸ¥
  case Optional // Type?
  var hashValue: Int { get }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡å‡½æ•° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func reflect&amp;lt;T&amp;gt;(x: T) -&amp;gt; Mirror&lt;/code&gt; å¯ä»¥è·å¾—åå°„å¯¹è±¡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt; ã€‚å®ƒå®šä¹‰åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Any&lt;/code&gt; ä¸Šï¼Œæ‰€æœ‰ç±»å‹å‡å¯ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å®é™…æ“ä½œ&quot;&gt;å®é™…æ“ä½œ&lt;/h2&gt;

&lt;h3 id=&quot;valuetype-å¤„ç†&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.valueType&lt;/code&gt; å¤„ç†&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Any.Type&lt;/code&gt; æ˜¯æ‰€æœ‰ç±»å‹çš„å…ƒç±»å‹ï¼Œæ‰€ä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.valueType&lt;/code&gt; å±æ€§è¡¨ç¤ºç±»å‹ã€‚å®é™…ä½¿ç”¨çš„æ—¶å€™è¿˜çœŸæ˜¯æœ‰ç‚¹è¯¡å¼‚ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;let mir = reflect(someVal)
swith mir.valueType {
case _ as String.Type:
    println(&quot;type = string&quot;)
case _ as Range&amp;lt;Int&amp;gt;.Type:
    println(&quot;type = range of int&quot;)
case _ as Dictionary&amp;lt;Int, Int&amp;gt;.Type:
    println(&quot;type = dict of int&quot;)
case _ as Point.Type:
    println(&quot;type = a point struct&quot;)
default:
    println(&quot;unkown type&quot;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æˆ–è€…ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;is&lt;/code&gt; åˆ¤æ–­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;if mir.valueType is String.Type {
    println(&quot;!!!type =&amp;gt; String&quot;)
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å‹˜è¯¯ï¼š è¿™é‡Œä¹‹å‰ç¬”è¯¯äº†ã€‚é—æ¼äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.valueType&lt;/code&gt; ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;is String&lt;/code&gt; åˆ¤æ–­å˜é‡æ˜¯å¦æ˜¯ String ç±»å‹ï¼Œè€Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;is String.Type&lt;/code&gt; è¿™é‡Œç”¨æ¥åˆ¤æ–­ç±»å‹æ˜¯å¦æ˜¯ String ç±»å‹ã€‚&lt;/p&gt;

&lt;h3 id=&quot;subscriptint-å¤„ç†&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; å¤„ç†&lt;/h3&gt;

&lt;p&gt;å®æµ‹å‘ç°ç›´æ¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mir[0]&lt;/code&gt; è®¿é—®å¶å°”ä¼šå‡ºé”™ï¼Œä¹Ÿè®¸æ˜¯ beta çš„åŸå› ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;for r in 0..mir.count {
    let (name, subref) = mir[r]
    prtln(&quot;name: \(name)&quot;)
    // visit sub Mirror here
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é€šè¿‡ä¸Šé¢çš„æ–¹æ³•ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥éå†å¤§éƒ¨åˆ†ç»“æ„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸åŒç±»å‹çš„å¤„ç†&quot;&gt;ä¸åŒç±»å‹çš„å¤„ç†&lt;/h2&gt;

&lt;h3 id=&quot;struct-ç»“æ„ä½“-class-ç±»&quot;&gt;Struct ç»“æ„ä½“ã€ Class ç±»&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸ºå­—æ®µä¸ªæ•°ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; è¿”å› ï¼ˆå­—æ®µåï¼Œå­—æ®µå€¼åå°„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Mirror&lt;/code&gt;ï¼‰ å…ƒç»„&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;summary&lt;/code&gt; ä¸º mangled name&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;tuple-å…ƒç»„&quot;&gt;Tuple å…ƒç»„&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸ºå…ƒç»„å­å…ƒç´ ä¸ªæ•°&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; çš„ name ä¸º â€œ.0â€, â€œ.1â€ â€¦&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;aggregate-åŸºç¡€ç±»å‹&quot;&gt;Aggregate åŸºç¡€ç±»å‹&lt;/h3&gt;

&lt;p&gt;åŒ…æ‹¬æ•°å­—ã€å­—ç¬¦ä¸²ï¼ˆå« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString&lt;/code&gt;ï¼‰ã€å‡½æ•°ã€éƒ¨åˆ† Foundation ç±»å‹ã€ MetaType ã€‚&lt;/p&gt;

&lt;p&gt;å¾ˆå¥‡æ€ªä¸€ç‚¹æ˜¯æµ‹è¯•å‘ç°æšä¸¾ä¹Ÿè¢«åå°„ä¸ºåŸºç¡€ç±»å‹ã€‚æ€€ç–‘æ˜¯æ²¡å®ç°å®Œã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸º 0&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;indexcontainer-ç´¢å¼•å¯¹è±¡&quot;&gt;IndexContainer ç´¢å¼•å¯¹è±¡&lt;/h3&gt;

&lt;p&gt;åŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Array&amp;lt;T&amp;gt;&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T[]&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSArray&lt;/code&gt; ç­‰ã€‚å¯ä»¥é€šè¿‡ subscript è®¿é—®ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸ºå…ƒç»„å­å…ƒç´ ä¸ªæ•°&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; çš„ name ä¸º â€œ[0]â€, â€œ[1]â€ â€¦&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;keycontainer-é”®-å€¼å¯¹è±¡&quot;&gt;KeyContainer é”®-å€¼å¯¹è±¡&lt;/h3&gt;

&lt;p&gt;åŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dictionary&amp;lt;T, U&amp;gt;&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSDictionary&lt;/code&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸ºå…ƒç»„å­å…ƒç´ ä¸ªæ•°&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; çš„ name ä¸º â€œ[0]â€, â€œ[1]â€ â€¦ å®é™…è®¿é—®æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(name, (reflect(key), reflect(val)))&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;optional-type&quot;&gt;Optional Type?&lt;/h3&gt;

&lt;p&gt;åªåŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type?&lt;/code&gt;ï¼Œä¸åŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type!&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.count&lt;/code&gt; ä¸º 0 æˆ–è€… 1 (å¯¹åº” nil å’Œæœ‰å€¼çš„æƒ…å†µ)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;subscript(Int)&lt;/code&gt; , name ä¸º â€œSomeâ€&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;å…¶ä»–&quot;&gt;å…¶ä»–&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Enum æšä¸¾ çœ‹èµ·æ¥æ˜¯æœªä½¿ç”¨&lt;/li&gt;
  &lt;li&gt;MembershipContainer // æœªçŸ¥&lt;/li&gt;
  &lt;li&gt;Container // æœªçŸ¥&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/anonymous/190fc7ecee30e83a5dca&quot;&gt;Gist&lt;/a&gt;&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">Swift å…¶å®æ˜¯æ”¯æŒåå°„çš„ï¼Œä¸è¿‡åŠŸèƒ½ç•¥å¼±ã€‚æœ¬æ–‡ä»‹ç»åŸºæœ¬çš„åå°„ç”¨æ³•å’Œç›¸å…³ç±»å‹ã€‚</summary></entry><entry><title type="html">Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)</title><link href="https://andelf.github.io/blog/2014/06/19/modules-for-swift/" rel="alternate" type="text/html" title="Module System of Swift (ç®€æ Swift çš„æ¨¡å—ç³»ç»Ÿ)" /><published>2014-06-19T15:14:31+08:00</published><updated>2014-06-19T15:14:31+08:00</updated><id>https://andelf.github.io/blog/2014/06/19/modules-for-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/19/modules-for-swift/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina, è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„å‘ç°åŸºäºä¸ªäººç ”ç©¶ã€‚è¯·å°Šé‡åŸåˆ›ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¼•å­&quot;&gt;å¼•å­&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;ä½ ä¹‹æ‰€ä»¥è®¤ä¸º Swift æœ€åƒ Scala, é‚£æ˜¯å› ä¸ºä½ è¿˜æ²¡å­¦è¿‡ Rust. â€”- çŒ«Â·ä»æ³¢åˆ‡&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Swift ä¸­æ¨¡å—æ˜¯ä»€ä¹ˆï¼Ÿå½“å†™ä¸‹ Swift ä¸­ä¸€å¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import Cocoa&lt;/code&gt; çš„æ—¶å€™åˆ°åº•æ•´äº†ä¸ªä»€ä¹ˆç©æ„ï¼Ÿå®˜æ–¹ ibook å¾ˆå«ç³Šåªæ˜¯æäº†åŠé¡µä¸åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡è§£å†³å¦‚ä¸‹é—®é¢˜&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ä»‹ç» Swift ä¸­ä¸¤ç§å¯ import çš„æ¨¡å—&lt;/li&gt;
  &lt;li&gt;å¦‚ä½•ç”¨ Swift å†™ä¸€ä¸ªå¯è¢«å…¶ä»– Swift ä»£ç ä½¿ç”¨çš„æ¨¡å—&lt;/li&gt;
  &lt;li&gt;åˆ†æ Swift çš„æ ‡å‡†åº“å®ç°æ–¹å¼&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ç¬¬ä¸€éƒ¨åˆ†-clang-æ¨¡å—ç³»ç»Ÿæ¨¡å—&quot;&gt;ç¬¬ä¸€éƒ¨åˆ† Clang æ¨¡å—ï¼ˆç³»ç»Ÿæ¨¡å—ï¼‰&lt;/h2&gt;

&lt;p&gt;Clang æ¨¡å—æ˜¯æ¥è‡ªç³»ç»Ÿåº•å±‚çš„æ¨¡å—ï¼Œä¸€èˆ¬æ˜¯ C/ObjC çš„å¤´æ–‡ä»¶ã€‚åŸå§‹ API é€šè¿‡å®ƒä»¬æš´éœ²ç»™ Swift ï¼Œç¼–è¯‘æ—¶éœ€è¦é“¾æ¥åˆ°å¯¹åº”çš„ Libraryã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UIKit&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt; æ¨¡å—ï¼Œä»è¿™äº›æ¨¡å— dump å‡ºçš„å®šä¹‰æ¥çœ‹ï¼Œå‡ ä¹æ˜¯å®Œå…¨è‡ªåŠ¨ç”Ÿæˆçš„ã€‚å½“ç„¶ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt; æ¨¡å—æ›´åƒæ˜¯è‡ªåŠ¨ç”Ÿæˆ + äººå·¥æ‰©å±•ï¼ˆæˆ‘æ˜¯è¯´å…¶ä¸­çš„éšå¼ç±»å‹è½¬æ¢å®šä¹‰ã€å¯¹ Swift å¯¹è±¡çš„æ‰©å±•ç­‰ï¼Œä»¥åŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@availability&lt;/code&gt; ç¦ç”¨æ‰éƒ¨åˆ†å‡½æ•°ã€‚ï¼‰ã€‚ç›¸å…³å‡½æ•°å£°æ˜å¯ä»¥ä» &lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt; è·å¾—ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å¯ä¸è§‰å¾—è¿™äº›å®šä¹‰å…¨éƒ¨éƒ½æ˜¯å®˜æ–¹ç”Ÿæˆåç»™å°è£…è¿›å»çš„ã€‚æ‰€ä»¥åœ¨æ•´ä¸ª Xcode-6 beta2 ç›®å½•æ ‘é‡Œè¿›è¡Œäº†æ¢ç´¢ã€‚&lt;/p&gt;

&lt;p&gt;åœ¨ Xcode ç›®å½•å¯»æ‰¾ç›¸å…³ä¿¡æ¯ï¼Œæœ€åç›®æ ‡é”å®šåˆ°äº†ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶å &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;åŸæ¥è¿™ä¸ªæ–‡ä»¶å« Module map(è¿™ä¸ªåå­—è¿˜çœŸæ˜¯ç¼ºä¹æƒ³è±¡åŠ›)ï¼Œå±äº llvm çš„ Module ç³»ç»Ÿã€‚æœ¬æ¥æ˜¯ç”¨æ¥é¢ è¦†ä¼ ç»Ÿçš„ C/C++/Objc ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#include&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#import&lt;/code&gt;ã€‚æœ€æ—©åœ¨ 2012 å¹´ 11 æœˆçš„ LLVM DevMeeting ä¸­ç”± Apple çš„ Doug Gregor æå‡º &lt;sup id=&quot;fnref:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:1&quot; class=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;ã€‚ç›¸å…³å†…å®¹ CSDN ä¹Ÿæœ‰æ–‡ç« ä»‹ç»ï¼Œä¸è¿‡æ˜¯ç›´è¯‘ç‰ˆï¼Œæ²¡æœ‰æå‡ºè‡ªå·±è§è§£ &lt;sup id=&quot;fnref:2&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:2&quot; class=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å…³äº-llvm-module-ç³»ç»Ÿ&quot;&gt;å…³äº llvm Module ç³»ç»Ÿ&lt;/h3&gt;

&lt;p&gt;2012 å¹´æå‡ºæ¦‚å¿µï¼Œæ‰€ä»¥å…¶å®è¿™ä¸ªä¸œè¥¿å·²ç»å¾ˆæ—©å°±å®ç°äº† ã€‚ç®€å•è¯´å°±æ˜¯ç”¨æ ‘å½¢çš„ç»“æ„åŒ–æè¿°æ¥å–ä»£ä»¥å¾€çš„å¹³å¦å¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#include&lt;/code&gt;ï¼Œ ä¾‹å¦‚ä¼ ç»Ÿçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#include &amp;lt;stdio.h&amp;gt;&lt;/code&gt; ç°åœ¨å˜æˆäº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import std.io;&lt;/code&gt;ï¼Œ é€¼æ ¼æ›´é«˜ã€‚ä¸»è¦å¥½å¤„æœ‰ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;è¯­ä¹‰ä¸Šå®Œæ•´æè¿°äº†ä¸€ä¸ªæ¡†æ¶çš„ä½œç”¨&lt;/li&gt;
  &lt;li&gt;æé«˜ç¼–è¯‘æ—¶å¯æ‰©å±•æ€§ï¼Œåªç¼–è¯‘æˆ– include ä¸€æ¬¡ã€‚é¿å…å¤´æ–‡ä»¶å¤šæ¬¡å¼•ç”¨ï¼Œåªè§£æä¸€æ¬¡å¤´æ–‡ä»¶ç”šè‡³ä¸éœ€è¦è§£æï¼ˆç±»ä¼¼é¢„ç¼–è¯‘å¤´æ–‡ä»¶ï¼‰&lt;/li&gt;
  &lt;li&gt;å‡å°‘ç¢ç‰‡åŒ–ï¼Œæ¯ä¸ª module åªå¤„ç†ä¸€æ¬¡ï¼Œç¯å¢ƒçš„å˜åŒ–ä¸ä¼šå¯¼è‡´ä¸ä¸€è‡´&lt;/li&gt;
  &lt;li&gt;å¯¹å·¥å…·å‹å¥½ï¼Œå·¥å…·ï¼ˆè¯­è¨€ç¼–è¯‘å™¨ï¼‰å¯ä»¥è·å–æ›´å¤šå…³äº module çš„ä¿¡æ¯ï¼Œæ¯”å¦‚é“¾æ¥åº“ï¼Œæ¯”å¦‚è¯­è¨€æ˜¯ C++ è¿˜æ˜¯ C&lt;/li&gt;
  &lt;li&gt;ç­‰ç­‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€ä»¥è¿™ä¹ˆå¥½çš„ä¸€ä¸ªä¸œè¥¿ï¼Œ Apple ä½œä¸º llvm çš„ä¸»åŠ›ï¼Œåœ¨å®ƒçš„ä¸‹ä¸€ä»£è¯­è¨€ä¸­é‡‡ç”¨å‡ ä¹æ˜¯ä¸€å®šçš„ã€‚&lt;/p&gt;

&lt;p&gt;ç®—äº†ï¼Œæˆ‘æ˜¯ä¸ªåŠè·¯å‡ºå®¶çš„ï¼Œä¹‹å‰æ²¡æ¥è§¦è¿‡ iOS / MacOSX å¼€å‘ï¼Œå…¶å® 2013 å¹´çš„ WWDCï¼Œ Apple ä¸º Objective-C åŠ å…¥çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@import&lt;/code&gt; è¯­æ³•å°±æ˜¯å®ƒã€‚å¯ä»¥è®¤ä¸ºï¼Œè¿™æ˜¯ç¬¬ä¸€æ¬¡è¿™ä¸ª Module ç³»ç»Ÿå¾—åˆ°åº”ç”¨ã€‚&lt;/p&gt;

&lt;h4 id=&quot;modulemap-æ–‡ä»¶&quot;&gt;module.map æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ–‡ä»¶å°±æ˜¯å¯¹ä¸€ä¸ªæ¡†æ¶ï¼Œä¸€ä¸ªåº“çš„æ‰€æœ‰å¤´æ–‡ä»¶çš„ç»“æ„åŒ–æè¿°ã€‚é€šè¿‡è¿™ä¸ªæè¿°ï¼Œæ¡¥æ¥äº†æ–°è¯­è¨€ç‰¹æ€§å’Œè€çš„å¤´æ–‡ä»¶ã€‚é»˜è®¤æ–‡ä»¶åæ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.modulemap&lt;/code&gt;ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; å…¶å®æ˜¯ä¸ºäº†å…¼å®¹è€æ ‡å‡†ï¼Œä¸è¿‡ç°åœ¨ Xcode é‡Œçš„è¿˜éƒ½æ˜¯è¿™ä¸ªæ–‡ä»¶åï¼Œç›¸ä¿¡ä»¥åä¼šæ”¹æˆæ–°åå­—ã€‚&lt;/p&gt;

&lt;p&gt;æ–‡ä»¶çš„å†…å®¹ä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Module Map Language&lt;/code&gt; æè¿°ï¼Œå¤§æ¦‚è¯­æ³•æˆ‘ä» llvm å®˜æ–¹æ–‡æ¡£ &lt;sup id=&quot;fnref:3&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; æ‘˜å½•ä¸€æ®µï¼Œå¤§å®¶ä½“ä¼šä¸€ä¸‹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module MyLib {
  explicit module A {
    header &quot;A.h&quot;
    export *
  }

  explicit module B {
    header &quot;B.h&quot;
    export *
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ç±»ä¼¼ä¸Šé¢çš„è¯­æ³•ï¼Œæè¿°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MyLib&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MyLib.A&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MyLib.B&lt;/code&gt; è¿™æ ·çš„æ¨¡å—ç»“æ„ã€‚&lt;/p&gt;

&lt;p&gt;å®˜æ–¹æ–‡æ¡£ &lt;sup id=&quot;fnref:3:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:3&quot; class=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; ä¸­æœ‰æ›´å¤šç›¸å…³å†…å®¹ï¼Œå¯ä»¥æè¿°æ¡†æ¶ï¼Œæè¿°ç³»ç»Ÿå¤´æ–‡ä»¶ï¼Œæ§åˆ¶å¯¼å‡ºçš„èŒƒå›´ï¼Œæè¿°ä¾èµ–å…³ç³»ï¼Œé“¾æ¥å‚æ•°ç­‰ç­‰ã€‚è¿™é‡Œä¸å¤šå™è¿°ï¼Œä¸¾ä¸ª libcurl çš„ä¾‹å­ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;module curl [system] [extern_c] {
    header &quot;/usr/include/curl/curl.h&quot;
    link &quot;curl&quot;
    export *
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å°†æ­¤ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ–‡ä»¶æ”¾å…¥ä»»æ„æ–‡ä»¶å¤¹ï¼Œé€šè¿‡ Xcode é€‰é¡¹æˆ–è€…å‘½ä»¤è¡Œå‚æ•°ï¼Œæ·»åŠ è·¯å¾„åˆ° import search path ï¼ˆswift çš„ -I å‚æ•°ï¼‰ã€‚
ç„¶åå°±å¯ä»¥åœ¨ Swift ä»£ç é‡Œç›´æ¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import curl&lt;/code&gt; å¯¼å…¥æ‰€æœ‰çš„æ¥å£å‡½æ•°ã€ç»“æ„ä½“ã€å¸¸é‡ç­‰ï¼Œ(å®æµ‹ï¼Œå‘ç° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl_easy_setopt&lt;/code&gt;
æ— æ³•è‡ªåŠ¨å¯¼å…¥ï¼Œçœ‹èµ·æ¥æ˜¯å£°æ˜è¯­æ³•å¤ªå¤æ‚å¯¼è‡´ï¼‰ã€‚ç”šè‡³å¯ä»¥ç›´æ¥ä» swift repl è°ƒç”¨ï¼Œä½“éªŒè„šæœ¬è¯­è¨€è§£é‡Šå™¨èˆ¬çš„å¿«æ„Ÿï¼ˆå› ä¸ºæˆ‘ä»¬å·²ç»æŒ‡å®šäº†é“¾æ¥åˆ° curl åº“ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Xcode é€‰é¡¹ä½äº Build Settings ä¸‹é¢çš„ Swift Compiler - Search Paths ã€‚æ·»åŠ è·¯åŠ²å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;å†ä¸¾ä¸ªå¤æ‚ç‚¹çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SDL2.framework&lt;/code&gt; çš„ä¾‹å­ï¼Œçœ‹çœ‹å¦‚ä½•å®ç°æ ‘å½¢çš„æ¨¡å—ç»“æ„ï¼Œè¿™ä¸ªéœ€è¦æŠŠ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; æ”¾åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.framework&lt;/code&gt; ç›®å½•é‡Œ&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;framework module SDL2 [system] {
  umbrella header &quot;SDL.h&quot;
  link -framework SDL2

  module Version {
    header &quot;SDL_version.h&quot;
    export *
  }

  module Event {
    header &quot;SDL_events.h&quot;
    export *
  }
  // ....
  export *
  module * {
    export *
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;å°ç»“&quot;&gt;å°ç»“&lt;/h3&gt;

&lt;p&gt;Swift çš„ C æ¨¡å—ï¼ˆä¹Ÿæ˜¯å®ƒçš„æ ‡å‡†åº“éƒ¨åˆ†ï¼‰å®Œå…¨å°±æ˜¯ llvm çš„ Module ç³»ç»Ÿï¼Œåœ¨ import search path çš„æ‰€æœ‰ module.map ä¸­çš„æ¨¡å—éƒ½å¯ä»¥è¢«è¯†åˆ«ï¼Œå”¯ä¸€ç¼ºç‚¹å¯èƒ½æ˜¯å¦‚æœæœ‰è¿‡äºå¤æ‚ç”¨åˆ°å¤ªå¤šé«˜çº§ C æˆ–è€…é»‘æš— C è¯­æ³•çš„å‡½æ•°ï¼Œæ— æ³•å¾ˆå¥½è¯†åˆ«ï¼Œç›¸ä¿¡ä»¥åçš„ç‰ˆæœ¬ä¼šæœ‰æ‰€æ”¹å–„ã€‚&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥å½“æœ‰äººé—® Swift åˆ°åº•æœ‰å¤šå°‘æ ‡å‡†åº“çš„æ—¶å€™ï¼Œç­”æ¡ˆå°±æ˜¯ï¼ŒåŸºæœ¬ä¸Šç³»ç»Ÿé‡Œæ‰€æœ‰çš„ Objective-C å’Œ C å¤´æ–‡ä»¶éƒ½å¯ä»¥è°ƒç”¨ã€‚è‡ª iOS 7 æ—¶ä»£ï¼Œè¿™äº›å¤´æ–‡ä»¶å°±å·²ç»è¢«ç»„ç»‡ä¸º Module äº†ï¼ŒåŒ…æ‹¬æ ‡å‡† C åº“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Darwin.C&lt;/code&gt;ã€‚åŒæ ·å› ä¸º Module ç³»ç»Ÿæ¥è‡ªäºä¼ ç»Ÿçš„ C/C++/Objc å¤´æ–‡ä»¶ï¼Œæ‰€ä»¥ Swift è™½ç„¶å¯ä»¥æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import ModA.ModB.ModC&lt;/code&gt; çš„è¯­å¥ï¼Œä½†æ˜¯æ•´ä¸ªæ¨¡å—å‡½æ•°åå­—ç©ºé—´è¿˜æ˜¯å¹³å¦çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€äº›æœ‰æ„æ€çš„æ¨¡å—å¯ä»¥æ¢ç´¢æ¢ç´¢ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt;ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Python&lt;/code&gt;ï¼ˆæ²¡é”™æ˜¯çš„ï¼Œç›´æ¥è°ƒç”¨ Python è§£é‡Šå™¨ï¼‰ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;å¦å¤– Swift çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-cache-path&lt;/code&gt; å‚æ•°å¯ä»¥æ§åˆ¶è¿™ç±»æ¨¡å—é¢„ç¼–è¯‘å¤´çš„å­˜æ”¾ä½ç½®ï¼ˆ .pcm æ–‡ä»¶ï¼š pre compiled moduleï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Xcode é¡¹ç›®çš„ Build Settings ï¼Œ Apple LLVM 6.0 - Language - Modules æœ‰é¡¹ç›®å¯¹ Module æ”¯æŒçš„ç›¸å…³é€‰é¡¹ï¼Œé»˜è®¤æ˜¯æ‰“å¼€çš„ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¬¬äºŒéƒ¨åˆ†-swift-æ¨¡å—&quot;&gt;ç¬¬äºŒéƒ¨åˆ† Swift æ¨¡å—&lt;/h2&gt;

&lt;p&gt;è¯´å®Œäº†ç³»ç»Ÿæ¨¡å—ï¼Œè¯¥è¯´ Swift æ¨¡å—äº†ã€‚ Swift è‡ªèº«çš„è¿™ä¸ªç³»ç»Ÿè¿˜æ˜¯å¾ˆèµçš„ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬èŠ‚ä»‹ç»æ€æ ·ç”¨ Swift åˆ›å»ºä¸€ä¸ªå¯ import çš„æ¨¡å—ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å‡ ä¸ªæ–‡ä»¶ç±»å‹&quot;&gt;å‡ ä¸ªæ–‡ä»¶ç±»å‹&lt;/h3&gt;

&lt;p&gt;å…ˆæ¸…æ¥šå‡ ä¸ªæ–‡ä»¶ç±»å‹ã€‚å‡è®¾ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swift&lt;/code&gt; æ˜¯æˆ‘ä»¬çš„ Swift æºç æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftmodule&lt;/code&gt; Swift çš„æ¨¡å—æ–‡ä»¶ï¼Œæœ‰äº†å®ƒï¼Œæ‰èƒ½ import&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftdoc&lt;/code&gt; ä¿å­˜äº†ä»æºç è·å¾—çš„æ–‡æ¡£æ³¨é‡Š
    &lt;ul&gt;
      &lt;li&gt;æ–‡æ¡£æ³¨é‡Šä»¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;///&lt;/code&gt; å¼€å¤´&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libswiftModName.dylib&lt;/code&gt; åŠ¨æ€é“¾æ¥åº“&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libswiftModName.a&lt;/code&gt;  é™æ€é“¾æ¥åº“&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;TODO: ç›®å‰æœ‰ä¸ªç–‘é—®å°±æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; å’Œé“¾æ¥åº“åˆ°åº•ä»€ä¹ˆæ—¶å€™ç”¨å“ªä¸ªï¼Œä»¥åŠå…·ä½“ä½œç”¨ã€‚&lt;/p&gt;

&lt;h4 id=&quot;swift-æºç æ–‡ä»¶&quot;&gt;.swift æºç æ–‡ä»¶&lt;/h4&gt;

&lt;p&gt;å…ˆæ˜ç¡®ä¸€ä¸ªæ¦‚å¿µï¼Œä¸€ä¸ª .swift æ–‡ä»¶æ‰§è¡Œæ˜¯ä»å®ƒçš„ç¬¬ä¸€æ¡éå£°æ˜è¯­å¥ï¼ˆè¡¨è¾¾å¼ã€æ§åˆ¶ç»“æ„ï¼‰å¼€å§‹çš„ï¼ŒåŒæ—¶åŒ…æ‹¬å£°æ˜ä¸­çš„èµ‹å€¼éƒ¨åˆ†ï¼ˆå¯¹åº”ä¸º mov æŒ‡ä»¤æˆ–è€… lea æŒ‡ä»¤ï¼‰ï¼Œæ‰€æœ‰è¿™äº›è¯­å¥ï¼Œæ„æˆäº†è¯¥ .swift æ–‡ä»¶çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code()&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;è€Œæ‰€æœ‰çš„å£°æ˜ï¼ŒåŒ…æ‹¬ç»“æ„ä½“ã€ç±»ã€æšä¸¾åŠå…¶æ–¹æ³•ï¼Œéƒ½ä¸å±äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code()&lt;/code&gt; ä»£ç éƒ¨åˆ†ï¼Œå…¶ä¸­çš„ä»£ç é€»è¾‘ï¼ŒåŒ…å«åœ¨å…¶ä»–åŒºåŸŸï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code()&lt;/code&gt; å¯ä»¥ç›´æ¥è°ƒç”¨ä»–ä»¬ã€‚&lt;/p&gt;

&lt;p&gt;ç¨‹åºçš„å…¥å£æ˜¯éšå«çš„ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main(argc, argv)&lt;/code&gt; å‡½æ•°ï¼Œè¯¥å‡½æ•°æ‰§è¡Œé€»è¾‘æ˜¯è®¾ç½®å…¨å±€å˜é‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C_ARGC&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C_ARGV&lt;/code&gt;ï¼Œç„¶åè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code()&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸æ˜¯æ‰€æœ‰çš„ .swift æ–‡ä»¶éƒ½å¯ä»¥ä½œä¸ºæ¨¡å—ï¼Œç›®å‰çœ‹ï¼Œä»»ä½•åŒ…å«è¡¨è¾¾å¼è¯­å¥å’Œæ§åˆ¶æ§åˆ¶çš„ .swift æ–‡ä»¶éƒ½ä¸å¯ä»¥ä½œä¸ºæ¨¡å—ã€‚æ­£å¸¸æƒ…å†µä¸‹æ¨¡å—å¯ä»¥åŒ…å«å…¨å±€å˜é‡(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var&lt;/code&gt;)ã€å…¨å±€å¸¸é‡(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let&lt;/code&gt;)ã€ç»“æ„ä½“(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;struct&lt;/code&gt;)ã€ç±»(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;class&lt;/code&gt;)ã€æšä¸¾(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enum&lt;/code&gt;)ã€åè®®(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;protocol&lt;/code&gt;)ã€æ‰©å±•(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extension&lt;/code&gt;)ã€å‡½æ•°(func)ã€ä»¥åŠå…¨å±€å±æ€§(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var { get set }&lt;/code&gt;)ã€‚è¿™é‡Œçš„å…¨å±€ï¼ŒæŒ‡çš„æ˜¯å®šä¹‰åœ¨ top level ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œè¯´çš„è¡¨è¾¾å¼æŒ‡ expression ï¼Œè¯­å¥æŒ‡ statement ï¼Œå£°æ˜æŒ‡ declaration ã€‚å¯èƒ½å’Œæœ‰äº›äººå¯¹ç›¸å…³æ¦‚å¿µçš„å®šä¹‰ä¸åŒã€‚å®é™…ä¸Šæˆ‘ç‰¹æ— å¥ˆæœ‰äº›äººçº ç»“äºæ¦‚å¿µé—®é¢˜ï¼Œè€Œä¸æ˜¯é—®é¢˜æœ¬èº«ï¼Œæœ¬æ¥ç¿»è¯‘è¿‡æ¥çš„èˆ¶æ¥å“å°±æœ‰å¯èƒ½æœ‰è¯¯å·®ï¼Œå½“ä½ æ˜ç™½é‚£æŒ‡çš„æ˜¯ä»€ä¹ˆçš„æ—¶å€™ï¼Œå°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;æ¨¡å—ç¼–è¯‘æ–¹æ³•&quot;&gt;æ¨¡å—ç¼–è¯‘æ–¹æ³•&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œå…ˆä»¥å‘½ä»¤è¡Œæ“ä½œä¸ºä¾‹ï¼Œ&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun swift -sdk $(xcrun --show-sdk-path --sdk macosx) ModName.swift -emit-library -emit-module -module-name ModName -v -o libswiftModName.dylib -module-link-name swiftModName
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ‰§è¡Œåè·å¾— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftdoc&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ModName.swiftmodule&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libswiftModName.dylib&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;è¿™ä¸‰ä¸ªæ–‡ä»¶å°±å¯ä»¥è¡¨ç¤ºä¸€ä¸ªå¯ import çš„ Swift æ¨¡å—ã€‚ç›®å‰çœ‹èµ·æ¥ dylib æ˜¯å¿…é¡»å¾—æœ‰çš„ï¼Œå¦åˆ™é“¾æ¥è¿‡ç¨‹æŠ¥é”™ã€‚å®é™…æ„Ÿè§‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ–‡ä»¶æ‰€åŒ…å«çš„ä¿¡æ¯è¿˜éœ€è¦ç»§ç»­æŒ–æ˜æŒ–æ˜ã€‚&lt;/p&gt;

&lt;p&gt;å¤šä¸ªæºç æ–‡ä»¶ç›´æ¥ä¾æ¬¡ä¼ é€’æ‰€æœ‰æ–‡ä»¶åå³å¯ã€‚&lt;/p&gt;

&lt;p&gt;é™æ€é“¾æ¥åº“ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.a&lt;/code&gt; ç›®å‰è¿˜æ²¡æœ‰æ‰¾åˆ°æ–¹æ³•ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Xlinker -static&lt;/code&gt; ä¼šæŠ¥é”™ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å‘½ä»¤è¡Œå‚æ•°è§£é‡Š&quot;&gt;å‘½ä»¤è¡Œå‚æ•°è§£é‡Š&lt;/h4&gt;

&lt;p&gt;ç›¸å…³å‘½ä»¤è¡Œå‚æ•°ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-name &amp;lt;value&amp;gt;&lt;/code&gt;       Name of the module to build æ¨¡å—å&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-emit-library&lt;/code&gt;              ç¼–è¯‘ä¸ºé“¾æ¥åº“æ–‡ä»¶&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-emit-module-path &amp;lt;path&amp;gt;&lt;/code&gt;   Emit an importable module to &lt;path&gt; ç¼–è¯‘æ¨¡å—åˆ°è·¯å¾„ï¼ˆå…¨è·¯å¾„ï¼ŒåŒ…å«æ–‡ä»¶åï¼‰&lt;/path&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-emit-module&lt;/code&gt;               Emit an importable module&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-link-name &amp;lt;value&amp;gt;&lt;/code&gt;  Library to link against when using this module è¯¥æ¨¡å—çš„é“¾æ¥åº“åï¼Œå°±æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libswiftModName.dylib&lt;/code&gt;ï¼Œè¿™ä¸ªä¿¡æ¯ä¼šç›´æ¥å†™å…¥åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;ä½¿ç”¨æ¨¡å—&quot;&gt;ä½¿ç”¨æ¨¡å—&lt;/h3&gt;

&lt;p&gt;ä½¿ç”¨æ¨¡å—å°±å¾ˆç®€å•äº†ï¼Œè®°ä½ä¸¤ä¸ªå‚æ•°ï¼š&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-I&lt;/code&gt; è¡¨ç¤º import search path ï¼Œå‰é¢ä»‹ç»è¿‡ï¼Œä¿è¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ–‡ä»¶å¯ä»¥åœ¨ import search path æ‰¾åˆ°ï¼ˆè¿™ç‚¹å¾ˆç±»ä¼¼ module.map æ–‡ä»¶ï¼Œæ‰¾å¾—åˆ°è¿™ä¸ªå°±å¯ä»¥ import å¯ä»¥ç¼–è¯‘ï¼‰&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-L&lt;/code&gt; è¡¨ç¤º é“¾æ¥åº“æœç´¢è·¯å¾„ï¼Œä¿è¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.dylib&lt;/code&gt; æ–‡ä»¶å¯ä»¥åœ¨å…¶ä¸­æ‰¾åˆ°ï¼Œå¦‚æœå·²ç»åœ¨ç³»ç»Ÿé“¾æ¥åº“ç›®å½•ä¸­ï¼Œå°±ä¸éœ€è¦è¿™ä¸ªå‚æ•°ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;xcrun swift -sdk $(xcrun --show-sdk-path --sdk macosx) mymodtest.swift -I. -L.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ­¤æ—¶è¡¨ç¤ºæ‰€æœ‰ module æ–‡ä»¶éƒ½åœ¨å½“å‰ç›®å½•ã€‚&lt;/p&gt;

&lt;p&gt;è¿™ä¸¤ä¸ªé€‰é¡¹éƒ½å¯ä»¥åœ¨ Xcode ä¸­æŒ‡å®šï¼Œæ‰€ä»¥å¦‚æœä½ æœ‰å°ä¼™ä¼´ç¼–è¯‘å¥½çš„ module æƒ³åœ¨ä½ çš„é¡¹ç›®é‡Œç”¨æ˜¯å®Œå…¨ ok çš„ã€‚&lt;/p&gt;

&lt;h3 id=&quot;for-xcode&quot;&gt;For Xcode&lt;/h3&gt;

&lt;p&gt;å¾ˆä¸å¹¸ï¼Œæ²¡èƒ½åœ¨ Xcode ä¸­æ‰¾åˆ°ç¼–è¯‘æ¨¡å—çš„ç›¸å…³æ–¹æ³•ã€‚ç­‰æˆ‘å‘ç°å¦‚ä½•æå®šçš„æ—¶å€™æˆ‘ä¼šè¡¥ä¸Šè¿™ä¸ªå‘ã€‚&lt;/p&gt;

&lt;p&gt;ä¸è¿‡åœ¨ä»»ä½•å« Swift é¡¹ç›®çš„ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.swiftmodule&lt;/code&gt; æ–‡ä»¶æ€»æ˜¯ä¼´éšç€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.o&lt;/code&gt; æ–‡ä»¶ä¼ é€’ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¬¬ä¸‰éƒ¨åˆ†-çåˆ†æ-swiftmodule-æ–‡ä»¶&quot;&gt;ç¬¬ä¸‰éƒ¨åˆ† çåˆ†æ .swiftmodule æ–‡ä»¶&lt;/h2&gt;

&lt;p&gt;ç®€å•åˆ†æä¸‹ä¸€ä¸ª .swiftmodule æ‰€åŒ…å«çš„ä¿¡æ¯ã€‚&lt;/p&gt;

&lt;h3 id=&quot;foundation&quot;&gt;Foundation&lt;/h3&gt;

&lt;p&gt;è¿™é‡Œå…ˆä»¥æ ‡å‡†åº“çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation.swiftmodule&lt;/code&gt; ä¸‹æ‰‹ã€‚&lt;/p&gt;

&lt;p&gt;ç”¨ hexdump æŸ¥çœ‹å‘ç°å®ƒåŒ…å«æ‰€æœ‰å¯¼å‡ºç¬¦å·ï¼Œä»¥åŠ mangled name ã€‚è¿˜æœ‰ä¸ªæ–‡ä»¶åˆ—è¡¨ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä»å“ªäº›æ–‡ä»¶è·å¾—çš„ï¼ˆå¯ä»¥æ˜¯ .swift ä¹Ÿå¯ä»¥æ˜¯ .swiftmodule ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç”¨ strings åˆ—å‡ºå†…å®¹ï¼Œå‘ç° Foundation åº“æœ‰å¦‚ä¸‹ç‰¹å¾:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;...
Foundation
LLVM 3.5svn
/SourceCache/compiler_KLONDIKE/compiler_KLONDIKE-600.0.34.4.8/src/tools/swift/stdlib/objc/Foundation/Foundation.swift
/SourceCache/compiler_KLONDIKE/compiler_KLONDIKE-600.0.34.4.8/src/tools/swift/stdlib/objc/Foundation/KVO.swift
/SourceCache/compiler_KLONDIKE/compiler_KLONDIKE-600.0.34.4.8/src/tools/swift/stdlib/objc/Foundation/NSStringAPI.swift
CoreFoundation
Foundation
Swift
swiftFoundation
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥å¤§èƒ†çŒœæµ‹å¯¹åº”ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-name&lt;/code&gt; =&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;ç¼–è¯‘ç¯å¢ƒ =&amp;gt; LLVM 3.5svn&lt;/li&gt;
  &lt;li&gt;æºæ–‡ä»¶åˆ—è¡¨ =&amp;gt; â€¦&lt;/li&gt;
  &lt;li&gt;ä¾èµ–åˆ—è¡¨ =&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CoreFoundation&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Swift&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-link-name&lt;/code&gt; =&amp;gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swiftFoundation&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ç”±æ­¤çŒœæµ‹ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt; çš„ç¡®æ˜¯åªæœ‰å°‘é‡ Swift ä»£ç åšæ¡¥æ¥ã€‚ç„¶åé€šè¿‡ Clang æ¨¡å—å°†å‰©ä¸‹å·¥ä½œäº¤åˆ°åº•å±‚ã€‚&lt;/p&gt;

&lt;p&gt;åˆ†æå…¶ä»–ç±»ä¼¼æ¨¡å—ä¹Ÿå¾—åˆ°ç›¸åŒç»“æœã€‚&lt;/p&gt;

&lt;h3 id=&quot;swift-æ ‡å‡†åº“&quot;&gt;Swift æ ‡å‡†åº“&lt;/h3&gt;

&lt;p&gt;æ¥ä¸‹æ¥æœ‰ç‚¹å¥½å¥‡æ ‡å‡†åº“ Swift æ˜¯æ€ä¹ˆå®ç°çš„ã€‚å¾—åˆ°å¦‚ä¸‹ç»“æœã€‚&lt;/p&gt;

&lt;p&gt;èŠ‚é€‰é‡è¦éƒ¨åˆ†åˆ° &lt;a href=&quot;https://gist.github.com/andelf/8f28ead66cdc3637f978&quot;&gt;æˆ‘çš„ Gist&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é‡Œé¢æœ‰äº›å¾ˆæœ‰æ„æ€çš„ä¿¡æ¯ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å»çœ‹çœ‹ã€‚&lt;/p&gt;

&lt;p&gt;ä¾èµ–æ¨¡å— SwiftShims æ˜¯ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;module.map&lt;/code&gt; å®šä¹‰çš„æ¨¡å—ï¼Œæ¡¥æ¥çš„éƒ¨åˆ†å¤´æ–‡ä»¶ã€‚æºæ–‡ä»¶æœ‰ç›¸å…³ä¿¡æ¯å’Œæ³¨é‡Šã€‚å¤§è‡´æ„æ€æ˜¯ç”¨æ¥å®ç°å‡ ä¸ªåº•å±‚æ¥å£å¯¹è±¡ï¼Œæ¯”å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSRange&lt;/code&gt; é‚“ã€‚&lt;/p&gt;

&lt;p&gt;å…¶ä¸­&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-module-link-name&lt;/code&gt; æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;swift_stdlib_core&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç»“è®º&quot;&gt;ç»“è®º&lt;/h2&gt;

&lt;p&gt;LLVM Module ä½œä¸º Apple æå‡ºçš„ç‰¹æ€§ï¼Œå·²ç»è¢« Swift å®Œå…¨é‡‡ç”¨ï¼Œç›´æ¥åœ¨å®ƒåŸºç¡€ä¸Šå»ºç«‹äº†è‡ªå·±çš„æ¨¡å—ç³»ç»Ÿã€‚æˆ‘ç›¸ä¿¡å®ƒä¼šå½±å“åˆ°æˆ‘ä»¬å¤„ç†ç¬¬ä¸‰æ–¹åº“çš„æ–¹å¼æ–¹æ³•ã€‚ç›¸ä¿¡ä¸ä¹…å°±ä¼šæœ‰ç›¸å…³å·¥å…·åŸºäºå®ƒæ¥ç®¡ç†ä¾èµ–å…³ç³»ï¼Œæ¯”å¦‚è€çš„ cocoapods&lt;sup id=&quot;fnref:4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:4&quot; class=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; å¯ä»¥åŠ å…¥æ–°ç‰¹æ€§ã€‚&lt;/p&gt;

&lt;p&gt;ç”¨ Swift å†™æ¨¡å—ç›®å‰å¹¶æ²¡æœ‰å¾ˆå¥½çš„ IDE æ”¯æŒï¼Œæ‰€ä»¥ä¸æ˜¯å¾ˆæ–¹ä¾¿ã€‚åŸºäºçŒœæµ‹éªŒè¯ï¼Œä¸Šé¢çš„æ–¹æ³•å¯ä»¥å®ç°åœ¨ Swift é‡Œ import Swift æ¨¡å—ï¼Œæ–¹æ³•å’Œç»“æœçœ‹èµ·æ¥å®Œå…¨å’Œå®˜æ–¹æ¨¡å—ç›¸åŒã€‚&lt;/p&gt;

&lt;p&gt;Swift çš„æ ‡å‡†åº“å®Œå…¨æ˜¯ä¸Šé¢ä¸¤ç§æ¨¡å—çš„ç»“åˆä½“ï¼Œç”¨ Swift æ¨¡å—å°è£… Clang æ¨¡å—ã€‚è¿™å°±è§£å†³äº†æ–‡ç« ä¸€å¼€å§‹æå‡ºçš„é—®é¢˜ï¼šä¸ºä»€ä¹ˆæ ‡å‡†åº“å¤§éƒ¨åˆ†çœ‹èµ·æ¥æ˜¯è‡ªåŠ¨ç”Ÿæˆä»£ç ï¼Œå°‘éƒ¨åˆ†åˆå¥½åƒæ˜¯äººå·¥å†™çš„æ¥å£ä»£ç ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol&gt;
    &lt;li id=&quot;fn:1&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Modules - Doug Gregor, Apple, 2012 LLVM DevMeeting &lt;a href=&quot;http://llvm.org/devmtg/2012-11/Gregor-Modules.pdf&quot;&gt;PDF&lt;/a&gt; &lt;a href=&quot;http://llvm.org/devmtg/2012-11/videos/Gregor-Modules.mp4&quot;&gt;Video&lt;/a&gt;Â &lt;a href=&quot;#fnref:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:2&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://www.csdn.net/article/2012-11-28/2812274-module-replace-C-based-languages-headers&quot;&gt;ä¸ºä»€ä¹ˆåº”è¯¥ç”¨æ¨¡å—å–ä»£C/C++ä¸­çš„å¤´æ–‡ä»¶ï¼Ÿ&lt;/a&gt;Â &lt;a href=&quot;#fnref:2&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:3&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://clang.llvm.org/docs/Modules.html&quot;&gt;Modules - Clang 3.5 documentation&lt;/a&gt;Â &lt;a href=&quot;#fnref:3&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;Â &lt;a href=&quot;#fnref:3:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://cocoapods.org/&quot;&gt;CocoaPods&lt;/a&gt;Â &lt;a href=&quot;#fnref:4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina, è¯·åœ¨æ–¹ä¾¿çš„æƒ…å†µä¸‹æƒ…å°½é‡å‘ŠçŸ¥. weibo</summary></entry><entry><title type="html">Swift and C Interop Cont. (ç®€æ Swift å’Œ C çš„äº¤äº’ï¼ŒPart äºŒ)</title><link href="https://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont/" rel="alternate" type="text/html" title="Swift and C Interop Cont. (ç®€æ Swift å’Œ C çš„äº¤äº’ï¼ŒPart äºŒ)" /><published>2014-06-18T23:38:01+08:00</published><updated>2014-06-18T23:38:01+08:00</updated><id>https://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/18/swift-and-c-interop-cont/">&lt;p&gt;å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina . &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡çš„å‘ç°åŸºäºä¸ªäººç ”ç©¶ï¼Œç›®æµ‹æ˜¯å®˜æ–¹å¤–çš„é¦–åˆ›ã€‚è¯·å°Šé‡åŸåˆ›ã€‚&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡æ˜¯è®²è¿° Swift ä¸ C äº¤äº’æ“ä½œç³»åˆ—æ–‡ç« çš„ç¬¬äºŒéƒ¨åˆ†ã€‚è§£å†³ä¹‹å‰çš„æ‰€æœ‰é—ç•™é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;ç¬¬ä¸€éƒ¨åˆ†è¯·å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/06/15/swift-and-c-interop/&quot;&gt;Swift and C Interop ç®€æSwiftå’ŒCçš„äº¤äº’&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æœ¬æ–‡å°†ä»‹ç»å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ä¼šé‡åˆ°çš„å„ç±»æƒ…å†µã€‚&lt;/p&gt;

&lt;h2 id=&quot;å†çœ‹ç±»å‹å¯¹åº”&quot;&gt;å†çœ‹ç±»å‹å¯¹åº”&lt;/h2&gt;

&lt;p&gt;æ ‡å‡†ç±»å‹è¿™é‡Œå°±ä¸æäº†ï¼Œä¸Šé¢çš„æ–‡ç« è®²çš„å¾ˆæ˜ç™½äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;7-ç§æŒ‡é’ˆç±»å‹&quot;&gt;7 ç§æŒ‡é’ˆç±»å‹&lt;/h3&gt;

&lt;p&gt;ä»ä»£ç çœ‹ï¼Œæˆ‘è®¤ä¸º Swift å¯¹åº” C çš„æŒ‡é’ˆæ—¶å€™ï¼Œå­˜åœ¨ä¸€ä¸ªæœ€åŸå§‹çš„ç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt;ï¼Œä½†æ˜¯å®ƒæ˜¯å†…éƒ¨è¡¨ç¤ºï¼Œä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚æ‰€ä»¥ç•¥è¿‡ã€‚ä½†å®ƒæ˜¯åŸºç¡€ï¼Œå¯ä»¥è®¤ä¸ºå®ƒç›¸å½“äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Word&lt;/code&gt; ç±»å‹ï¼ˆæœºå™¨å­—é•¿ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ä»¥ä¸‹å†…å®¹å† Xcode6-beta3 ä¸­ä¸é€‚ç”¨&lt;/strong&gt; è¯·å‚è€ƒ &lt;a href=&quot;http://andelf.github.io/blog/2014/07/08/swift-beta3-changes/&quot;&gt;Swift åœ¨ Xcode6-beta3 ä¸­çš„å˜åŒ–&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;copaquepointer&quot;&gt;COpaquePointer&lt;/h4&gt;

&lt;p&gt;ä¸é€æ˜æŒ‡é’ˆã€‚ä¹‹å‰æˆ‘ä»¥ä¸ºå®ƒå¾ˆå°‘ä¼šç”¨åˆ°ï¼Œä¸è¿‡ç°åœ¨çœ‹æ¥æƒ³é”™äº†ï¼Œè™½ç„¶ç±»å‹ä¸å®‰å…¨ï¼Œä½†æ˜¯å¾ˆå¤šåœºåˆåªèƒ½ç”¨å®ƒã€‚å®ƒæ˜¯ç›´æ¥å¯¹åº” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; çš„ã€‚å­—é•¿ç›¸ç­‰ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;In computer programming, an opaque pointer is a special case of an opaque data type, a datatype declared to be a pointer to a record or data structure of some unspecified type. - æ¥è‡ª Wikipedia&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;å‡ ä¹æ²¡æœ‰ä»»ä½•æ“ä½œæ–¹æ³•ï¼Œä¸å¸¦ç±»å‹ï¼Œä¸»è¦ç”¨äº Bridging Header ä¸­è¡¨ç¤º C ä¸­çš„å¤æ‚ç»“æ„æŒ‡é’ˆ&lt;/p&gt;

&lt;p&gt;æ¯”å¦‚ä¸€ä¸ªä¾‹å­ï¼Œ libcurl ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CURL *&lt;/code&gt; çš„å¤„ç†ï¼Œå…¶å®å°±æ˜¯å¯¹åº”ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h4 id=&quot;unsafepointer&quot;&gt;UnsafePointer&lt;T&gt;&lt;/T&gt;&lt;/h4&gt;

&lt;p&gt;æ³›å‹æŒ‡é’ˆã€‚ç›´æ¥å¯¹åº” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt;ã€‚å­—é•¿ç›¸ç­‰ã€‚&lt;/p&gt;

&lt;p&gt;å¤„ç†æŒ‡é’ˆçš„ä¸»åŠ›ç±»å‹ã€‚å¸¸é‡ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C_ARGV&lt;/code&gt; çš„ç±»å‹ä¹Ÿæ˜¯å®ƒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;CString&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;æ”¯æŒå¤§é‡æ“ä½œæ–¹æ³•ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.memory&lt;/code&gt; å±æ€§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{ get set }&lt;/code&gt; æ“ä½œæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹&lt;/li&gt;
  &lt;li&gt;æ”¯æŒ subscript ï¼Œç›´æ¥å¯¹åº”äº C çš„æ•°ç»„ï¼Œä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C_ARGV[1]&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;alloc(num: Int)&lt;/code&gt; åˆ†é…æ•°ç»„ç©ºé—´&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;initialize(val: T)&lt;/code&gt; ç›´æ¥åˆå§‹åŒ–&lt;/li&gt;
  &lt;li&gt;offset æ“ä½œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.succ()&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.pred()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;å¯ä»¥ä»ä»»æ„ä¸€ç§æŒ‡é’ˆç›´æ¥è°ƒç”¨æ„é€ å‡½æ•°è·å¾—&lt;/li&gt;
  &lt;li&gt;éšå¼ç±»å‹è½¬æ¢ä¸ºé &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt; ä¹‹å¤–çš„ä»»æ„ä¸€ç§æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;autoreleasingunsafepointer&quot;&gt;AutoreleasingUnsafePointer&lt;T&gt;&lt;/T&gt;&lt;/h4&gt;

&lt;p&gt;ä¹‹å‰ç‰¹åœ°å†™æ–‡ä»‹ç»è¿‡è¿™ä¸ªæŒ‡é’ˆç±»å‹ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; çš„å¤„ç†å°±ä¸»è¦ç”¨å®ƒã€‚ä¼ é€é—¨ï¼š &lt;a href=&quot;http://andelf.github.io/blog/2014/06/16/swift-nserror-internals/&quot;&gt;Swift NSError Internalsï¼ˆè§£æ Swift å¯¹ NSError æ“ä½œï¼‰&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å†…éƒ¨å®ç°ç”¨äº†è¯­è¨€å†…ç½®ç‰¹æ€§ï¼Œä»åå­—ä¹Ÿå¯ä»¥çœ‹å‡ºæ¥ï¼Œè¿™ä¸ªåº”è¯¥æ˜¯éå¸¸æ£’çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œå¯ä»¥å¸®åŠ©ç®¡ç†å†…å­˜ï¼Œé€¼æ ¼ä¹Ÿé«˜ã€‚å†…å­˜ç›´æ¥å¯¹åº” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; å¯ä»¥ä¼ é€’ç»™ C å‡½æ•°ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.memory&lt;/code&gt; å±æ€§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{ get set }&lt;/code&gt; æ“ä½œæŒ‡é’ˆæŒ‡å‘çš„å†…å®¹&lt;/li&gt;
  &lt;li&gt;ç›´æ¥ä» &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; ç±»å‹è·å¾—ï¼Œä½¿ç”¨æ–¹æ³•æ¯”è¾ƒè¯¡å¼‚ï¼Œå»ºè®®å‚è€ƒæ–‡ç« &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;cmutablepointer-cconstpointer&quot;&gt;CMutablePointer&lt;T&gt; CConstPointer&lt;T&gt;&lt;/T&gt;&lt;/T&gt;&lt;/h4&gt;

&lt;p&gt;åˆ†åˆ«å¯¹åº”äº C ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T *&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const T *&lt;/code&gt;ã€‚ä¸å¯ç›´æ¥ä¼ é€’ç»™ C å‡½æ•°ï¼Œå› ä¸ºè¡¨ç¤ºç»“æ„é‡Œè¿˜æœ‰ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;owner&lt;/code&gt; åŸŸï¼Œåº”è¯¥æ˜¯ç”¨æ¥è‡ªåŠ¨ç®¡ç†ç”Ÿå‘½å‘¨æœŸçš„ã€‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sizeof&lt;/code&gt; æ“ä½œè¿”å› 16ã€‚ä½†æ˜¯å¯ä»¥æœ‰éšå¼ç±»å‹è½¬æ¢ã€‚&lt;/p&gt;

&lt;p&gt;æ“ä½œæ–¹æ³•ä¸»è¦æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func withUnsafePointer&amp;lt;U&amp;gt;(f: UnsafePointer&amp;lt;T&amp;gt; -&amp;gt; U) -&amp;gt; U&lt;/code&gt;ï¼Œç”¨ Trailing Closure è¯­æ³•éå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;h4 id=&quot;cmutablevoidpointer-cconstvoidpointer&quot;&gt;CMutableVoidPointer CConstVoidPointer&lt;/h4&gt;

&lt;p&gt;åˆ†åˆ«å¯¹åº”äº C ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;const void *&lt;/code&gt;ã€‚å…¶ä»–å†…å®¹åŒä¸Šä¸€ç§ã€‚&lt;/p&gt;

&lt;h4 id=&quot;å°ç»“æŒ‡é’ˆ&quot;&gt;å°ç»“æŒ‡é’ˆ&lt;/h4&gt;

&lt;p&gt;ä»¥ä¸Š 7 ç§æŒ‡é’ˆç±»å‹å¯ä»¥åˆ†æœªä¸¤ç±»ï¼Œæˆ‘ç»™ä»–ä»¬èµ·åä¸º ç¬¬ä¸€ç±»æŒ‡é’ˆ å’Œ ç¬¬äºŒç±»æŒ‡é’ˆ ã€‚ï¼ˆä½ çœ‹æˆ‘åœ¨é»‘é©¬å…‹æ€è€¶ï¼Œç®—äº†è¿™ä¸ªæ¢—å¤ªæ·±ï¼Œå‚è€ƒé©¬å…‹æ€ä¸»ä¹‰æ”¿æ²»ç»æµå­¦ï¼‰&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¯ä»¥ç›´æ¥ç”¨äº C å‡½æ•°å£°æ˜çš„ ç¬¬ä¸€ç±»æŒ‡é’ˆ
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;æ˜¯å¯¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; çš„å°è£…ï¼Œç›´æ¥å¯¹åº”äº C çš„æŒ‡é’ˆï¼Œå®ƒä»¬çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sizeof&lt;/code&gt; éƒ½æ˜¯å•ä½å­—é•¿&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ä¸å¯ç”¨äºå£°æ˜ ç¬¬äºŒç±»æŒ‡é’ˆ
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMutablePointer&amp;lt;T&amp;gt; CConstPointer&amp;lt;T&amp;gt; CMutableVoidPointer CConstVoidPointer&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;ç›´æ¥ä» Swift å¯¹è±¡çš„å¼•ç”¨è·å¾—ï¼ˆä¸€ä¸ªéšè—ç‰¹æ€§ï¼Œå¼•ç”¨éšå¼è½¬æ¢ï¼‰ï¼ˆä¸»è¦æ„é€ æ–¹æ³•ï¼‰&lt;/li&gt;
      &lt;li&gt;åŒ…å«äº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;owner&lt;/code&gt; å­—æ®µï¼Œå¯ä»¥ç®¡ç†ç”Ÿå‘½å‘¨æœŸï¼Œç†è®ºä¸Šåœ¨ Swift ä¸­ä½¿ç”¨&lt;/li&gt;
      &lt;li&gt;é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.withUnsafePointer&lt;/code&gt; æ–¹æ³•è°ƒç”¨&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰€æœ‰æŒ‡é’ˆéƒ½å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;LogicValue&lt;/code&gt; åè®®ï¼Œå¯ä»¥ç›´æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if a_pointer&lt;/code&gt; åˆ¤æ–­æ˜¯å¦ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nil&lt;/code&gt; ç±»å‹å®ç°äº†åˆ°æ‰€æœ‰æŒ‡é’ˆç±»å‹çš„éšå¼ç±»å‹è½¬æ¢ï¼Œç­‰ä»·äº C ä¸­çš„ ``NULL`ï¼Œå¯ä»¥ç›´æ¥åˆ¤æ–­ã€‚&lt;/p&gt;

&lt;p&gt;ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆï¼Ÿè¿™ä¸ªé—®é¢˜æˆ‘ä¹Ÿåœ¨è€ƒè™‘ä¸­ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„å»ºè®®ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å¯¹åº”å¤æ‚ç»“æ„ä½“ï¼Œä¸æ“ä½œç»“æ„ä½“å­—æ®µçš„ï¼š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;COpaquePointer&lt;/code&gt; ä¾‹å¦‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CURL *&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;æ—¥å¸¸æ“ä½œï¼š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;åŒæ—¶éœ€è¦åœ¨ Swift å’Œ C ä¸­æ“ä½œç»“æ„ä½“å­—æ®µï¼Œç”± Swift ç®¡ç†å†…å­˜ï¼š&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Swift ä¸­åˆ›å»ºå¯¹è±¡ï¼Œä¼ é€’ç»™ Cï¼š ç¬¬äºŒç±»æŒ‡é’ˆ&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å·¥å…·ç±»å‹&quot;&gt;å·¥å…·ç±»å‹&lt;/h2&gt;

&lt;h3 id=&quot;cvararg-cvalistpointer-valistbuilder&quot;&gt;CVarArg CVaListPointer VaListBuilder&lt;/h3&gt;

&lt;p&gt;ç”¨äºå¤„ç† C è¯­è¨€ä¸­çš„å¯å˜å‚æ•° valist å‡½æ•°ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CVarArg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;encode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¡¨ç¤ºè¯¥ç±»å‹å¯ä»¥ä½œä¸ºå¯å˜å‚æ•°ï¼Œç›¸å½“å¤šçš„ç±»å‹éƒ½å®ç°äº†è¿™ä¸ªã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CVaListPointer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UnsafePointer&amp;lt;Void&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;fromUnsafePointer&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;from:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UnsafePointer&amp;lt;Void&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;@conversion&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;__&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;conversion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CMutableVoidPointer&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯¹åº”äº Cï¼Œç›´æ¥ç»™ C å‡½æ•°ä¼ é€’ï¼Œå£°æ˜ã€å®šä¹‰æ—¶ä½¿ç”¨ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;VaListBuilder&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;va_list&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CVaListPointer&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å·¥å…·ç±»ï¼Œæ–¹ä¾¿åœ°åˆ›å»º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CVaListPointer&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¿˜æœ‰ä¸€äº›å·¥å…·å‡½æ•°ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getVaList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CVaListPointer&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withVaList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CVarArg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;CVaListPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withVaList&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;builder&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;VaListBuilder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;CVaListPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;éå¸¸æ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;h3 id=&quot;unsafearray&quot;&gt;UnsafeArray&lt;T&gt;&lt;/T&gt;&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UnsafeArray&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Collection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Generator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startIndex&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;endIndex:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;subscript&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;i:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;start:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;UnsafePointer&amp;lt;T&amp;gt;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;length:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;generate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UnsafeArray&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¤„ç† C æ•°ç»„çš„å·¥å…·ç±»å‹ï¼Œå¯ä»¥ç›´æ¥ for-in å¤„ç†ã€‚å½“ç„¶ï¼Œåªè¯»çš„ï¼Œç•¥å¯æƒœã€‚&lt;/p&gt;

&lt;h3 id=&quot;unmanaged&quot;&gt;Unmanaged&lt;T&gt;&lt;/T&gt;&lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;
  &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;_private&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fromOpaque&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;COpaquePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;toOpaque&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;COpaquePointer&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;passRetained&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;passUnretained&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;takeUnretainedValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;takeRetainedValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;retain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;autorelease&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Unmanaged&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é¡¾åæ€ä¹‰ï¼Œæ‰‹åŠ¨ç®¡ç† RC çš„ã€‚é¿å… Swift æ’å…¥çš„ ARC ä»£ç å½±å“ç¨‹åºé€»è¾‘ã€‚&lt;/p&gt;

&lt;h2 id=&quot;c-å¤´æ–‡ä»¶çš„å¯¼å…¥è¡Œä¸º&quot;&gt;C å¤´æ–‡ä»¶çš„å¯¼å…¥è¡Œä¸º&lt;/h2&gt;

&lt;h3 id=&quot;å®å®šä¹‰&quot;&gt;å®å®šä¹‰&lt;/h3&gt;

&lt;p&gt;æ•°å­—å¸¸é‡ CInt, CDouble (å¸¦ç±»å‹åç¼€åˆ™ä¸ºå¯¹åº”ç±»å‹ï¼Œå¦‚ 1.0f ï¼‰
å­—ç¬¦å¸¸é‡ CString
å…¶ä»–å® å±•å¼€åï¼Œæ— å®šä¹‰&lt;/p&gt;

&lt;h3 id=&quot;æšä¸¾-enum&quot;&gt;æšä¸¾ enum&lt;/h3&gt;

&lt;p&gt;åˆ›å»º enum ç±»å‹ï¼Œå¹¶ç»§æ‰¿è‡ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CUnsignedInt&lt;/code&gt; æˆ– &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CInt&lt;/code&gt; ï¼ˆenum æ˜¯å¦æœ‰è´Ÿåˆå§‹å€¼ï¼‰&lt;/p&gt;

&lt;p&gt;å¯ä»¥é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.value&lt;/code&gt; è®¿é—®ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç»“æ„ä½“-struct&quot;&gt;ç»“æ„ä½“ struct&lt;/h3&gt;

&lt;p&gt;åˆ›å»º struct ç±»å‹ï¼Œåªæœ‰é»˜è®¤ init ï¼Œéœ€è¦åŠ ä¸Šæ‰€æœ‰ç»“æ„ä½“å­—æ®µååˆ›å»ºã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¯å˜å‚æ•°å‡½æ•°&quot;&gt;å¯å˜å‚æ•°å‡½æ•°&lt;/h3&gt;

&lt;p&gt;è½¬ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CVaListPointer&lt;/code&gt;ã€‚æ‰‹åŠ¨é‡å£°æ˜æ›´å¥½ã€‚è¿™é‡Œä¸¾ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Darwin&lt;/code&gt; æ¨¡å—çš„ä¾‹å­è¯´ã€‚&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;func vprintf(_: CString, _: CVaListPointer) -&amp;gt; CInt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;ä»-c-è°ƒç”¨-swift&quot;&gt;ä» C è°ƒç”¨ Swift&lt;/h2&gt;

&lt;p&gt;åªèƒ½è°ƒç”¨å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;ä¹‹å‰è¯´è¿‡ï¼Œç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@asmname(&quot;name&quot;)&lt;/code&gt; æŒ‡å®š mangled name å³å¯ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶å C è¯­è¨€ä¸­äººå·¥å£°æ˜ä¸‹å‡½æ•°ã€‚å¾ˆå¯æƒœè‡ªåŠ¨å¯¼å‡ºå¤´æ–‡ä»¶ä¸é€‚ç”¨äº C è¯­è¨€ï¼Œåªé€‚ç”¨äº Objective-C ã€‚&lt;/p&gt;

&lt;p&gt;ç›®æµ‹æš‚æ—¶æ— æ³•å¯¼å‡ºç»“æ„ä½“ï¼Œå› ä¸º Swift é—­æºä¸æä¾›ç›¸å…³å¤´æ–‡ä»¶ã€‚é çŒœæœ‰é£é™©ã€‚&lt;/p&gt;

&lt;p&gt;å…¨å±€å˜é‡ä¸æ”¯æŒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@asmname(&quot;name&quot;)&lt;/code&gt; æ§åˆ¶å¯¼å‡ºç¬¦å·åã€‚ç›®æµ‹å¯ä»¥å°è¯•ç”¨ mangled name è®¿é—®ï¼Œä½†æ˜¯å¾ˆä¸æ–¹ä¾¿ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¤ºä¾‹&quot;&gt;ç¤ºä¾‹&lt;/h2&gt;

&lt;p&gt;æˆ‘å°è¯•è°ƒç”¨äº†ä¸‹ libcurl ã€‚&lt;/p&gt;

&lt;p&gt;é¡¹ç›®åœ°å€åœ¨ &lt;a href=&quot;https://github.com/andelf/curl-swift&quot;&gt;andelf/curl-swift&lt;/a&gt; åŒ…å«ç¼–è¯‘è„šæœ¬ï¼ˆå°±ä¸€å¥å‘½ä»¤ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;Bridging Header åªå†™å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#include&amp;lt;curl/curl.h&amp;gt;&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@asmname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;curl_easy_setopt&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;curl_easy_setopt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;curl&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;COpaquePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CURLoption&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CURLcode&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;@asmname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;curl_easy_setopt&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;curl_easy_setopt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;curl&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;COpaquePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CURLoption&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CBool&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CURLcode&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;curl_easy_init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// this should be a const c string. curl_easy_perform() will use this.&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;CString&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;http://www.baidu.com&quot;&lt;/span&gt;

&lt;span class=&quot;nf&quot;&gt;curl_easy_setopt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CURLOPT_URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;curl_easy_setopt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CURLOPT_VERBOSE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ret&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;curl_easy_perform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;curl_easy_strerror&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ret&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;error = \(error)&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å€¼å¾—æ³¨æ„çš„æ˜¯å…¶ä¸­å¯¹å•ä¸ªå‡½æ•°çš„å¤šæ€å£°æ˜ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl_easy_setopt&lt;/code&gt; å®é™…ä¸Šç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥åŠå¯¹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;url&lt;/code&gt; çš„å¤„ç†ï¼Œå®é™…ä¸Š libcurl è¦æ±‚è®¾ç½®çš„ url å‚æ•°ä¸€ç›´ä¿æŒåˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl_easy_perform&lt;/code&gt; æ—¶ï¼Œæ‰€ä»¥è¿™é‡Œç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withUnsafePointer&lt;/code&gt; æˆ–è€…
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;withCString&lt;/code&gt; æ˜¯ä¸å¤ªå¯å–çš„æ–¹æ³•ã€‚å®é™…ä¸Šæˆ–è®¸å¯ä»¥ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Unmanaged&amp;lt;T&amp;gt;&lt;/code&gt; æ¥è§£å†³ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;æˆ‘è§‰å¾—è¯´è¿™ä¹ˆå¤šã€‚ã€‚ã€‚&lt;/p&gt;

&lt;p&gt;è°ƒç”¨ C å·²ç»å†æ²¡æœ‰åˆ«çš„å†…å®¹å¯è¯´äº†ã€‚å…¶ä»–çš„å°±æ˜¯ç¼–ç¨‹ç»éªŒçš„é—®é¢˜ï¼Œæ¯”å¦‚å¦‚ä½•å®ç° C å›è°ƒ Swift æˆ–è€… Swift å›è°ƒ C ã€‚å¯ä»¥å‚è€ƒå…¶ä»–è¯­è¨€çš„åšæ³•ã€‚è§£å†³æ–¹æ³•ä¸åªä¸€ç§ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;ã€‚&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/15/swift-and-c-interop/&quot;&gt;Swift and C Interop ç®€æSwiftå’ŒCçš„äº¤äº’ ç¬¬ä¸€éƒ¨åˆ†&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/16/swift-nserror-internals/&quot;&gt;Swift NSError Internalsï¼ˆè§£æ Swift å¯¹ NSError æ“ä½œï¼‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina . weibo</summary></entry><entry><title type="html">NSObject Pattern Match in Swift (ç®€æ Swift ä¸­çš„ Pattern Match)</title><link href="https://andelf.github.io/blog/2014/06/17/nsobject-pattern-match-in-swift/" rel="alternate" type="text/html" title="NSObject Pattern Match in Swift (ç®€æ Swift ä¸­çš„ Pattern Match)" /><published>2014-06-17T09:29:48+08:00</published><updated>2014-06-17T09:29:48+08:00</updated><id>https://andelf.github.io/blog/2014/06/17/nsobject-pattern-match-in-swift</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/17/nsobject-pattern-match-in-swift/">&lt;p&gt;æœ¬æ–‡æ­£å¼æ ‡é¢˜æ˜¯ï¼šç®€æ Swift ä¸­çš„ Pattern Match&lt;/p&gt;

&lt;p&gt;å‰¯æ ‡é¢˜æ˜¯ï¼šå¦ˆè›‹ Swift ä½ åˆç”¨é»‘å±æ€§å‘å¤§å®¶äº†: ä¸ºä»€ä¹ˆ switch case å¯ä»¥ç”¨æ•°å­—åŒ¹é…å­—ç¬¦&lt;/p&gt;

&lt;p&gt;å£°æ˜ï¼š åŸåˆ›å‘ç°ï¼ŒåŸåˆ›å†…å®¹ã€‚è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina . &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;é—®é¢˜çš„æå‡º&quot;&gt;é—®é¢˜çš„æå‡º&lt;/h2&gt;

&lt;p&gt;æ•…äº‹æ˜¯è¿™æ ·çš„ï¼Œæ˜¨å¤©æœ‰äººåœ¨è®ºå›ä¸Šå‘äº†ä¸ªå¸–å­ï¼Œè™½ç„¶ä¸å¤ªè§„èŒƒè€Œä¸”å«ç³Šï¼Œä¸è¿‡è¿˜æ˜¯èƒ½çœ‹å‡ºæ¥ä»–åœ¨é—®ä»€ä¹ˆã€‚&lt;a href=&quot;http://swift.sh/topic/151/switch-case10/&quot;&gt;ä¼ é€é—¨&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é‡æ–°æŠŠé—®é¢˜ç®€åŒ–æ¬è¿è¿‡æ¥ã€‚&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;3&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;default:&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;4&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆä¸Šé¢çš„ä»£ç å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Ÿ&lt;/p&gt;

&lt;h2 id=&quot;é—®é¢˜éªŒè¯&quot;&gt;é—®é¢˜éªŒè¯&lt;/h2&gt;

&lt;p&gt;è¿™å‡ å¤©è¯´äº†å¾ˆå¤šäº†ï¼Œ Swift æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥ç±»å‹ä¸åŒè‚¯å®šä¸èƒ½åœ¨ä¸€èµ·ã€‚ç›´è§‰ä¸Šï¼Œè¿™æ®µä»£ç è‚¯å®šä¸å¯èƒ½ç¼–è¯‘é€šè¿‡ï¼Œé”™è¯¯ä¸€å®šæ˜¯ç±»å‹é”™è¯¯ã€‚&lt;/p&gt;

&lt;p&gt;æœæ–­æ‰”ä»£ç åˆ°æ–‡ä»¶ï¼Œç„¶åç¼–è¯‘ï¼ˆæˆ‘ä¸ªäººä¹ æƒ¯ç”¨å‘½ä»¤è¡Œç›´æ¥ç¼–è¯‘ï¼‰:&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;// å¡«å…¥ test.swift
xcrun swift -g test.swift
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æœç„¶å‡ºé”™ï¼Œä¸è¿‡å‡ºé”™ä¿¡æ¯ç•¥è¯¡å¼‚ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;test.swift:4:6: error: could not find an overload for &apos;~=&apos; that accepts the supplied arguments
case 1:
     ^
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;æ•…äº‹åˆ°è¿™é‡Œä¹Ÿè®¸å®Œäº‹äº†ã€‚å—¯ï¼Œä¸å¯ä»¥ç¼–è¯‘ï¼Œé—®é¢˜ä¹Ÿè®¸æ˜¯ Xcode 6 beta ç‰ˆçš„ BUG ä»€ä¹ˆçš„ã€‚å¾®åšä¸Šçš„ &lt;a href=&quot;http://weibo.com/owenzx&quot;&gt;@è‚‡é‘«&lt;/a&gt; ä¹Ÿæåˆ°ï¼Œ ç”¨ Playground ç¼–è¯‘ä¹Ÿæ˜¯å‡ºé”™ï¼Œå‡ºé”™ä¿¡æ¯åŒä¸Šã€‚&lt;/p&gt;

&lt;p&gt;çœ‹èµ·æ¥æš‚æ—¶æ˜¯æ— æ³•é‡ç°é—®é¢˜ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å‡ºé”™ä¿¡æ¯&quot;&gt;å‡ºé”™ä¿¡æ¯&lt;/h3&gt;

&lt;p&gt;å…ˆè§£é‡Šä¸‹è¿™ä¸ªå‡ºé”™ä¿¡æ¯ï¼Œç†Ÿè¯»é‚£æœ¬ ibook çš„åŒå­¦ï¼Œå¯èƒ½ä¼šè®°å¾—ï¼Œåœ¨ swift case é‚£èŠ‚æ˜¯æœ‰è®²åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; è¿™ä¸ªè¿ç®—ç¬¦çš„ï¼Œä¹Ÿè®²åˆ°äº†å¦‚ä½•è‡ªå®šä¹‰å®ƒã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Expression Pattern&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;An expression pattern represents the value of an expression. Expression patterns appear only in switch statement case labels.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;p&gt;The expression represented by the expression pattern is compared with the value of an input expression using the Swift standard library ~= operator. The matches succeeds if the ~= operator returns true. By default, the ~= operator compares two values of the same type using the == operator. It can also match an integer value with a range of integers in an Range object.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ‰€ä»¥å…¶å® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; æ˜¯ä¸€ä¸ªåŒ¹é…è¿ç®—ç¬¦(Pattern Match Operator)ï¼Œä¸“é—¨ç”¨åœ¨ Pattern Match çš„åœ°æ–¹ï¼Œæ¯”å¦‚ switch çš„ case ã€‚ä¸€èˆ¬æƒ…å†µä¸‹å®ƒç›´æ¥è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt; è¿ç®—ç¬¦ã€‚&lt;/p&gt;

&lt;p&gt;åŸä¹¦è¿˜å†™é“ï¼š&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;You can overload the ~= operator to provide custom expression matching behavior. For example, you can rewrite the above example to compare the point expression with a string representations of points.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¯´æ˜ Pattern Match çš„è¡Œä¸ºæ˜¯å¯ä»¥é€šè¿‡é‡è½½ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; æ§åˆ¶çš„ã€‚ä¹¦ä¸­æœ‰é‡è½½çš„ä¾‹å­ï¼Œå°ä¼™ä¼´ä»¬å¯ä»¥çœ‹çœ‹ã€‚&lt;/p&gt;

&lt;p&gt;æ·±å…¥ä¸‹ï¼Œæ¥çœ‹çœ‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@transparent func ~=&amp;lt;T : Equatable&amp;gt;(a: T, b: T) -&amp;gt; Bool
func ~=&amp;lt;T : RandomAccessIndex where T.DistanceType : SignedInteger&amp;gt;(x: Range&amp;lt;T&amp;gt;, y: T) -&amp;gt; Bool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œé¦–å…ˆå®ƒå¯ä»¥åŒ¹é…ä¸¤ä¸ªç›¸åŒç±»å‹çš„ Equatableï¼Œè€Œä¸”æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@transparent&lt;/code&gt;ï¼Œè¯´æ˜æ²¡æœ‰é¢å¤–å¼€é”€ï¼Œ inline å‡½æ•°ï¼Œä»ä¹¦ä¸­çœ‹ï¼Œå®Œå…¨ç­‰ä»·äºè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt;ï¼Œä¸æ·±ç©¶äº†ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åï¼Œå®ƒå¯ä»¥åŒ¹é…ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rnage&amp;lt;T&amp;gt;&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬åœ¨ switch case é‡Œå†™çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;case 1..18: println(&quot;æœªæˆå¹´&quot;)&lt;/code&gt; èƒŒåçš„å¥¥ç§˜ï¼Œç•¥æœ‰å¼€é”€ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šè¯´æ˜äº†ä¸ºä»€ä¹ˆå‡ºé”™ä¿¡æ¯æç¤ºä¸ºä»€ä¹ˆæ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; è¿ç®—ç¬¦é‡è½½å¤±è´¥ï¼Œè€Œä¸æ˜¯ç±»å‹é”™è¯¯ï¼ˆå…¶å®ä¹Ÿç®—æ˜¯ä¸€ç§ç±»å‹é”™è¯¯ï¼Œæ²¡æœ‰æ‰¾åˆ°é€‚åˆè¿ç®—ç¬¦çš„ç±»å‹ï¼‰ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å†æ¬¡å°è¯•é‡ç°&quot;&gt;å†æ¬¡å°è¯•é‡ç°&lt;/h3&gt;

&lt;p&gt;æœ‰äº†ä¸Šé¢çš„çº¿ç´¢ï¼Œæ˜¯ä¸æ˜¯æ€€ç–‘æˆ‘ä»¬é—æ¼äº†ä»€ä¹ˆï¼Ÿå›åˆ°åŸé—®é¢˜æå‡ºçš„åœ°æ–¹ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;viewDidLoad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;....&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;çœ‹èµ·æ¥ï¼Œä»–æ˜¯åœ¨ App ç¯å¢ƒä¸‹è°ƒç”¨çš„ï¼Œè¿™ä¹Ÿè®¸å°±æ˜¯é—®é¢˜çš„æ ¹æºã€‚ä¹‹å‰æœ‰ä»‹ç»è¿‡ï¼Œ Cocoa æ¡†æ¶ç»™ Swift è¯­è¨€æ·»åŠ äº†å¾ˆå¤šä¸œè¥¿ï¼ŒåŒ…æ‹¬ä¸€å¤§æ‰¹çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extension&lt;/code&gt;ï¼Œè¿˜æœ‰ä¸€å †éšå¼ç±»å‹è½¬æ¢ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test.swift&lt;/code&gt; ç¬¬ä¸€è¡ŒåŠ å…¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import Cocoa&lt;/code&gt;ï¼Œé‡æ–°ç¼–è¯‘ã€‚ç»“æœæ­£å¸¸é€šè¿‡ç¼–è¯‘ã€‚ä»£ç æ‰§è¡Œç»“æœç¬¦åˆé¢„æœŸï¼Œèµ° default åˆ†æ”¯ã€‚&lt;/p&gt;

&lt;h3 id=&quot;è¿™ä¹Ÿä¸ç§‘å­¦&quot;&gt;è¿™ä¹Ÿä¸ç§‘å­¦!&lt;/h3&gt;

&lt;p&gt;å°ä¼™ä¼´ä»¬æƒŠå‘†äº†ï¼Œçœ‹èµ·æ¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt; å˜é‡æ˜æ˜æ˜¯ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt;ï¼Œç»“æœç«Ÿç„¶èƒ½åŒ¹é… &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Int&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç¥­å‡º-lldb&quot;&gt;ç¥­å‡º lldb&lt;/h2&gt;

&lt;p&gt;lldb æŒ‚ä¸Š exe ï¼Œçœ‹çœ‹æ±‡ç¼–ä»£ç æ˜¯æ€ä¹ˆæ ·çš„ã€‚å¸¦ä¸Šæ³¨é‡Šã€‚æˆ‘æ‘˜å½•æœ€èƒ½è¯´æ˜é—®é¢˜çš„ä¸€æ®µã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-gas&quot;&gt;   ; è¿™é‡Œæ˜¯ case 1
   0x100001d1a:  movabsq $0x01, %rdi
   0x100001d24:  movq   %rax, -0x148(%rbp)

   ; å°† 1 è½¬æ¢ä¸º NSNumber
   0x100001d2b:  callq  0x100003f32               ; symbol stub for: Swift.Int.__conversion (Swift.Int)() -&amp;gt; ObjectiveC.NSNumber

   ; æ­¤å¤„çœç•¥è°ƒç”¨ ARC ä»£ç è‹¥å¹²
   ....

   ; è¿™é‡Œå…¶å®æ˜¯ count: String , ä¸‰ä¸ªå¯„å­˜å™¨è¡¨ç¤º
   ; æ£€æŸ¥ String å¤§å°ä½ ä¼šå‘ç° sizeof(String) æ˜¯ 24ï¼Œä¸‰ä¸ª 64bit
   ; ç†Ÿæ‚‰ Rust çš„åŒå­¦çŸ¥é“ï¼Œå­—ç¬¦ä¸²å®ç°ï¼Œæ— éä¸‰ä¸ª field ï¼š size ã€ capacity ã€pointer
   ; çŒœæµ‹ Swift å®Œå…¨ç›¸åŒå› ä¸ºå®ƒå¤§é‡å€Ÿé‰´äº† Rust ï¼ˆä¸æœæ¥å–·ï¼‰
   0x100001d43:  movq   -0x128(%rbp), %rdi
   0x100001d4a:  movq   -0x130(%rbp), %rsi
   0x100001d51:  movq   -0x138(%rbp), %rdx

   0x100001d58:  movq   %rax, -0x158(%rbp)
   ; è¿™é‡Œå°† count: String è½¬æ¢ä¸º NSString
   0x100001d5f:  callq  0x100003f26               ; symbol stub for: Swift.String.__conversion (Swift.String)() -&amp;gt; ObjectiveC.NSString
   0x100001d64:  movq   -0x150(%rbp), %rdi
   0x100001d6b:  movq   %rax, %rsi
   ; **æœ€æœ€ç¥å¥‡çš„åœ°æ–¹æ¥äº†ï¼Œè¿™é‡Œè°ƒç”¨äº† ~= ObjectiveC ç‰ˆï¼Œæ¯”è¾ƒä¸¤ä¸ª NSObject çš„ç‰ˆæœ¬ã€‚
   0x100001d6e:  callq  0x100003f20               ; symbol stub for: ObjectiveC.~= @infix (ObjectiveC.NSObject, ObjectiveC.NSObject) -&amp;gt; Swift.Bool
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&quot;åˆ†æ&quot;&gt;åˆ†æ&lt;/h2&gt;

&lt;p&gt;ä¸Šé¢ä¸€å †çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œè¿™é‡Œå†å¤è¿°ä¸‹åœ¨ Cocoa ç¯å¢ƒï¼ˆæˆ–è€…è¯´ Foundation ç¯å¢ƒä¸‹ï¼‰ç¬¬ä¸€æ¡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;case 1:&lt;/code&gt; çš„æµç¨‹:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å°† 1 è½¬æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSNumber&lt;/code&gt;ï¼Œé€šè¿‡éšå¼ç±»å‹è½¬æ¢å®ç°&lt;/li&gt;
  &lt;li&gt;å°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt; è½¬æ¢ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSString&lt;/code&gt;ï¼Œé€šè¿‡éšå¼ç±»å‹è½¬æ¢å®ç°&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; é‡è½½ç‰ˆçš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; è¿ç®—ç¬¦è¿›è¡Œæ¯”è¾ƒ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¹ˆçœ‹èµ·æ¥æ˜äº†å¤šäº†ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; å“ªé‡Œå»äº†ï¼Ÿä¸ºä»€ä¹ˆ count çš„ç±»å‹å˜äº†ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ç›´æ¥ä¸‹æ–­ç‚¹ç„¶å repl å‘½ä»¤æ£€æŸ¥ï¼Œæœç„¶ï¼Œæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šç±»å‹çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;count&lt;/code&gt; åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­å˜æˆäº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä»æ ‡å‡†åº“å®šä¹‰çœ‹ï¼Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; éƒ½å®ç°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExtendedGraphemeClusterLiteralConvertible&lt;/code&gt; åè®®ï¼Œä¿è¯ä»–ä»¬èƒ½ä»å­—ç¬¦å­—é¢å¸¸é‡è·å¾—ã€‚æ‰€ä»¥å®é™…ä¸Šæ¯å½“æˆ‘ä»¬å†™ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let foo = &quot;a&quot;&lt;/code&gt; å…¶å®æ˜¯å®Œå…¨ä¾èµ–ç¼–è¯‘å™¨çš„ç±»å‹æ¨å¯¼ï¼Œé€‰æ‹©åˆ°åº•æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; è¿˜æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è¯´æ˜ Swift ç¼–è¯‘å™¨é«˜å¤§ä¸Šï¼Œå¯ä»¥ä»å½“å‰åŠ è½½çš„æ‰€æœ‰ç±»å‹ä¸­æ¨å¯¼å‡ºåˆæ³•åˆç†èƒ½ç¼–è¯‘çš„ç±»å‹ç»„åˆã€‚æ¥è‡ª Haskell èƒŒæ™¯çš„åŒå­¦ä¸€å®šç¬‘è€Œä¸è¯­ï¼Œå½“ç„¶é‚£ç§æ€ä¹ˆæ”¹éƒ½å‡‘ä¸å¯¹ç±»å‹çš„ç—›è‹¦ä¹Ÿæ˜¯å…¶ä»–åŒå­¦æ— æ³•ç†è§£å’Œæ„ŸåŒèº«å—çš„ã€‚&lt;/p&gt;

&lt;p&gt;å›å¤´å†çœ‹çœ‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ObjectiveC.~=&lt;/code&gt; è¿™ä¸ªè¿ç®—ç¬¦é‡è½½ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~=(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Bool&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å®šä¹‰åœ¨ ObjectiveC æ¨¡å—é‡Œï¼Œä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;import ObjectiveC&lt;/code&gt; å¯ä»¥åŠ è½½ã€‚è¿™ä¸ªæ¨¡å—æ˜¯ Swift åˆ° Objective-C çš„ä¸€äº›æ˜ å°„æ¨¡å—ï¼ŒåŸºç¡€çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; æ–¹æ³•è¿˜æœ‰ä¸€äº›è¿è¡Œæ—¶æ§åˆ¶å‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foundation&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Cocoa&lt;/code&gt; è¿™äº›éƒ½ä¼šåŠ è½½å®ƒï¼Œæ‰€ä»¥ç†è®ºä¸Šå†™åº”ç”¨çš„æ—¶å€™ä¸éœ€è¦æŒ‡å®šï¼Œåªè¦ä½ ç”¨åˆ°äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; å°±ä¸€å®šæœ‰å®ƒã€‚&lt;/p&gt;

&lt;p&gt;å®é™…ä¸Š WWDC æŸä¸€é›†é‡Œè®²åˆ°ï¼ˆå¿˜è®°äº†ï¼Œç­‰æˆ‘å†æ‰¾åˆ°ä¼šè¡¥ä¸Šï¼‰ï¼Œå¯¹æ¯” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; çš„æ—¶å€™ï¼ŒSwift ä¼šé€‰æ‹©è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isEqual&lt;/code&gt; æ–¹æ³•ã€‚æˆ‘ä»¬åæ±‡ç¼–éªŒè¯ä¸‹ã€‚ç®€å•åŠ ç‚¹æ³¨é‡Šã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-gas&quot;&gt;(lldb) dis -a 0x100003f20
asmtest`symbol stub for: ObjectiveC.~= @infix (ObjectiveC.NSObject, ObjectiveC.NSObject) -&amp;gt; Swift.Bool:
   0x100003f20:  jmpq   *0x1252(%rip)             ; (void *)0x00000001000e88d0: ObjectiveC.~= @infix (ObjectiveC.NSObject, ObjectiveC.NSObject) -&amp;gt; Swift.Bool
(lldb) dis -a 0x00000001000e88d0
libswiftObjectiveC.dylib`ObjectiveC.~= @infix (ObjectiveC.NSObject, ObjectiveC.NSObject) -&amp;gt; Swift.Bool:
   0x1000e88d0:  pushq  %rbp
   0x1000e88d1:  movq   %rsp, %rbp
   0x1000e88d4:  pushq  %r15
   0x1000e88d6:  pushq  %r14
   0x1000e88d8:  pushq  %rbx
   0x1000e88d9:  pushq  %rax
   ; 64ä½ å¯„å­˜å™¨ä¼ å‚
   0x1000e88da:  movq   %rsi, %rbx
   0x1000e88dd:  movq   %rdi, %r14
   0x1000e88e0:  movq   0x3da1(%rip), %rsi        ; &quot;isEqual:&quot;
   0x1000e88e7:  movq   %rbx, %rdx
   0x1000e88ea:  callq  0x1000eb670               ; symbol stub for: objc_msgSend
   ; æµ‹è¯• isEqual: è°ƒç”¨çš„è¿”å›å€¼ï¼Œå­˜åˆ° %r16b
   0x1000e88ef:  testb  %al, %al
   0x1000e88f1:  setne  %r15b
   0x1000e88f5:  movq   %rbx, %rdi
   0x1000e88f8:  callq  0x1000eb676               ; symbol stub for: objc_release
   0x1000e88fd:  movq   %r14, %rdi
   0x1000e8900:  callq  0x1000eb676               ; symbol stub for: objc_release
   ; æœ¬è¿ç®—ç¬¦å‡½æ•°è¿”å›å€¼
   0x1000e8905:  movb   %r15b, %al
   0x1000e8908:  addq   $0x8, %rsp
   0x1000e890c:  popq   %rbx
   0x1000e890d:  popq   %r14
   0x1000e890f:  popq   %r15
   0x1000e8911:  popq   %rbp
   0x1000e8912:  retq
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å•§å•§ï¼Œ Instruction Pointer Relative Addressing ç”¨çš„é£èµ·ã€‚ 64 ä½åå­—ä¹Ÿç‰¹å¥½å¬ã€‚ RIP ã€‚ å¯¹äº†ï¼Œ MacOSX ä¸‹éƒ½æ˜¯ PIC ä½ç½®æ— å…³ä»£ç ã€‚&lt;/p&gt;

&lt;p&gt;ä»ä¸Šé¢çœ‹ï¼Œæœç„¶æ˜¯è°ƒç”¨äº† Objective-C çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isEqual:&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Swift çš„ç¼–è¯‘å™¨ä¼šæ ¹æ®å¤§èŒƒå›´çš„ä»£ç æ¨å¯¼ç±»å‹ï¼Œéå† AST ç„¶åç”¨æ ‘æˆ–è€…å›¾ç®—æ³•å¡«å……æœªæŒ‡å®šçš„ç±»å‹
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;c&quot;&lt;/code&gt; å¯ä»¥æ˜¯ä»»æ„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ExtendedGraphemeClusterLiteralConvertible&lt;/code&gt; ç±»å‹ï¼ŒåŒ…æ‹¬ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CString&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;UnicodeScalar&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StaticString&lt;/code&gt; ç­‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;swith case è¯­å¥ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; è¿ç®—ç¬¦æ‰§è¡ŒåŒ¹é…æ“ä½œ
    &lt;ul&gt;
      &lt;li&gt;é Foundation ç¯å¢ƒä¸‹ï¼Œç›¸å½“äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt; è¿ç®—ç¬¦&lt;/li&gt;
      &lt;li&gt;åœ¨ Foundation ç¯å¢ƒä¸‹ï¼Œå¦‚æœæ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; åŠå…¶å­ç±»ï¼Œç›¸å½“äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isEqual:&lt;/code&gt; æ–¹æ³•&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a..b&lt;/code&gt; è¿™æ ·çš„åŒ¹é…ä¹Ÿæ˜¯é€šè¿‡ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~=&lt;/code&gt; è¿ç®—ç¬¦å®ç°ï¼Œä¹Ÿå¯ä»¥é‡è½½åè‡ªå®šä¹‰&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;åœ¨ Foundation ç¯å¢ƒä¸‹ï¼Œéšå¼ç±»å‹è½¬æ¢éåœ°éƒ½æ˜¯&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;æ•™è®­&quot;&gt;æ•™è®­&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;çœŸç”¨åˆ°å­—ç¬¦ç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Character&lt;/code&gt; çš„æ—¶å€™ï¼Œè¿˜æ˜¯æ˜¾å¼æŒ‡å®šå§&lt;/li&gt;
  &lt;li&gt;éœ€è¦é¢å¤–æ³¨æ„èƒ½éšå¼ç±»å‹è½¬æ¢åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSObject&lt;/code&gt; çš„å‡ ä¸ªç±»å‹ï¼Œé¿å…éé¢„æœŸè¡Œä¸º&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Apple Inc. â€œThe Swift Programming Languageâ€ã€‚ iBooks. https://itun.es/cn/jEUH0.l&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/08/swift-implicit-type-cast/&quot;&gt;éšå¼ç±»å‹è½¬æ¢&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;WWDC æŸé›†è®²åˆ°çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;isEqual:&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">æœ¬æ–‡æ­£å¼æ ‡é¢˜æ˜¯ï¼šç®€æ Swift ä¸­çš„ Pattern Match</summary></entry><entry><title type="html">Swift NSError Internalsï¼ˆè§£æ Swift å¯¹ NSError æ“ä½œï¼‰</title><link href="https://andelf.github.io/blog/2014/06/16/swift-nserror-internals/" rel="alternate" type="text/html" title="Swift NSError Internalsï¼ˆè§£æ Swift å¯¹ NSError æ“ä½œï¼‰" /><published>2014-06-16T14:45:15+08:00</published><updated>2014-06-16T14:45:15+08:00</updated><id>https://andelf.github.io/blog/2014/06/16/swift-nserror-internals</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/16/swift-nserror-internals/">&lt;p&gt;å£°æ˜ï¼š åŸåˆ›å‘ç°ï¼ŒåŸåˆ›å†…å®¹ã€‚è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina . &lt;a href=&quot;http://weibo.com/234632333&quot;&gt;weibo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å…¶ä¸­åŸºç¡€éƒ¨åˆ†å€Ÿé‰´äº† WWDC 407 éƒ¨åˆ†çš„ä»‹ç»ã€‚&lt;/p&gt;

&lt;p&gt;ç›¸å…³çš„åˆ†æä¸»è¦åŸºäºæˆ‘ dump å‡ºçš„ Swift æ ‡å‡†åº“å£°æ˜ä»£ç ï¼Œä½äº &lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;ã€‚&lt;/p&gt;

&lt;h2 id=&quot;å¼•å­&quot;&gt;å¼•å­&lt;/h2&gt;

&lt;p&gt;WWDC 407 ä¸­ç®€å•æåˆ°äº† NSError åœ¨ Swift ä¸­çš„å¤„ç†æ–¹æ³•ï¼Œè¯´&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer is Swiftâ€™s version of NSError **&lt;/code&gt;ï¼Œå…¶ä¸­å¤§æ¦‚å†…å®¹æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Foundation çš„æ‰€æœ‰å‡½æ•°ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError **&lt;/code&gt; éƒ½è¢«å¯¹åº”ä¸º Swift ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; (è‡ªå®šä¹‰å‡½æ•°ä¹Ÿåº”å¦‚æ­¤)&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨æ—¶å€™ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼ï¼š
    &lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSError?&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;foobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;....&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;error:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;&amp;amp;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;è¿™é‡Œä¸€å®šè¦ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;var&lt;/code&gt;ï¼Œåªæœ‰ var æ‰æœ‰å¼•ç”¨çš„æ¦‚å¿µï¼Œæ‰å¯ä»¥ä½œä¸ºå·¦å€¼&lt;/li&gt;
  &lt;li&gt;å®šä¹‰æ—¶ï¼ˆé‡è½½ä¸€äº›å¸¦ NSError å‚æ•°çš„å‡½æ•°ï¼‰(æ³¨æ„å…¶ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.memory&lt;/code&gt; éƒ¨åˆ†ã€‚)ï¼š
    &lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;contentsForType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;typeName&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSErrorPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AnyObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;cannotProduceContentsForType&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;typeName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;nv&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;memory&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userInfo&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åˆ°è¿™é‡Œï¼ŒåŸºæœ¬æ€ä¹ˆåœ¨ Swift ä½¿ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; å·²ç»è¶³å¤Ÿäº†ã€‚ä½†æ˜¯æœ¬ç€æ¢ç©¶å¦ˆè›‹ Swift åˆ°åº•è—èµ·äº†å¤šå°‘é»‘é­”æ³•çš„ä¼Ÿ(er)å¤§(bi)ç²¾ç¥ï¼Œæˆ‘ç»§ç»­åˆ†æä¸‹è¿™é‡Œé¢çš„æ§½ç‚¹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¿™ä¸ç§‘å­¦&quot;&gt;è¿™ä¸ç§‘å­¦ï¼&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬çŸ¥é“ Swift æ˜¯å¼ºç±»å‹è¯­è¨€ã€‚ç±»å‹ä¸åŒæ€ä¹ˆèƒ½åœ¨ä¸€èµ·ï¼Ÿç›´æ¥å‡ºé”™æ‰å¯¹ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ä¹‹å‰æåˆ°è¿‡çš„â€œéšå¼ç±»å‹è½¬æ¢â€ï¼Œæ‰€ä»¥è¿™é‡Œæ¢ç´¢ä¸‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; çš„å…³ç³»ï¼Œåˆ°åº•æ˜¯å¦‚ä½•å®ç°äº† Objective-C ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError **&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;è€Œä¸”æœ‰ä¸€ä¸ªé€†å¤©çš„åœ°æ–¹æ˜¯ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; æ²¡æœ‰è¢«æ ‡è®°ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inout&lt;/code&gt;ï¼Œä½†ä¼ é€’å‚æ•°æ—¶å€™éœ€è¦ä¼ é€’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; çš„å¼•ç”¨ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ä¸Šä»£ç &quot;&gt;ä¸Šä»£ç &lt;/h2&gt;

&lt;p&gt;è¿™é‡Œç»™å‡º Swift ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt;ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; åŠç›¸å…³ç±»å‹çš„å£°æ˜ä»£ç ã€‚(éƒ¨åˆ†ï¼‰&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nd&quot;&gt;@objc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;NSError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSError&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSCopying&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSSecureCoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSCoding&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@objc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;initWithDomain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;code:userInfo:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userInfo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSDictionary!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@objc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errorWithDomain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;code:userInfo:&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;errorWithDomain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userInfo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dict&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;NSDictionary!&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@objc&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String!&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;@objc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;domain&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;@objc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;convenience&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;....&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;typealias&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;NSErrorPointer&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AutoreleasingUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nc&quot;&gt;NSError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&amp;gt;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AutoreleasingUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Equatable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LogicValue&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RawPointer&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
  &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;autoreleasingTemp&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AutoreleasingUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;_isNull&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;getLogicValue&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Bool&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memory&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;åˆ†æ&quot;&gt;åˆ†æ&lt;/h2&gt;

&lt;p&gt;ç”±ä»¥ä¸Šä»£ç å¯ä»¥çŸ¥é“ï¼Œ&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; å®é™…ä¸Šæ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;Optional&amp;lt;NSError&amp;gt;&amp;gt;&lt;/code&gt; ç±»å‹ï¼ˆè¿™é‡Œæˆ‘é¡ºä¾¿å±•å¼€äº† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type?&lt;/code&gt;ï¼‰ï¼Œ
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; å°è£…äº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt;ï¼Œå‘æŒ¥æƒ³è±¡åŠ›ï¼Œå·®ä¸å¤šçŸ¥é“å®ƒå°±æ˜¯ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;ï¼ŒæŒ‡å‘ç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼ŒæŒ‡å‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError?&lt;/code&gt;ã€‚&lt;/p&gt;

&lt;p&gt;ä¸€èˆ¬æƒ…å†µä¸‹ Swift çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError!&lt;/code&gt; è¢«ç”¨äºå¯¹åº” Objective-C çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError *&lt;/code&gt;ï¼Œ ä¸€å±‚æŒ‡é’ˆï¼Œå¯ nil. æ‰€ä»¥è¿™é‡Œï¼Œä¸¤å±‚æŒ‡é’ˆç®—æ˜¯å¯¹åº”ä¸Šäº†ï¼ˆä¸€å±‚ RawPointer, ä¸€å±‚é è¯­è¨€æœ¬èº«çš„ç‰¹æ€§å®ç°ï¼Œè¿™é‡Œæš‚æ—¶ä¸è€ƒè™‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type!&lt;/code&gt; å’Œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Type?&lt;/code&gt; çš„å·®å¼‚æ€§ï¼Œä½¿ç”¨æ—¶å€™å¤šæ³¨æ„å°±å¯ä»¥ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ç„¶åå°±æ˜¯æ£˜æ‰‹çš„é—®é¢˜ï¼Œè¿™é‡Œçš„ç±»å‹è½¬æ¢æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿè¿™é‡Œæ²¡æœ‰çœ‹åˆ°æ ‡å‡†çš„éšå¼ç±»å‹è½¬æ¢ã€‚ä½†æ˜¯æœ‰ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion*&lt;/code&gt; ä¸€ç³»åˆ— static å‡½æ•°ã€‚åº”è¯¥æ˜¯ä»–ä»¬èµ·åˆ°äº†è½¬æ¢çš„ä½œç”¨ï¼ˆå†æ¬¡è¯´æ˜ï¼ŒSwift æ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œæ‰€ä»¥å¿…ç„¶è¿™æ ·çš„ç‰¹æ€§æœ‰é»‘é­”æ³•ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ä»åå­—å’Œæ ‡å‡†åº“çš„å®šä¹‰çœ‹ï¼Œè¿™ä¸‰ä¸ªå‡½æ•°åº”è¯¥æ˜¯åŒæ—¶èµ·ä½œç”¨ï¼Œç”¨äºè¡¨è¿°ä¸‰ä¸ªç±»å‹çš„å…³è”å…³ç³»ã€‚æˆ‘å†™äº†ä¸ªä¾‹å­ã€‚&lt;/p&gt;

&lt;h3 id=&quot;ç¤ºä¾‹ä»£ç &quot;&gt;ç¤ºä¾‹ä»£ç &lt;/h3&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Foobar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;val:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Int&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;location 1&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;toInt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;location 2&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@transparent&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Foobar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;location 3&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Foobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;val:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;test_foobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;Foobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;dump&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;test_foobar&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;9527&quot;&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;test_foobar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;dump&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å¦‚ä¸Šï¼Œä»£ç è¾“å‡ºæ˜¯ï¼š&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;location 1
location 3
â–¿ dump from test_foobar: V5trans6Foobar (has 1 child)
  - val: 9527
location 2
- word: 19527
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™ä¸‰ä¸ªå‡½æ•°åœ¨ä¸€æ¬¡éšå¼è°ƒç”¨ä¸­ï¼Œå…¨éƒ¨éƒ½ç”¨åˆ°äº†ï¼Œè°ƒç”¨é¡ºåºå¦‚ä¸Šã€‚çœ‹èµ·æ¥éšè—åœ¨èƒŒåçš„å…³ç³»æ˜äº†äº†ä¸€äº›ï¼Œæµç¨‹å¤§æ¦‚æ˜¯ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;word&lt;/code&gt; è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foobar.__writeback_conversion_get&lt;/code&gt;ï¼Œè·å¾—ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Int&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Int&lt;/code&gt; è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foobar.__writeback_conversion&lt;/code&gt;ï¼Œæ„é€ äº†ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foobar&lt;/code&gt; å¯¹è±¡&lt;/li&gt;
  &lt;li&gt;å°† &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foobar&lt;/code&gt; äº¤ç»™ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test_foobar&lt;/code&gt; å‡½æ•°å†…éƒ¨å¤„ç†&lt;/li&gt;
  &lt;li&gt;å‡½æ•°é€»è¾‘ç»“æŸåï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foobar.__writeback_conversion_set&lt;/code&gt;ï¼Œè·å¾—å­—ç¬¦ä¸²ï¼Œèµ‹å€¼ç»™ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;word&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘è¿”å›åˆ° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; è¯´ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å›åˆ°-nserror-è¯´&quot;&gt;å›åˆ° NSError è¯´&lt;/h3&gt;

&lt;p&gt;æœ€ç®€åˆ èŠ‚ç‰ˆä»£ç ï¼š&lt;/p&gt;

&lt;div class=&quot;language-scala highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// T = NSError? = Optional&amp;lt;NSError&amp;gt;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AutoreleasingUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;RawPointer&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion_set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;__writeback_conversion&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;autoreleasingTemp&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;RawPointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;AutoreleasingUnsafePointer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;memory&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å½“ä¸€ä¸ªå‡½æ•°æ¥å— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; ä½œä¸ºå‚æ•°çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä¼ é€’ T çš„å¼•ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt;ï¼Œç„¶åæ•´ä¸ªæµç¨‹è‡ªåŠ¨è½¬æ¢ä¸º&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ç”¨è¯¥å¼•ç”¨å‚æ•°è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion_get&lt;/code&gt; è·å¾—ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion&lt;/code&gt; è·å¾—ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; å¯¹è±¡&lt;/li&gt;
  &lt;li&gt;å°†è¿™ä¸ªå¯¹è±¡äº¤ç»™å‡½æ•°å†…éƒ¨å¤„é‡Œï¼Œè°ƒç”¨ç›¸å…³æ–¹æ³•&lt;/li&gt;
  &lt;li&gt;å‡½æ•°è¿”å›æ—¶ï¼Œè°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion_set&lt;/code&gt;ï¼Œç„¶åå°†ç»“æœèµ‹å€¼ç»™ä¸€å¼€å§‹çš„å¼•ç”¨å‚æ•°ï¼Œç±»å‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; çš„é‚£ä¸ªã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¦‚æœæ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError&lt;/code&gt; çš„æƒ…å†µ, æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æŸåº“å‡½æ•°æ¥å— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; ä½œä¸ºå‚æ•°ï¼Œæˆ‘ä»¬ç›´æ¥ä¼ é€’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError?&lt;/code&gt; çš„å¼•ç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;error&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;error&lt;/code&gt; ä½œä¸ºå‚æ•°è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion_get&lt;/code&gt;ï¼Œ è·å¾— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;ç”¨è¿™ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion&lt;/code&gt;ï¼Œè·å¾—ä¸€ä¸ª &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; å¯¹è±¡&lt;/li&gt;
  &lt;li&gt;å‡½æ•°è¿›è¡Œç›¸å…³å¤„ç†ã€‚å¯¹äº NSError æ¥è¯´ï¼Œè¿™é‡Œä¸€èˆ¬æ˜¯ Foundation ä»£ç æˆ–è€…æ˜¯ override åçš„ä»£ç ï¼Œåœ¨å‡ºé”™æˆ–è€…å¼‚å¸¸æ—¶è®¿é—® &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.memory&lt;/code&gt;ï¼Œè®¾ç½®ç›¸åº”çš„é”™è¯¯&lt;/li&gt;
  &lt;li&gt;å‡½æ•°è¿”å›ã€‚ç”¨ä¹‹å‰çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; è°ƒç”¨ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;__writeback_conversion_set&lt;/code&gt;ï¼Œè·å¾— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSError?&lt;/code&gt; ç„¶åèµ‹å€¼ç»™å¼•ç”¨ error&lt;/li&gt;
  &lt;li&gt;æ¥ä¸‹æ¥ä»£ç ä¸­å¯ä»¥å¯¹ error è¿›è¡Œåˆ¤æ–­ï¼Œå¤„ç†å¼‚å¸¸&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å…¶ä¸­ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RawPointer&lt;/code&gt; ä¹‹å‰æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ï¼Œæ˜¯æŒ‡é’ˆï¼Œåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å€¼ä¸å˜ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ï¼Œå°±æ˜¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.memory&lt;/code&gt; å±æ€§æ“ä½œçš„éƒ¨åˆ†ï¼Œæ‰æ˜¯å¯å˜çš„éƒ¨åˆ†ï¼Œä¸å±äº &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AutoreleasingUnsafePointer&amp;lt;T&amp;gt;&lt;/code&gt; çš„æˆå‘˜è®¿é—®æ§åˆ¶èŒƒå›´ï¼Œæ‰€ä»¥è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå‡½æ•°å‚æ•°ä¸­çš„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSErrorPointer&lt;/code&gt; ä¸ºä»€ä¹ˆæ²¡æœ‰æ ‡è®°ä¸º &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;inout&lt;/code&gt; çš„åŸå› ã€‚&lt;/p&gt;

&lt;h2 id=&quot;æ€»ç»“&quot;&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;è¿™ä¸‰ä¸ª static å‡½æ•°åˆèµ·æ¥ç»„æˆäº†æ•´ä½“åŠŸèƒ½ã€‚æˆ‘è§‰å¾—å¯ä»¥æŠŠè¿™ä¸ªåŠŸèƒ½å«åšâ€œå¼•ç”¨çš„éšå¼ç±»å‹è½¬æ¢â€æˆ–è€…â€éšå¼å¼•ç”¨ç±»å‹è½¬æ¢â€ã€‚&lt;/p&gt;

&lt;p&gt;å½“ç„¶ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºç”¨éšè—äº†äºŒé‡æŒ‡é’ˆçš„ç»†èŠ‚ï¼ŒåŒæ—¶è¿™ä¸ªç‰¹æ€§ä¹Ÿå¯ä»¥æœ‰å…¶ä»–ä½œç”¨ã€‚æ¯”å¦‚ã€‚ã€‚ã€‚ï¼ˆæˆ‘æ²¡æƒ³å¥½ï¼‰&lt;/p&gt;

&lt;h2 id=&quot;å‚è€ƒæ–‡çŒ®&quot;&gt;å‚è€ƒæ–‡çŒ®&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;WWDC 407&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/andelf/Defines-Swift&quot;&gt;æˆ‘çš„ Github andelf/Defines-Swift&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://andelf.github.io/blog/2014/06/08/swift-implicit-type-cast/&quot;&gt;éšå¼ç±»å‹è½¬æ¢&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">å£°æ˜ï¼š åŸåˆ›å‘ç°ï¼ŒåŸåˆ›å†…å®¹ã€‚è½¬è½½æ³¨æ˜æˆ‘æˆ–è€… SwiftChina . weibo</summary></entry><entry><title type="html">Swift Runtime</title><link href="https://andelf.github.io/blog/2014/06/16/swift-runtime/" rel="alternate" type="text/html" title="Swift Runtime" /><published>2014-06-16T10:38:45+08:00</published><updated>2014-06-16T10:38:45+08:00</updated><id>https://andelf.github.io/blog/2014/06/16/swift-runtime</id><content type="html" xml:base="https://andelf.github.io/blog/2014/06/16/swift-runtime/">&lt;p&gt;Swift is written in C++ ã€Objective-Cã€Swiftã€ Assembly.&lt;/p&gt;

&lt;p&gt;TO BE CONTINUED&lt;/p&gt;

&lt;p&gt;libdyld.dylib`start&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;C_ARGC&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;once&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;C_ARGV&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;argv&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;top_level_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;All code in swift file goes to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;top_level_code&lt;/code&gt;ã€‚&lt;/p&gt;</content><author><name></name></author><category term="blog" /><category term="swift" /><summary type="html">Swift is written in C++ ã€Objective-Cã€Swiftã€ Assembly.</summary></entry></feed>