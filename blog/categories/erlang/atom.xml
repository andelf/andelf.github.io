<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Erlang | 猫·仁波切]]></title>
  <link href="http://andelf.github.io/blog/categories/erlang/atom.xml" rel="self"/>
  <link href="http://andelf.github.io/"/>
  <updated>2016-03-23T00:17:33+08:00</updated>
  <id>http://andelf.github.io/</id>
  <author>
    <name><![CDATA[猫·仁波切 (Feather)]]></name>
    <email><![CDATA[andelf@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Erlang 的一些好玩 Tips]]></title>
    <link href="http://andelf.github.io/blog/2013/11/21/erlang-tips/"/>
    <updated>2013-11-21T11:36:18+08:00</updated>
    <id>http://andelf.github.io/blog/2013/11/21/erlang-tips</id>
    <content type="html"><![CDATA[<p>可以模拟OO, 模块级别的继承.</p>

<pre><code>-extends(parent).
</code></pre>

<p>反编译 beam, 对加密过或者 hipe 的似乎无效.</p>

<pre><code class="erlang">{ok,{_,[{abstract_code,{_,AC}}]}} = beam_lib:chunks(Beam,[abstract_code]).
io:fwrite("~s~n", [erl_prettypr:format(erl_syntax:form_list(AC))]).
</code></pre>

<p>语句块, 比较少用到.</p>

<pre><code class="erlang">begin
   ...
end
</code></pre>

<p>Parameterised Modules 参数化模块, 也是模拟 OO 的.
很多 web 框架都这么用, 不过这货在 R16 被去掉了, 也是&hellip; 其实挺恶心.</p>

<pre><code>-module(xxx, [Arg1, Arg2]).
</code></pre>

<p>Stateful Modules, 用于替换 Parameterised Modules. 将模块和对应状态保存在 tuple 里,
看起来像是调用某一对象的方法一样.</p>

<pre><code>X = {Mod, P1, P2, ..., Pn},
X:Func(A1, A2, ..., An).
%% 等价于
Mod:Func(A1, A2, ..., An, X).
</code></pre>

<p>所以 web 框架就转为使用这个特性了, 看起来很无害而且不反 FP.</p>
]]></content>
  </entry>
  
</feed>
